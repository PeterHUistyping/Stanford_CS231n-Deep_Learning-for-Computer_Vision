/*! v3438 undefined */var __webpack_modules__={2328:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DATA_NODE_KEY=e.MONITORING_TAG_ON_TOP_LEVEL_KEY=e.TRACKING_RATE_KEY=e.TRACKING_EVENT_CATEGORY=e.TRACKING_BASE_URL=e.MAX_WINDOW_DEPTH=void 0,e.MAX_WINDOW_DEPTH=20,e.TRACKING_BASE_URL="https://vtrk.doubleverify.com",e.TRACKING_EVENT_CATEGORY="data-transparency",e.TRACKING_RATE_KEY="dv-data-transparency-tracking-rate",e.MONITORING_TAG_ON_TOP_LEVEL_KEY="dv-data-transparency-top-level-monitoring",e.DATA_NODE_KEY="dv-data-transparency-data-node"},9522:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;var n=function(){function t(){this.container={}}return Object.defineProperty(t.prototype,"size",{get:function(){return Object.keys(this.container).length},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.size},t.prototype.clear=function(){this.container={}},t.prototype.get=function(t){if(void 0===this.container[t])throw new Error("undefined container item: "+t);return this.container[t]},t.prototype.set=function(t,e){if(void 0===e)throw new Error("cannot store undefined in container: "+t);this.container[t]=e},t}();e.Container=n},443:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.coverageToBitFlag=void 0;e.coverageToBitFlag=function(t){return(t.sellerPageTag?1:0)|(t.sellerMonitoringTag?2:0)|(t.buyerMonitoringTag?4:0)}},1064:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getAncestorWindows=void 0;var r=n(2328),i=function(t,e,n,r){if(!(n>=r||t===t.top)){var o=t.parent;o!==t&&(e.unshift(o),i(o,e,n+1,r))}};e.getAncestorWindows=function(t,e){void 0===e&&(e=r.MAX_WINDOW_DEPTH);var n=[];try{i(t,n,0,e)}catch(t){}return n}},1665:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCorrespondentWindow=void 0;var r=n(1064);e.getCorrespondentWindow=function(t,e){var n=(0,r.getAncestorWindows)(t);return n.length===e?t:n.length>e?n[e]:null}},6172:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCurrentTimestamp=void 0;e.getCurrentTimestamp=function(){var t,e;try{return null!==(e=null===(t=null===Date||void 0===Date?void 0:Date.now)||void 0===t?void 0:t.call(Date))&&void 0!==e?e:0}catch(t){}return 0}},8839:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDescendantWindows=void 0;var r=n(2328),i=function(t,e,n,r){if(!(n>=r))for(var o=0;o<t.length;o++){var a=t[o];e.push(a),i(a,e,n+1,r)}};e.getDescendantWindows=function(t,e){void 0===e&&(e=r.MAX_WINDOW_DEPTH);var n=[];try{i(t,n,0,e)}catch(t){}return n}},135:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.validateWindow=e.getDescendantWindows=e.getCurrentTimestamp=e.getCorrespondentWindow=e.getAncestorWindows=e.coverageToBitFlag=e.Container=void 0,i(n(2328),e);var o=n(9522);Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return o.Container}});var a=n(443);Object.defineProperty(e,"coverageToBitFlag",{enumerable:!0,get:function(){return a.coverageToBitFlag}});var s=n(1064);Object.defineProperty(e,"getAncestorWindows",{enumerable:!0,get:function(){return s.getAncestorWindows}});var d=n(1665);Object.defineProperty(e,"getCorrespondentWindow",{enumerable:!0,get:function(){return d.getCorrespondentWindow}});var p=n(6172);Object.defineProperty(e,"getCurrentTimestamp",{enumerable:!0,get:function(){return p.getCurrentTimestamp}});var c=n(8839);Object.defineProperty(e,"getDescendantWindows",{enumerable:!0,get:function(){return c.getDescendantWindows}});var u=n(7924);Object.defineProperty(e,"validateWindow",{enumerable:!0,get:function(){return u.validateWindow}})},7924:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateWindow=void 0;e.validateWindow=function(t){try{return null!=t&&null!=t.top&&null!=t.parent&&null!=t.length&&t.window===t&&"function"==typeof t.postMessage}catch(t){return!1}}},6777:function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.DataNode=void 0;var a=n(135),s=n(6240),d=n(2749),p=n(4419),c=function(){function t(t,e){void 0===e&&(e=!1),this.sharedState=(0,p.getEmptyState)(),this.correspondents=[],this.localTagSubscriptions=[],this.dispatchMessageListeners=[],this.hostWindow=t,this.hostWindowDepth=(0,a.getAncestorWindows)(this.hostWindow).length,this.hubWindow=this.hostWindow,this.hubWindowDepth=this.hostWindowDepth,this.broadcastingDisabled=e}return Object.defineProperty(t.prototype,"depth",{get:function(){return this.hostWindowDepth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onDispatchMessage",{set:function(t){this.dispatchMessageListeners.push(t)},enumerable:!1,configurable:!0}),t.prototype.isHub=function(){return this.hubWindow===this.hostWindow},t.prototype.isAllowedToCorrespond=function(){return this.localTagSubscriptions.length>0},t.prototype.mergeState=function(t){var e=(0,s.updateSharedState)(this.sharedState,t),n=e.newState,r=e.stateWasUpdated,i=e.inputWasIncomplete;return this.sharedState=n,{stateWasUpdated:r,inputWasIncomplete:i}},t.prototype.composeMessage=function(t){return void 0===t&&(t=!1),{sharedState:(0,d.copyState)(this.sharedState),source:{windowDepth:this.hostWindowDepth,canBecomeHub:!0,responseRequired:t}}},t.prototype.registerCorrespondent=function(t,e,n){t===this.hostWindow||this.correspondents.includes(t)||(this.correspondents.push(t),n&&(null==this.hubWindow||e<this.hubWindowDepth)&&(this.hubWindow=t,this.hubWindowDepth=e))},t.prototype.dispatchMessage=function(t,e){var n,i,o,s;if(0!==e.length){var d={command:"data-transparency-update",payload:t,timestamp:(0,a.getCurrentTimestamp)()};try{for(var p=r(e),c=p.next();!c.done;c=p.next()){var u=c.value;try{u.postMessage(d,"*")}catch(t){}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}try{for(var l=r(this.dispatchMessageListeners),v=l.next();!v.done;v=l.next()){(0,v.value)(d,e)}}catch(t){o={error:t}}finally{try{v&&!v.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}}},t.prototype.notifyLocalTags=function(){var t,e;try{for(var n=r(this.localTagSubscriptions),i=n.next();!i.done;i=n.next()){(0,i.value)(this.sharedState)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.notifyAllowedCorrespondents=function(t){if(this.isAllowedToCorrespond()){var e=[];this.isHub()?e.push.apply(e,o([],i(this.correspondents.filter((function(e){return e!==t}))),!1)):this.hubWindow!==t&&e.push(this.hubWindow),this.dispatchMessage(this.composeMessage(),e)}},t.prototype.notifyCorrespondent=function(t){this.isAllowedToCorrespond()&&this.dispatchMessage(this.composeMessage(),[t])},t.prototype.broadCastState=function(){var t=this;if(!this.broadcastingDisabled&&this.isAllowedToCorrespond())if(this.notifyAllowedCorrespondents(),this.isHub())this.dispatchMessage(this.composeMessage(!0),o(o([],i((0,a.getAncestorWindows)(this.hostWindow)),!1),i((0,a.getDescendantWindows)(this.hostWindow)),!1).filter((function(e){return!t.correspondents.includes(e)})));else{var e=(0,a.getAncestorWindows)(this.hubWindow);e.length>0&&this.dispatchMessage(this.composeMessage(!0),e)}},t.prototype.ingestMessageFromCorrespondent=function(t,e){var n=t.sharedState,r=t.source,i=(0,a.getCorrespondentWindow)(e,r.windowDepth);if(null!=i){this.registerCorrespondent(i,r.windowDepth,r.canBecomeHub);var o=this.mergeState(n),s=o.stateWasUpdated,d=o.inputWasIncomplete;s&&(this.notifyLocalTags(),this.isHub()&&this.notifyAllowedCorrespondents(i));var p=this.isHub()&&d,c=this.isHub()&&r.responseRequired,u=i===this.hubWindow&&r.responseRequired;(p||c||u)&&this.notifyCorrespondent(i)}},t.prototype.registerLocalTagAndSubscribe=function(t,e){void 0===e&&(e=function(){});var n=this.mergeState(t).stateWasUpdated,r=0===this.localTagSubscriptions.length;this.localTagSubscriptions.includes(e)||this.localTagSubscriptions.push(e),n?this.notifyLocalTags():e(this.sharedState),r?this.broadCastState():n&&this.notifyAllowedCorrespondents()},t}();e.DataNode=c},4614:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(6777),e),i(n(8119),e),i(n(6240),e),i(n(3665),e)},8119:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},457:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareLinkingPriority=void 0;e.compareLinkingPriority=function(t,e){return t.sharedId===e.sharedId?0:null==t.sharedId?2:null==e.sharedId?1:t.depth>e.depth?2:t.depth<e.depth?1:t.sharedId>e.sharedId?2:1}},5208:function(t,e){"use strict";var n=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.compareRecordPriority=void 0;e.compareRecordPriority=function(t,e,r){return null!=t&&null!=e?function(t,e){return Object.entries(t).every((function(t){var r=n(t,2),i=r[0],o=r[1];return e[i]===o}))}(t,e)?0:r:null==t&&null==e?0:null==e?1:2}},6240:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateSharedState=void 0;var r=n(4554);Object.defineProperty(e,"updateSharedState",{enumerable:!0,get:function(){return r.updateSharedState}})},4554:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)},i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.updateSharedState=void 0;var o=n(2749),a=n(457),s=n(5208);e.updateSharedState=function(t,e){var n,d,p={newState:(0,o.copyState)(t),stateWasUpdated:!1,inputWasIncomplete:!1},c=(0,a.compareLinkingPriority)(t.linking,e.linking);2===c?(p.stateWasUpdated=!0,p.newState.linking=r({},e.linking)):1===c&&(p.inputWasIncomplete=!0);try{for(var u=i(Object.keys(t.coverage)),l=u.next();!l.done;l=u.next()){var v=l.value;e.coverage[v]?t.coverage[v]||(p.stateWasUpdated=!0,p.newState.coverage[v]=!0):t.coverage[v]&&(p.inputWasIncomplete=!0)}}catch(t){n={error:t}}finally{try{l&&!l.done&&(d=u.return)&&d.call(u)}finally{if(n)throw n.error}}var f=(0,s.compareRecordPriority)(t.visit,e.visit,c);2===f?(p.stateWasUpdated=!0,p.newState.visit=r({},e.visit)):1===f&&(p.inputWasIncomplete=!0);var h=(0,s.compareRecordPriority)(t.sellerDimensions,e.sellerDimensions,c);return 2===h?(p.stateWasUpdated=!0,p.newState.sellerDimensions=r({},e.sellerDimensions)):1===h&&(p.inputWasIncomplete=!0),p}},2749:function(t,e){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.copyState=void 0;e.copyState=function(t){var e={linking:n({},t.linking),coverage:n({},t.coverage)};return null!=t.visit&&(e.visit=n({},t.visit)),null!=t.sellerDimensions&&(e.sellerDimensions=n({},t.sellerDimensions)),e}},4419:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEmptyState=void 0;var r=n(135);e.getEmptyState=function(){return{linking:{sharedId:null,depth:0,timestamp:(0,r.getCurrentTimestamp)()},coverage:{sellerPageTag:!1,sellerMonitoringTag:!1,buyerMonitoringTag:!1}}}},3665:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateSharedState=e.validateMessageData=void 0;var r=n(5571);Object.defineProperty(e,"validateMessageData",{enumerable:!0,get:function(){return r.validateMessageData}});var i=n(1149);Object.defineProperty(e,"validateSharedState",{enumerable:!0,get:function(){return i.validateSharedState}})},5571:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateMessageData=void 0;var r=n(1149);e.validateMessageData=function(t){var e=t.command,n=t.payload,i=t.timestamp;if("data-transparency-update"!==e||null==n||"number"!=typeof i)return!1;var o=n.sharedState,a=n.source;return null!=o&&(0,r.validateSharedState)(o)&&(null==a||"number"==typeof a.windowDepth&&"boolean"==typeof a.responseRequired)}},1149:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateSharedState=void 0;e.validateSharedState=function(t){return null!=t.linking&&(null==t.linking.sharedId||"string"==typeof t.linking.sharedId)&&"number"==typeof t.linking.depth&&"number"==typeof t.linking.timestamp&&null!=t.coverage&&"boolean"==typeof t.coverage.sellerPageTag&&"boolean"==typeof t.coverage.sellerMonitoringTag&&"boolean"==typeof t.coverage.buyerMonitoringTag&&(null==t.visit||"string"==typeof t.visit.pageUrl&&"string"==typeof t.visit.userAgent)&&(null==t.sellerDimensions||Object.values(t.sellerDimensions).every((function(t){return"string"==typeof t})))}},659:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.subscribe=e.initialize=e.coverageToBitFlag=void 0;var r=n(135),i=n(4614),o=n(422),a=n(135);Object.defineProperty(e,"coverageToBitFlag",{enumerable:!0,get:function(){return a.coverageToBitFlag}});e.initialize=function(t){try{(0,o.maybeInitializeDataNode)(t)}catch(t){}};e.subscribe=function(t,e,n){var a;try{a=(0,o.maybeInitializeDataNode)(t)}catch(t){return}if(null!=a){var s={linking:{sharedId:n.impressionId,depth:a.depth,timestamp:(0,r.getCurrentTimestamp)()},coverage:{sellerPageTag:!1,sellerMonitoringTag:n.isSellerTag,buyerMonitoringTag:!n.isSellerTag},sellerDimensions:n.sellerDimensions};try{(0,i.validateSharedState)(s)&&a.registerLocalTagAndSubscribe(s,e)}catch(t){}}}},422:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.maybeInitializeDataNode=void 0;var r,i=n(135),o=n(4614),a=n(8266),s=(r=!1,function(t){if(!r){r=!0;try{var e=t[i.MONITORING_TAG_ON_TOP_LEVEL_KEY];null!=e&&e()}catch(t){}}});e.maybeInitializeDataNode=function(t){if(!(0,i.validateWindow)(t))return null;if(t===t.top)return s(t),null;var e=t[i.DATA_NODE_KEY];return null==e&&(e=new o.DataNode(t),(0,a.setMessageListener)(t,e),t[i.DATA_NODE_KEY]=e),e}},8266:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMessageListener=void 0;var r=n(135),i=n(4614);e.setMessageListener=function(t,e){try{t.addEventListener("message",(function(t){(0,r.validateWindow)(t.source)&&(0,i.validateMessageData)(t.data)&&e.ingestMessageFromCorrespondent(t.data.payload,t.source)}))}catch(t){}}},3706:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseAdLocator=void 0;var r=n(652),i=n(7526),o=n(5191),a=n(6089),s=n(8245),d=n(708),p=n(7258),c=n(4472),u=function(){function t(t,e){void 0===e&&(e=500),this.numOfTries=t,this.interval=e,this.isSupported()&&(r.EventBus.addEventListener(r.DvEvent.adSelected,this.handleAdSelected.bind(this)),r.EventBus.addEventListener(r.DvEvent.impressionServed,this.handleAdLocatorLatency.bind(this)))}return t.prototype.reportAdNotLocated=function(){},t.prototype.handleAdLocatorLatency=function(){p.DvTagDataObject.getTagType()==i.DvTagType.Display&&(c.DvObject.getIsReducedAdLocatorLatency()&&(this.interval=100,this.numOfTries*=10))},t.prototype.start=function(){var t=this;try{if(this.isSupported()){this.numOfTries--;var e=this.getAds();e&&e.length?e.forEach((function(e){e.supportedDeliveryType=t.getSupportedDeliveryType(),e.priority=t.getPriority(e),e.locatorMethods=t.getMethod(),e.windowElement=o.WindowAdaptor.getDefaultWindow(e.domElement)||o.WindowAdaptor.workingWindow(),r.EventBus.dispatchEvent(r.DvEvent.adCandidateLocated,new s.AdCandidateEventData(e))})):this.numOfTries>0?this.tryGetAds():0==this.numOfTries&&this.reportAdNotLocated()}}catch(t){d.MessageHandler.sendError(i.ClientErrorType.AdLocationError,t)}},t.prototype.tryGetAds=function(){var t=this;this.timeoutReference=a.BrowserAdaptor.setTimeout((function(){t.start()}),this.interval)},t.prototype.handleAdSelected=function(){this.timeoutReference&&a.BrowserAdaptor.clearTimeout(this.timeoutReference)},t}();e.BaseAdLocator=u},3387:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.PassMinimumAdSize=void 0;var r=n(6089),i=function(){function t(){this.minAdWidth=20,this.minAdHeight=20}return t.prototype.validate=function(t){var e=!1;if(t){var n=r.BrowserAdaptor.getElementSize(t);n&&n.height>this.minAdHeight&&n.width>this.minAdWidth&&(e=!0)}return e},t}();e.PassMinimumAdSize=i},373:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SellerAdSizeValidator=void 0;var r=n(7258),i=n(6089),o=function(){function t(){this.adSizeAcceptedMistake=15,this.adSize=r.DvTagDataObject.getSellerAdSize()}return t.prototype.validate=function(t){var e=!1;if(t&&r.DvTagDataObject.isSellerTag()&&this.adSize.width&&this.adSize.height){var n=i.BrowserAdaptor.getElementSize(t);n&&n.width-this.adSize.width>=-this.adSizeAcceptedMistake&&n.height-this.adSize.height>=-this.adSizeAcceptedMistake&&(e=!0)}return e},t}();e.SellerAdSizeValidator=o},5681:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CeltraBaseAdLocator=void 0;var o=n(2495),a=n(4630),s=n(652),d=n(8245),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.celtraAdServerId="179",e.selectionDelayed=!1,e}return i(e,t),e.prototype.getAds=function(){var t=this.getScanner().scan(this.getValidator());t.some((function(t){return!t.isFullyLoaded}))&&!this.selectionDelayed&&(this.selectionDelayed=!0,s.EventBus.dispatchEvent(s.DvEvent.reserveAdLocator,new d.ReserveAdLocatorData(this.getPriority()))),t=t.filter((function(t){return!!t.domElement}));var e=this.filterByAdsValidators(t);return this.mapDomAdsDataToAdCandidates(e)},e.prototype.transformToAdElement=function(e){var n=t.prototype.transformToAdElement.call(this,e);return n.celtraTagSearchMethod=e.celtraTagSearchMethod,n},e.prototype.getValidator=function(){return new o.CeltraValidator},e}(a.DisplayBaseAdLocator);e.CeltraBaseAdLocator=p},1650:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Cm360AdLocator=void 0;var o=n(7258),a=n(4630),s=n(7526),d=n(9371),p=n(708),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attributeName="data-doubleverify-container",e.attributeValueLookedUp=!1,e}return i(e,t),e.prototype.getScanner=function(){if(this.findAttribute())return new d.GetElementByID(this.attributeValue)},e.prototype.getValidator=function(){return null},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)&&o.DvTagDataObject.getIsCm360CreativeWrapping()&&!!this.findAttribute()},e.prototype.findAttribute=function(){return void 0===this.attributeValueLookedUp||this.attributeValueLookedUp||(this.attributeValue=o.DvTagDataObject.getValueOfTagAttribute(this.attributeName),this.attributeValueLookedUp=!0,this.attributeValue||p.MessageHandler.sendMessage({dvp_atali:1})),this.attributeValue},e.prototype.getPriority=function(t){return 4e5},e.prototype.getMethod=function(){return s.LocatorMethods.DisplayCm360},e.prototype.reportAdNotLocated=function(){p.MessageHandler.sendMessage({dvp_atali:2})},e}(a.DisplayBaseAdLocator);e.Cm360AdLocator=c},462:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomMediaplexAdLocator=void 0;var o=n(4630),a=n(1837),s=n(7258),d=n(7526),p=n(7122),c=n(708),u=function(t){function e(){var e=t.call(this)||this;return e.mediaplexAdServerId="8",c.MessageHandler.sendMessage({dvp_ealmp:1}),e}return i(e,t),e.prototype.getScanner=function(){return p.CustomGetElementsByTagNameSingleton},e.prototype.getValidator=function(){return new a.MediaplexValidator(s.DvTagDataObject.getBtreg(),s.DvTagDataObject.getBtadsrv())},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)&&s.DvTagDataObject.getAdServerId()==this.mediaplexAdServerId},e.prototype.getPriority=function(t){return 1e4-(t.depth||0)},e.prototype.getMethod=function(){return d.LocatorMethods.CustomDisplayMediaPlex},e}(o.DisplayBaseAdLocator);e.CustomMediaplexAdLocator=u},9558:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomRegexAdLocator=void 0;var o=n(7258),a=n(515),s=n(4630),d=n(7526),p=n(7122),c=n(708),u=function(t){function e(){var e=t.call(this)||this;return c.MessageHandler.sendMessage({dvp_ealrgx:1}),e}return i(e,t),e.prototype.getScanner=function(){return p.CustomGetElementsByTagNameSingleton},e.prototype.getValidator=function(){return new a.BtregValidator(o.DvTagDataObject.getBtreg(),o.DvTagDataObject.getBtadsrv())},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)&&!!o.DvTagDataObject.getBtreg()},e.prototype.getPriority=function(t){return 1e3-(t.depth||0)},e.prototype.getMethod=function(){return d.LocatorMethods.CustomDisplayRegex},e}(s.DisplayBaseAdLocator);e.CustomRegexAdLocator=u},8495:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomSellerAdLocator=void 0;var o=n(4630),a=n(515),s=n(7258),d=n(7526),p=n(373),c=n(652),u=n(8245),l=n(7122),v=n(708),f=function(t){function e(){var e=t.call(this)||this;return v.MessageHandler.sendMessage({dvp_ealslr:1}),e}return i(e,t),e.prototype.getScanner=function(){return l.CustomGetElementsByTagNameSingleton},e.prototype.getValidator=function(){return new a.BtregValidator(s.DvTagDataObject.getBtreg(),s.DvTagDataObject.getBtadsrv())},e.prototype.isSupported=function(){var e=t.prototype.isSupported.call(this)&&s.DvTagDataObject.isSellerTag()&&!!s.DvTagDataObject.getBtreg();return e&&!this.delayEventSent&&(c.EventBus.dispatchEvent(c.DvEvent.delayAdSelection,new u.DelayTimerData(3100)),this.delayEventSent=!0),e},e.prototype.getPriority=function(t){return 1e5},e.prototype.getMethod=function(){return d.LocatorMethods.CustomDisplaySellerTag},e.prototype.getAds=function(){var e=new p.SellerAdSizeValidator;return t.prototype.getAds.call(this).filter((function(t){return e.validate(t.domElement)}))},e}(o.DisplayBaseAdLocator);e.CustomSellerAdLocator=f},5413:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DfaAdLocator=void 0;var o=n(4630),a=n(4422),s=n(7258),d=n(7526),p=n(7122),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dfaAdServerId="1",e}return i(e,t),e.prototype.getScanner=function(){return p.CustomGetElementsByTagNameSingleton},e.prototype.getValidator=function(){return new a.DfaValidator},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)&&s.DvTagDataObject.getAdServerId()==this.dfaAdServerId},e.prototype.getPriority=function(t){return 250-(t.depth||0)},e.prototype.getMethod=function(){return d.LocatorMethods.DisplayDFA},e}(o.DisplayBaseAdLocator);e.DfaAdLocator=c},4630:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DisplayBaseAdLocator=void 0;var o=n(3564),a=n(7258),s=n(3706),d=n(3387),p=n(7526),c=n(5137),u=function(t){function e(){return t.call(this,7,1e3)||this}return i(e,t),e.prototype.isSupported=function(){return!c.OmidWrapper.isSupported()&&a.DvTagDataObject.getTagType()==p.DvTagType.Display},e.prototype.getSupportedDeliveryType=function(){return[1,2,0]},e.prototype.getAds=function(){var t=this.getScanner().scan(this.getValidator()),e=this.filterByAdsValidators(t);return this.mapDomAdsDataToAdCandidates(e)},e.prototype.filterByAdsValidators=function(t){var e=new d.PassMinimumAdSize;return t.filter((function(t){return e.validate(t.domElement)}))},e.prototype.mapDomAdsDataToAdCandidates=function(t){var e=this;return t.map((function(t){var n=e.transformToAdElement(t);return n.depth=t.depth||0,n}))},e.prototype.transformToAdElement=function(t){return this.getCandidateInstance(t.domElement)},e.prototype.getCandidateInstance=function(t){return new o.AdCandidateData(t)},e}(s.BaseAdLocator);e.DisplayBaseAdLocator=u},1696:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FindClassAdLocator=void 0;var o=n(7258),a=n(4257),s=n(4630),d=n(7526),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getScanner=function(){return new a.GetElementsByClassName(o.DvTagDataObject.getBtreg())},e.prototype.getValidator=function(){return null},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)&&!!o.DvTagDataObject.getBtreg()&&o.DvTagDataObject.getFindClass()},e.prototype.getPriority=function(t){return 1e3-(t.depth||0)},e.prototype.getMethod=function(){return d.LocatorMethods.DisplayFindClass},e}(s.DisplayBaseAdLocator);e.FindClassAdLocator=p},8800:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.IframeFallbackAdLocator=void 0;var o=n(5191),a=n(3706),s=n(3564),d=n(7526),p=n(7258),c=n(5137),u=function(t){function e(){return t.call(this,1)||this}return i(e,t),e.prototype.getAds=function(){var t=o.WindowAdaptor.getFrameElement(o.WindowAdaptor.workingWindow())||o.WindowAdaptor.workingDocumentElement();if(t)return[new s.AdCandidateData(t)]},e.prototype.isSupported=function(){return!c.OmidWrapper.isSupported()&&p.DvTagDataObject.getTagType()==d.DvTagType.Display&&o.WindowAdaptor.workingWindow()!=o.WindowAdaptor.windowTop()},e.prototype.getSupportedDeliveryType=function(){return[1,2,0]},e.prototype.getPriority=function(){return 1},e.prototype.getMethod=function(){return d.LocatorMethods.DisplayIframeFallback},e}(a.BaseAdLocator);e.IframeFallbackAdLocator=u},1267:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InAppDefaultAdLocator=void 0;var o=n(5191),a=n(3706),s=n(3564),d=n(7526),p=n(5137),c=function(t){function e(){return t.call(this,1)||this}return i(e,t),e.prototype.getAds=function(){var t=o.WindowAdaptor.workingDocumentElement();if(t)return[new s.AdCandidateData(t)]},e.prototype.isSupported=function(){return!p.OmidWrapper.isSupported()},e.prototype.getSupportedDeliveryType=function(){return[3]},e.prototype.getPriority=function(){return 11e3},e.prototype.getMethod=function(){return d.LocatorMethods.DefaultInApp},e}(a.BaseAdLocator);e.InAppDefaultAdLocator=c},6384:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.IntegratedCeltraAdLocator=void 0;var o=n(7258),a=n(7526),s=n(5681),d=n(7651),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getScanner=function(){return d.CeltraDeepScannerSingleton},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)&&o.DvTagDataObject.getAdServerId()==this.celtraAdServerId},e.prototype.getPriority=function(t){return 9e3},e.prototype.getMethod=function(){return a.LocatorMethods.DisplayIntegratedCeltra},e}(s.CeltraBaseAdLocator);e.IntegratedCeltraAdLocator=p},4515:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MediaplexAdLocator=void 0;var o=n(4630),a=n(1837),s=n(7258),d=n(4846),p=n(7526),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mediaplexAdServerId="8",e}return i(e,t),e.prototype.getScanner=function(){return d.GetElementsByTagNameSingleton},e.prototype.getValidator=function(){return new a.MediaplexValidator(s.DvTagDataObject.getBtreg(),s.DvTagDataObject.getBtadsrv())},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)&&s.DvTagDataObject.getAdServerId()==this.mediaplexAdServerId},e.prototype.getPriority=function(t){return 1e4-(t.depth||0)},e.prototype.getMethod=function(){return p.LocatorMethods.DisplayMediaPlex},e}(o.DisplayBaseAdLocator);e.MediaplexAdLocator=c},8317:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.NearestAdAdLocator=void 0;var o=n(4630),a=n(2600),s=n(7384),d=n(7526),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getScanner=function(){return a.NearestAdScannerSingleton},e.prototype.getValidator=function(){return new s.ValidateByAdTypeAndSize},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)},e.prototype.getPriority=function(t){return 100-(t.depth||0)},e.prototype.getMethod=function(){return d.LocatorMethods.DisplayNearestAd},e}(o.DisplayBaseAdLocator);e.NearestAdAdLocator=p},870:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.NonIntegratedCeltraAdLocator=void 0;var o=n(7258),a=n(7526),s=n(5681),d=n(7651),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getScanner=function(){return d.CeltraScannerSingleton},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)&&o.DvTagDataObject.getAdServerId()!=this.celtraAdServerId},e.prototype.getPriority=function(t){return 120},e.prototype.getMethod=function(){return a.LocatorMethods.DisplayNonIntegratedCeltra},e}(s.CeltraBaseAdLocator);e.NonIntegratedCeltraAdLocator=p},7920:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ParentWindowAdLocator=void 0;var o=n(7258),a=n(515),s=n(4630),d=n(4846),p=n(5191),c=n(7526),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getScanner=function(){return new d.GetElementsByTagName(p.WindowAdaptor.getWindowParent(p.WindowAdaptor.workingWindow()))},e.prototype.getValidator=function(){return new a.BtregValidator(o.DvTagDataObject.getBtreg(),o.DvTagDataObject.getBtadsrv())},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)&&2==(2&p.WindowAdaptor.getScenarioType())&&!!o.DvTagDataObject.getBtreg()&&!!p.WindowAdaptor.getWindowParent(p.WindowAdaptor.workingWindow())},e.prototype.getPriority=function(t){return 900},e.prototype.getMethod=function(){return c.LocatorMethods.DisplayParentWindow},e}(s.DisplayBaseAdLocator);e.ParentWindowAdLocator=u},5684:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.RegexAdLocator=void 0;var o=n(7258),a=n(515),s=n(4630),d=n(4846),p=n(7526),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getScanner=function(){return d.GetElementsByTagNameSingleton},e.prototype.getValidator=function(){return new a.BtregValidator(o.DvTagDataObject.getBtreg(),o.DvTagDataObject.getBtadsrv())},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)&&!!o.DvTagDataObject.getBtreg()},e.prototype.getPriority=function(t){return 1e3-(t.depth||0)},e.prototype.getMethod=function(){return p.LocatorMethods.DisplayRegex},e}(s.DisplayBaseAdLocator);e.RegexAdLocator=c},7702:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SellerAdLocator=void 0;var o=n(4630),a=n(4846),s=n(515),d=n(7258),p=n(7526),c=n(373),u=n(652),l=n(8245),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getScanner=function(){return a.GetElementsByTagNameSingleton},e.prototype.getValidator=function(){return new s.BtregValidator(d.DvTagDataObject.getBtreg(),d.DvTagDataObject.getBtadsrv())},e.prototype.isSupported=function(){var e=t.prototype.isSupported.call(this)&&d.DvTagDataObject.isSellerTag()&&!!d.DvTagDataObject.getBtreg();return e&&!this.delayEventSent&&(u.EventBus.dispatchEvent(u.DvEvent.delayAdSelection,new l.DelayTimerData(3100)),this.delayEventSent=!0),e},e.prototype.getPriority=function(t){return 1e5},e.prototype.getMethod=function(){return p.LocatorMethods.DisplaySellerTag},e.prototype.getAds=function(){var e=new c.SellerAdSizeValidator;return t.prototype.getAds.call(this).filter((function(t){return e.validate(t.domElement)}))},e}(o.DisplayBaseAdLocator);e.SellerAdLocator=v},6735:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SpotXAdLocator=void 0;var o=n(4630),a=n(2600),s=n(3564),d=n(1583),p=n(7526),c=n(652),u=n(4472),l=n(8245),v=function(t){function e(){var e=t.call(this)||this;return e.isSpotxMode=!1,e.spotxCandidates=[],c.EventBus.addEventListener(c.DvEvent.impressionServed,e.handleImpressionServed.bind(e),"SpotXAdLocator"),e}return i(e,t),e.prototype.getScanner=function(){return a.NearestAdScannerSingleton},e.prototype.getValidator=function(){return new d.SpotXValidator},e.prototype.isSupported=function(){return t.prototype.isSupported.call(this)},e.prototype.getPriority=function(t){var e=0,n=t.depth||0;return this.isSpotxMode&&(e=1e4-n),e},e.prototype.getMethod=function(){return p.LocatorMethods.DisplaySpotX},e.prototype.getCandidateInstance=function(t){var e=new s.AdCandidateData(t);return this.isSpotxMode||(e.state=4,this.spotxCandidates.push(e)),e},e.prototype.handleImpressionServed=function(){var t=this;this.isSpotxMode=u.DvObject.isSpotxMode(),this.isSpotxMode&&this.spotxCandidates.forEach((function(e){e.state=1,e.priority=t.getPriority(e),c.EventBus.dispatchEvent(c.DvEvent.adCandidateLocated,new l.AdCandidateEventData(e))}))},e}(o.DisplayBaseAdLocator);e.SpotXAdLocator=v},515:function(t,e,n){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.BtregValidator=void 0;var i=n(6089),o=n(7258),a=function(){function t(t,e){this.innerHtmlValidationTypes={img:!0,iframe:!0,a:!0,object:!0,embed:!0},this.btadsrvValidationTypes={img:!0,iframe:!0,a:!0,object:!0,embed:!0},this.btreg=t,this.btregRegex=new RegExp(this.btreg),this.btadsrv=e,this.btadsrvRegexp=new RegExp(this.btadsrv)}return t.prototype.validate=function(t){var e,n,a=!1;if(this.btreg&&this.btreg.length>=5){var s=i.BrowserAdaptor.getElementType(t),d=[];d.push(i.BrowserAdaptor.getAttribute(t,"id")),d.push(i.BrowserAdaptor.getAttribute(t,"src")),d.push(i.BrowserAdaptor.getAttribute(t,"href")),d.push(i.BrowserAdaptor.getAttribute(t,"flashvars")),d.push(i.BrowserAdaptor.getAttribute(t,"name")),o.DvTagDataObject.getCustomAttributes().forEach((function(e){return d.push(i.BrowserAdaptor.getAttribute(t,e))})),d.push(i.BrowserAdaptor.getAttribute(t,"class")),this.innerHtmlValidationTypes[s]&&d.push(i.BrowserAdaptor.getAttribute(t,"innerHTML"));var p=!1,c=!1;try{for(var u=r(d),l=u.next();!l.done;l=u.next()){var v=l.value;if(v&&(p=p||this.validateBtreg(v,this.btreg),c=c||!this.btadsrvValidationTypes[s]||this.validateBtadsrv(v,this.btadsrv),p&&c)){a=!0;break}}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}}return a},t.prototype.validateBtreg=function(t,e){return this.validateString(t,this.btreg,this.btregRegex)},t.prototype.validateBtadsrv=function(t,e){return this.validateString(t,this.btreg,this.btadsrvRegexp)},t.prototype.validateString=function(t,e,n){var r=!1;if(t&&e)try{n.exec(t)&&(r=!0)}catch(n){r=-1!=t.indexOf(e)}return r},t}();e.BtregValidator=a},2495:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.CeltraValidator=void 0;var n=function(){function t(){this.celtraClassString="celtra-ad-v"}return t.prototype.validate=function(t){return 0==t.className.indexOf(this.celtraClassString)},t}();e.CeltraValidator=n},4422:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DfaValidator=void 0;var o=n(515),a=n(6089),s=n(4747),d=n(7258),p=function(t){function e(){var e=t.call(this,"DfaVisibilityIdentifier","DfaVisibilityIdentifier")||this;return e.dcmValidationTypes={div:!0,span:!0},e.maxDistance=10,e}return i(e,t),e.prototype.validate=function(e){var n=!1,r=a.BrowserAdaptor.getElementType(e),i=s.Utilities.getElementsDistance(e,d.DvTagDataObject.getDVScript());return this.dcmValidationTypes[r]&&i>=0&&i<=this.maxDistance&&(n=t.prototype.validate.call(this,e)),n},e}(o.BtregValidator);e.DfaValidator=p},1837:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MediaplexValidator=void 0;var o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.multiplexRegexp=new RegExp("[0-9]+-[0-9]+-[0-9]+-[0-9]+"),r.hyphenFreeRegexp=new RegExp("-","g"),r}return i(e,t),e.prototype.validateBtreg=function(e,n){return this.validateByMediaplex(e,n)||t.prototype.validateBtreg.call(this,e,n)},e.prototype.validateBtadsrv=function(e,n){return this.validateByMediaplex(e,n)||t.prototype.validateBtadsrv.call(this,e,n)},e.prototype.validateByMediaplex=function(t,e){var n=!1;if(t&&e){var r=this.multiplexRegexp.exec(t);if(r)n=r.toString().replace(this.hyphenFreeRegexp,"")==e}return n},e}(n(515).BtregValidator);e.MediaplexValidator=o},1583:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SpotXValidator=void 0;var o=n(7384),a=n(7526),s=function(t){function e(){var e=t.call(this)||this;return e.standardAdTypes=["object","embed","video","iframe"],e}return i(e,t),e.prototype.validate=function(t){return this.isStandardAdType(t)&&this.isStandardAdSize(this.getAdSize(t),a.StandardSizeType.SpotX)},e}(o.ValidateByAdTypeAndSize);e.SpotXValidator=s},1494:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ValidateByAdSize=void 0;var r=n(6089),i=n(304),o=function(){function t(){}return t.prototype.getAdSize=function(t){return r.BrowserAdaptor.getElementSize(t)},t.prototype.isStandardAdSize=function(t,e){return i.StandardSizes.isStandardAdSize(t,e,15)},t}();e.ValidateByAdSize=o},7384:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ValidateByAdTypeAndSize=void 0;var o=n(6089),a=n(1494),s=n(7526),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.standardAdTypes=["object","embed","img","iframe","svg","canvas"],e}return i(e,t),e.prototype.validate=function(t){return this.isStandardAdType(t)&&this.isStandardAdSize(this.getAdSize(t),s.StandardSizeType.Display)},e.prototype.isStandardAdType=function(t){var e=!1;if(t){var n=o.BrowserAdaptor.getElementType(t);e=-1!=this.standardAdTypes.indexOf(n)}return e},e}(a.ValidateByAdSize);e.ValidateByAdTypeAndSize=d},5245:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.OmidAdLocator=void 0;var o=n(7526),a=n(3564),s=n(3706),d=n(5137),p=function(t){function e(){return t.call(this,1)||this}return i(e,t),e.prototype.getAds=function(){return[this.initOmidAdCandidateData()]},e.prototype.getPriority=function(t){return 1e5},e.prototype.getMethod=function(){return o.LocatorMethods.DisplayOmid},e.prototype.isSupported=function(){return d.OmidWrapper.isSupported()},e.prototype.getSupportedDeliveryType=function(){return[3,0,1,2]},e.prototype.initOmidAdCandidateData=function(){var t=new a.AdCandidateData(null);return t.omidMeasuredElementType=0,t},e}(s.BaseAdLocator);e.OmidAdLocator=p},7651:function(t,e,n){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.CeltraScannerSingleton=e.CeltraDeepScannerSingleton=e.CeltraScanner=void 0;var a=n(6089),s=n(7258),d=n(708),p=n(1407),c=function(){function t(t){this.scanSiblingTwoLevelsDown=t}return t.prototype.scan=function(t){var e,n;this.dvTag=this.dvTag||s.DvTagDataObject.getDVScript();var i=this.dvTag&&this.dvTag.parentElement,o=this.getCeltraElementByDomApiSearch(i);o&&o.length>0&&(this.celtraTagSearchMethod=1);var a=[],d=o&&o.length>0?o:this.getElementsToSearchCeltraAttribute();try{for(var c=r(d),u=c.next();!u.done;u=c.next()){var l=u.value;if(t.validate(l)){var v=new p.CeltraDomAdData(this.celtraTagSearchMethod,null,0,!1);if(l.celtra&&l.celtra.viewabilityObservee){var f=l.celtra.viewabilityObservee;v.domElement=f,v.isFullyLoaded=!0}a.push(v)}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return a},t.prototype.getElementsToSearchCeltraAttribute=function(){this.celtraTagSearchMethod=2;var t=[],e=this.dvTag&&this.dvTag.parentElement;if(e&&this.shouldSearchOnTagParent()&&t.push(e),this.shouldSearchOnTagSiblings()){var n=a.BrowserAdaptor.getSiblingsNodes(this.dvTag);t=o(o([],i(t)),i(n)),this.shouldSearchTwoLevelUnderTagSiblings()&&n.forEach((function(e){var n=a.BrowserAdaptor.getElementChildren(e);t=o(o([],i(t)),i(n)),n.forEach((function(e){var n=a.BrowserAdaptor.getElementChildren(e);t=o(o([],i(t)),i(n))}))}))}return t},t.prototype.shouldSearchOnTagParent=function(){return!0},t.prototype.shouldSearchOnTagSiblings=function(){return!0},t.prototype.shouldSearchTwoLevelUnderTagSiblings=function(){return this.scanSiblingTwoLevelsDown},t.prototype.getCeltraElementByDomApiSearch=function(t){if(t&&"function"==typeof t.querySelectorAll){var e=t.querySelectorAll("[class^=celtra-ad-v]");if(e)return e.length>1&&d.MessageHandler.sendMessage({dvp_csmc:e.length}),Array.prototype.slice.call(e)}},t}();e.CeltraScanner=c,e.CeltraDeepScannerSingleton=new c(!0),e.CeltraScannerSingleton=new c(!1)},8681:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseScanElement=void 0;var r=n(5191),i=n(4747),o=function(){function t(t){void 0===t&&(t=r.WindowAdaptor.workingWindow()),this.elementsList=[],this.scanValidityTime=1e3,this.searchWin=t}return t.prototype.scan=function(){return(!this.lastScanTime||i.Utilities.getCurrentTime()-this.lastScanTime>this.scanValidityTime)&&(this.elementsList=this.tagScan(),this.lastScanTime=i.Utilities.getCurrentTime()),this.elementsList},t.prototype.extractAd=function(t){return t},t}();e.BaseScanElement=o},8826:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomScanContainerElement=void 0;var a=n(8681),s=n(6089),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.extractAd=function(t){return this.getBiggestNestedElement(t)},e.prototype.getBiggestNestedElement=function(t){var e,n,r=t,i=["embed","iframe","object","img","span","div","svg","canvas"],a=[],d=s.BrowserAdaptor.getElementsByTagNameFromDomElement(t,"*");try{for(var p=o(d),c=p.next();!c.done;c=p.next()){var u=c.value,l=s.BrowserAdaptor.getElementType(u);if(-1!=i.indexOf(l)){var v=s.BrowserAdaptor.getElementSize(u);v&&a.push({area:v.width*v.height,width:v.width,height:v.height,type:l,elem:u})}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=p.return)&&n.call(p)}finally{if(e)throw e.error}}return(a=a.sort((function(t,e){return e.area-t.area||i.indexOf(e.type)-i.indexOf(t.type)}))).length>0&&(r=a[0].elem),r},e}(a.BaseScanElement);e.CustomScanContainerElement=d},1231:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomScanCustomElement=void 0;var o=n(6089),a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.elementName=n,r}return i(e,t),e.prototype.tagScan=function(){return o.BrowserAdaptor.getElementsByTagNameFromDocument(this.elementName,this.searchWin.document)},e}(n(8826).CustomScanContainerElement);e.CustomScanCustomElement=a},4421:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomScanDivElement=void 0;var o=n(6089),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.tagScan=function(){return o.BrowserAdaptor.getElementsByTagNameFromDocument("div",this.searchWin.document)},e}(n(8826).CustomScanContainerElement);e.CustomScanDivElement=a},4618:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomScanObjectElement=void 0;var o=n(6089),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.tagScan=function(){return o.BrowserAdaptor.getElementsByTagNameFromDocument("object",this.searchWin.document)},e}(n(8826).CustomScanContainerElement);e.CustomScanObjectElement=a},2945:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomScanSpanElement=void 0;var o=n(6089),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adunitAttribute="adunit",e}return i(e,t),e.prototype.tagScan=function(){return o.BrowserAdaptor.getElementsByTagNameFromDocument("span",this.searchWin.document)},e.prototype.extractAd=function(e){return 1==o.BrowserAdaptor.getAttribute(e,this.adunitAttribute)?e:t.prototype.extractAd.call(this,e)},e}(n(8826).CustomScanContainerElement);e.CustomScanSpanElement=a},7017:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScanCanvasElement=void 0;var o=n(8681),a=n(6089),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.tagScan=function(){return a.BrowserAdaptor.getElementsByTagNameFromDocument("canvas",this.searchWin.document)},e}(o.BaseScanElement);e.ScanCanvasElement=s},1608:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ScanContainerElement=void 0;var a=n(8681),s=n(6089),d=n(3387),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.extractAd=function(t){return(new d.PassMinimumAdSize).validate(t)?t:this.getBiggestNestedElement(t)},e.prototype.getBiggestNestedElement=function(t){var e,n,r=t,i=["embed","iframe","object","img","span","div","svg","canvas"],a=[],d=s.BrowserAdaptor.getElementsByTagNameFromDomElement(t,"*");d.unshift(t);try{for(var p=o(d),c=p.next();!c.done;c=p.next()){var u=c.value,l=s.BrowserAdaptor.getElementType(u);if(-1!=i.indexOf(l)){var v=s.BrowserAdaptor.getElementSize(u);v&&a.push({area:v.width*v.height,width:v.width,height:v.height,type:l,elem:u})}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=p.return)&&n.call(p)}finally{if(e)throw e.error}}return(a=a.sort((function(t,e){return e.area-t.area||i.indexOf(e.type)-i.indexOf(t.type)}))).length>0&&(r=a[0].elem),r},e}(a.BaseScanElement);e.ScanContainerElement=p},2957:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScanCustomElement=void 0;var o=n(1608),a=n(6089),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.elementName=n,r}return i(e,t),e.prototype.tagScan=function(){return a.BrowserAdaptor.getElementsByTagNameFromDocument(this.elementName,this.searchWin.document)},e}(o.ScanContainerElement);e.ScanCustomElement=s},9633:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScanDivElement=void 0;var o=n(1608),a=n(6089),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.tagScan=function(){return a.BrowserAdaptor.getElementsByTagNameFromDocument("div",this.searchWin.document)},e}(o.ScanContainerElement);e.ScanDivElement=s},3275:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScanEmbedElement=void 0;var o=n(8681),a=n(6089),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.tagScan=function(){return a.BrowserAdaptor.getElementsByTagNameFromDocument("embed",this.searchWin.document)},e}(o.BaseScanElement);e.ScanEmbedElement=s},4825:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScanFrameElement=void 0;var o=n(8681),a=n(5191),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.tagScan=function(){var t=[],e=a.WindowAdaptor.getFrameElement(this.searchWin);return e&&t.push(e),t},e}(o.BaseScanElement);e.ScanFrameElement=s},913:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScanIframeElement=void 0;var o=n(8681),a=n(6089),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.tagScan=function(){return a.BrowserAdaptor.getElementsByTagNameFromDocument("iframe",this.searchWin.document)},e}(o.BaseScanElement);e.ScanIframeElement=s},9600:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScanImageElement=void 0;var o=n(8681),a=n(6089),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.tagScan=function(){return a.BrowserAdaptor.getElementsByTagNameFromDocument("img",this.searchWin.document)},e}(o.BaseScanElement);e.ScanImageElement=s},790:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScanLinkElement=void 0;var o=n(8681),a=n(6089),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.tagScan=function(){return a.BrowserAdaptor.getElementsByTagNameFromDocument("a",this.searchWin.document)},e.prototype.extractAd=function(t){var e,n=a.BrowserAdaptor.getElementsByTagNameFromDomElement(t,"img");return n.length>0&&(e=n[0]),e},e}(o.BaseScanElement);e.ScanLinkElement=s},4874:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScanObjectElement=void 0;var o=n(1608),a=n(6089),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.tagScan=function(){return a.BrowserAdaptor.getElementsByTagNameFromDocument("object",this.searchWin.document)},e}(o.ScanContainerElement);e.ScanObjectElement=s},3789:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScanSpanElement=void 0;var o=n(1608),a=n(6089),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adunitAttribute="adunit",e}return i(e,t),e.prototype.tagScan=function(){return a.BrowserAdaptor.getElementsByTagNameFromDocument("span",this.searchWin.document)},e.prototype.extractAd=function(e){return 1==a.BrowserAdaptor.getAttribute(e,this.adunitAttribute)?e:t.prototype.extractAd.call(this,e)},e}(o.ScanContainerElement);e.ScanSpanElement=s},9599:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScanSvgElement=void 0;var o=n(8681),a=n(6089),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.tagScan=function(){return a.BrowserAdaptor.getElementsByTagNameFromDocument("svg",this.searchWin.document)},e}(o.BaseScanElement);e.ScanSvgElement=s},7122:function(t,e,n){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomGetElementsByTagNameSingleton=e.CustomGetElementsByTagName=void 0;var i=n(3275),o=n(790),a=n(9600),s=n(913),d=n(4825),p=n(7258),c=n(7017),u=n(9599),l=n(5191),v=n(4747),f=n(2304),h=n(4421),y=n(2945),g=n(1231),m=n(4618),b=function(){function t(t){var e=this;this.byTagScanners=[],this.byTagScanners.push(new i.ScanEmbedElement(t)),this.byTagScanners.push(new m.CustomScanObjectElement(t)),this.byTagScanners.push(new o.ScanLinkElement(t)),this.byTagScanners.push(new a.ScanImageElement(t)),this.byTagScanners.push(new y.CustomScanSpanElement(t)),this.byTagScanners.push(new s.ScanIframeElement(t)),this.byTagScanners.push(new h.CustomScanDivElement(t)),this.byTagScanners.push(new d.ScanFrameElement(t)),this.byTagScanners.push(new c.ScanCanvasElement(t)),this.byTagScanners.push(new u.ScanSvgElement(t)),p.DvTagDataObject.getCustomTags().forEach((function(n){return e.byTagScanners.unshift(new g.CustomScanCustomElement(t,n))}))}return t.prototype.scan=function(t){var e,n,i,o,a=[];try{for(var s=r(this.byTagScanners),d=s.next();!d.done;d=s.next()){var c=d.value;try{for(var u=(i=void 0,r(c.scan())),l=u.next();!l.done;l=u.next()){var h=l.value;if(t.validate(h)){var y=c.extractAd(h),g=new f.DomAdData(y,v.Utilities.getElementsDistance(y,p.DvTagDataObject.getDVScript()));a.push(g)}}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}}catch(t){e={error:t}}finally{try{d&&!d.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a},t}();e.CustomGetElementsByTagName=b,e.CustomGetElementsByTagNameSingleton=new b(l.WindowAdaptor.workingWindow())},9371:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.GetElementByID=void 0;var r=n(6089),i=n(4747),o=n(7258),a=n(2304),s=function(){function t(t){this.elementId=t}return t.prototype.scan=function(){var t=[],e=r.BrowserAdaptor.getElementById(this.elementId);if(e){var n=new a.DomAdData(e,i.Utilities.getElementsDistance(e,o.DvTagDataObject.getDVScript()));t.push(n)}return t},t}();e.GetElementByID=s},4257:function(t,e,n){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.GetElementsByClassName=void 0;var i=n(6089),o=n(4747),a=n(7258),s=n(2304),d=function(){function t(t){this.btreg=t}return t.prototype.scan=function(){var t,e,n=[],d=i.BrowserAdaptor.getElementsByClassName(this.btreg);try{for(var p=r(d),c=p.next();!c.done;c=p.next()){var u=c.value,l=new s.DomAdData(u,o.Utilities.getElementsDistance(u,a.DvTagDataObject.getDVScript()));n.push(l)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=p.return)&&e.call(p)}finally{if(t)throw t.error}}return n},t}();e.GetElementsByClassName=d},4846:function(t,e,n){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.GetElementsByTagNameSingleton=e.GetElementsByTagName=void 0;var i=n(3275),o=n(4874),a=n(790),s=n(9600),d=n(3789),p=n(913),c=n(9633),u=n(4825),l=n(7258),v=n(2957),f=n(7017),h=n(9599),y=n(5191),g=n(4747),m=n(2304),b=function(){function t(t){var e=this;this.byTagScanners=[],this.byTagScanners.push(new i.ScanEmbedElement(t)),this.byTagScanners.push(new o.ScanObjectElement(t)),this.byTagScanners.push(new a.ScanLinkElement(t)),this.byTagScanners.push(new s.ScanImageElement(t)),this.byTagScanners.push(new d.ScanSpanElement(t)),this.byTagScanners.push(new p.ScanIframeElement(t)),this.byTagScanners.push(new c.ScanDivElement(t)),this.byTagScanners.push(new u.ScanFrameElement(t)),this.byTagScanners.push(new f.ScanCanvasElement(t)),this.byTagScanners.push(new h.ScanSvgElement(t)),l.DvTagDataObject.getCustomTags().forEach((function(n){return e.byTagScanners.unshift(new v.ScanCustomElement(t,n))}))}return t.prototype.scan=function(t){var e,n,i,o,a=[];try{for(var s=r(this.byTagScanners),d=s.next();!d.done;d=s.next()){var p=d.value;try{for(var c=(i=void 0,r(p.scan())),u=c.next();!u.done;u=c.next()){var v=u.value;if(t.validate(v)){var f=p.extractAd(v),h=new m.DomAdData(f,g.Utilities.getElementsDistance(f,l.DvTagDataObject.getDVScript()));a.push(h)}}}catch(t){i={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}}}catch(t){e={error:t}}finally{try{d&&!d.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a},t}();e.GetElementsByTagName=b,e.GetElementsByTagNameSingleton=new b(y.WindowAdaptor.workingWindow())},2600:function(t,e,n){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.NearestAdScannerSingleton=e.NearestAdScanner=void 0;var i=n(4747),o=n(6089),a=n(7258),s=n(2304),d=function(){function t(){this.maxScanDepth=20,this.scanValidityTime=1e3,this.elementsList=[]}return t.prototype.scan=function(t){var e,n;this.dvTag=this.dvTag||a.DvTagDataObject.getDVScript();var o=[],d=[];if(0==this.elementsList.length||i.Utilities.getCurrentTime()-this.lastScanTime>this.scanValidityTime){var p=this.getStartElement();p&&(this.getElements(p.domElement,p.depth),this.lastScanTime=i.Utilities.getCurrentTime())}try{for(var c=r(this.elementsList),u=c.next();!u.done;u=c.next()){var l=u.value;if(t.validate(l)){var v=new s.DomAdData(l,i.Utilities.getElementsDistance(l,this.dvTag));o.push(v)}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return o.length>0&&(d=o.sort((function(t,e){return t.depth-e.depth})).slice(0,5)),d},t.prototype.getStartElement=function(){var t,e=this.dvTag;for(t=0;t<this.maxScanDepth;t++){var n=i.Utilities.getElementParent(e);if(!n)break;e=n}return new s.DomAdData(e,t)},t.prototype.getElements=function(t,e){var n=this;if(t&&Math.abs(e)<=this.maxScanDepth){this.elementsList.push(t);var r=o.BrowserAdaptor.getElementChildren(t);r&&r.length>0&&r.forEach((function(t){return n.getElements(t,e-1)}))}},t}();e.NearestAdScanner=d,e.NearestAdScannerSingleton=new d},3045:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InAppHtml5VideoAdLocator=void 0;var o=n(3706),a=n(7258),s=n(6089),d=n(3564),p=n(7526),c=n(5137),u=function(t){function e(){return t.call(this,1)||this}return i(e,t),e.prototype.getAds=function(){var t=s.BrowserAdaptor.getElementsByTagNameFromDocument("video")[0];if(t)return[new d.AdCandidateData(t)]},e.prototype.isSupported=function(){return!c.OmidWrapper.isSupported()&&a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.getSupportedDeliveryType=function(){return[3]},e.prototype.getPriority=function(){return 100},e.prototype.getMethod=function(){return p.LocatorMethods.VideoInAppHtml5},e}(o.BaseAdLocator);e.InAppHtml5VideoAdLocator=u},7355:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InAppVpaidVideoAdLocator=void 0;var o=n(7258),a=n(3706),s=n(3564),d=n(7526),p=n(5137),c=n(2913),u=function(t){function e(){return t.call(this,5,1e3)||this}return i(e,t),e.prototype.isSupported=function(){return!p.OmidWrapper.isSupported()&&o.DvTagDataObject.getTagType()==d.DvTagType.Video&&!!o.DvTagDataObject.getAdID()},e.prototype.getAds=function(){var t=c.VpaidWrapper.getDvVpaid();if(t){var e=t.asset;if(e&&e.player)return[new s.AdCandidateData(e.player)]}},e.prototype.getSupportedDeliveryType=function(){return[3]},e.prototype.getPriority=function(){return 200},e.prototype.getMethod=function(){return d.LocatorMethods.VideoInAppVpaid},e}(a.BaseAdLocator);e.InAppVpaidVideoAdLocator=u},6916:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InmobiVideoAdLocator=void 0;var o=n(3706),a=n(5137),s=n(7258),d=n(7526),p=n(3564),c=n(8245),u=n(652),l=n(4516),v=function(t){function e(){var e=t.call(this,5,1e3)||this;return e.isSupported()&&(u.EventBus.dispatchEvent(u.DvEvent.delayAdSelection,new c.DelayTimerData(3100)),l.InmobiWrapper.addEventListenerWithHistory(e.handleInmobiAdLoadedEvent.bind(e))),e}return i(e,t),e.prototype.isSupported=function(){return!a.OmidWrapper.isSupported()&&s.DvTagDataObject.getTagType()==d.DvTagType.Video&&l.InmobiWrapper.isSupported()},e.prototype.getAds=function(){if(this.adElement)return[new p.AdCandidateData(this.adElement)]},e.prototype.getSupportedDeliveryType=function(){return[3]},e.prototype.getPriority=function(){return 1e4},e.prototype.getMethod=function(){return d.LocatorMethods.VideoInAppInmobi},e.prototype.handleInmobiAdLoadedEvent=function(t){t&&"AdLoaded"==t.type&&t.detail&&t.detail.element&&(this.adElement=t.detail.element)},e}(o.BaseAdLocator);e.InmobiVideoAdLocator=v},2896:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.NonInAppVpaidVideoAdLocator=void 0;var o=n(7258),a=n(3706),s=n(3564),d=n(7526),p=n(5137),c=n(2913),u=function(t){function e(){return t.call(this,5,1e3)||this}return i(e,t),e.prototype.isSupported=function(){return!p.OmidWrapper.isSupported()&&o.DvTagDataObject.getTagType()==d.DvTagType.Video&&!!o.DvTagDataObject.getAdID()},e.prototype.getAds=function(){var t=c.VpaidWrapper.getDvVpaid();if(t){var e=t.asset;if(e&&e.player)return[new s.AdCandidateData(e.player)]}},e.prototype.getSupportedDeliveryType=function(){return[1,2,0]},e.prototype.getPriority=function(){return 1},e.prototype.getMethod=function(){return d.LocatorMethods.VideoNonInAppVpaid},e}(a.BaseAdLocator);e.NonInAppVpaidVideoAdLocator=u},9573:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorHandler=void 0;var r=n(4154);e.ErrorHandler=function(t,e,n,i){return{createErrorRequestParamsObject:function(t,e){void 0===e&&(e="");var o={flvr:"1",dvp_jsctx:n.getClientCode()||"",dvp_jscmp:n.getAdServerCampaignCode()||"",dvp_jsplc:n.getAdServerSiteCode()||"",dvp_jssid:n.getPlacementId()||"",ctx:"818052",cmp:"1619415",dvp_isLostImp:"1",ssl:"1",gdpr:n.getGDPR()||"",gdpr_consent:n.getGDPRConsent()||"",ver:i.getDvtpScriptVersion(),dvp_cert:r.ClientErrorType[t]};return e&&(o.dvp_jsErrMsg=e),o},generateErrorQueryString:function(t){return e.serializeObjectToQueryString(t,!1)},reportError:function(e,n){void 0===n&&(n="");var r=this.createErrorRequestParamsObject(e,n),i=""+void 0+void 0+"?"+this.generateErrorQueryString(r);t.sendBeacon(i,!0)}}}},6286:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.BlockingHandler=void 0;var r=n(1870),i=n(652),o=n(9573),a=n(4154),s=n(7526);e.BlockingHandler=function(t,e,n,d,p,c,u){return{displayBlockingCallback:function(t){var e=this.resolveGoogleBlockingCallback();"function"==typeof e&&n.setTimeout((function(){return e({block:t})}),0)},videoBlockingCallback:function(t){if(t)try{var e=p.getVideoBlockingCallbackUrl();if(e&&"string"==typeof e){var n=decodeURIComponent(e);navigator.sendBeacon(n)}}catch(t){this.errorHandler().reportError(a.ClientErrorType.VideoBlockingCallbackError,t.message)}},blockingDecisionCallback:function(n){if(p.getTagType()==s.DvTagType.Video)this.videoBlockingCallback(n);else if(this.displayBlockingCallback(n),!n)if(p.getIsMonitoring())e(t);else{var r=this.resolveCreativeContainer();try{r.style.visibility=""}catch(t){}}},initDvbs:function(){window.$dvbs=window.$dv,window.$dvbs.pubSub||(window.$dvbs.pubSub=i.EventBusGlobal)},resolveCreativeContainer:function(){var t=p.getCm360ContainerId();return document.getElementById(t)},resolveGoogleBlockingCallback:function(){var t=p.getCm360BlockingCallbackFnName();return window[t]},errorHandler:function(){return o.ErrorHandler(n,u,p,d)},execute:function(){try{this.initDvbs();var i=this.resolveCreativeContainer(),o=r.VerifyHandler(t,c,n,u,p,d,i,this.blockingDecisionCallback.bind(this),this.errorHandler(),e);try{o.doVerifyRequest()}catch(t){this.errorHandler().reportError(a.ClientErrorType.SendVerifyRequestFailure,"Send verify request failed. "+t.message)}}catch(t){this.errorHandler().reportError(a.ClientErrorType.BlockingMainError,t.message)}}}}},4154:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.requiredTpsParams=e.optionalTpsParams=e.collectedTpsParams=e.ClientErrorType=e.ResultId=e.ReasonId=void 0,function(t){t[t.AllowAcknowledgedTimeoutBlockResponse=21]="AllowAcknowledgedTimeoutBlockResponse",t[t.AllowAcknowledgedTimeoutAllowResponse=20]="AllowAcknowledgedTimeoutAllowResponse",t[t.AllowAcknowledgedTimeoutBadDataResponse=22]="AllowAcknowledgedTimeoutBadDataResponse",t[t.AllowAcknowledgedTimeoutBadImplementationResponse=23]="AllowAcknowledgedTimeoutBadImplementationResponse"}(e.ReasonId||(e.ReasonId={})),function(t){t[t.Block=1]="Block",t[t.Allow=2]="Allow",t[t.BadRequest=3]="BadRequest",t[t.BadImplementation=4]="BadImplementation",t[t.BlockNotAcknowledged=5]="BlockNotAcknowledged",t[t.AllowNotAcknowledged=6]="AllowNotAcknowledged"}(e.ResultId||(e.ResultId={}));!function(t){t[t.VerifyLoadJSONPCallbackFailed=1]="VerifyLoadJSONPCallbackFailed",t[t.VerifyFailedToLoad=2]="VerifyFailedToLoad",t[t.AdRenderedUponVerifyFailure=3]="AdRenderedUponVerifyFailure",t[t.SendVerifyRequestFailure=4]="SendVerifyRequestFailure",t[t.TPSDataCollectorError=5]="TPSDataCollectorError",t[t.VideoBlockingCallbackError=6]="VideoBlockingCallbackError",t[t.BlockingMainError=7]="BlockingMainError"}(e.ClientErrorType||(e.ClientErrorType={})),e.collectedTpsParams=["additionalUrlDepth","browserId","browserIdUserAgent","browserVersion","cookieLength","documentElementCount","domainLookupTime","historyLength","historyLength","idcResults","idcVersion","iframeCount","innerHeight","innerWidth","isChrome","isOvv","numberOfCores","outerHeight","outerWidth","postMessageSupported","referrerDepth","referrerUrlExtractedFromSafeFrame","screenHeight","screenWidth","scriptVersion","uid","widgetCount","windowDepth"],e.optionalTpsParams=["eparams","referrerUrl","vastWrapperUrl"],e.requiredTpsParams=["adid","adsrv","advid","app","cmp","crt","ctx","dup","gmnpo","isdvvid","plc","sid","supplySource","tagtype","unit"]},1870:function(t,e,n){var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.VerifyHandler=void 0;var i=n(805),o=n(137),a=n(708),s=n(4154),d=n(8330),p=n(7526);e.VerifyHandler=function(t,e,n,c,u,l,v,f,h,y){return{impressionId:"",isJSONPCalled:!1,serverPublicDns:"",appendTpsParam:function(e,n){var r;return Object.assign(e,((r={})[i.TPSDataMapping[n]]=t[n],r))},assertRequiredParams:function(t){var e=r({},t);return s.requiredTpsParams.forEach((function(n){n in t||(e[n]="")})),e},buildRequestUrl:function(t,e){var n=""+void 0+void 0+"?"+c.serializeObjectToQueryString(t,!1),r=!1;return Object.keys(e).filter((function(t){return e.hasOwnProperty(t)&&!!e[t]})).forEach((function(t){var i,o=e[t],a=c.serializeObjectToQueryString(((i={})[t]=o,i),!1),s=n.length+a.length+1;c.isExceedingMaxUrlLength(s)?r=!0:n+="&"+a})),r&&(n+="&dvf=3"),n},buildVerifyRequestObj:function(){var e,n=this,a=u.getLowerCaseParams(),d=this.assertRequiredParams(a),p=s.collectedTpsParams.reduce((function(t,e){return n.appendTpsParam(t,e)}),{}),c=r(r(r(r(r(r(r(r(r({num:6,dvp_isOnHead:0,flvr:1,jsCallback:this.generateVerifyCallbackName(),jsTagObjCallback:this.generateTagCallbackName(),ssl:t.isSsl===o.HttpProtocol.Https?1:0},t.isMraid&&((e={})[i.TPSDataMapping.isMraid]=1,e)),"video"===t.tagtype&&{DVP_BYPASS219:1}),t.isPreRender&&{prndr:1}),t.dvpParamsFlags&&{dvf:t.dvpParamsFlags}),t.safeFrameExists&&{sfe:1}),t.hijackedDeviceSignatureBits>0&&{hdsig:t.hijackedDeviceSignatureBits}),t.idcError&&{dvp_idcerr:t.idcError}),t.browserFeatures&&{m1:t.browserFeatures}),t.browserSignatureBits&&t.browserSignatureFamilyBits&&{bsig:t.browserSignatureFamilyBits,usig:t.browserSignatureBits}),l=s.optionalTpsParams.reduce((function(t,e){return n.appendTpsParam(t,e)}),{});Object.keys(l).forEach((function(t){try{delete d[t]}catch(t){}}));var v=Object.assign({},d,p,c,t.additionalParams);return{params:this.filterRequestObject(v),lowPriorityParams:this.filterRequestObject(l)}},doVerifyRequest:function(){this.initPerformanceMetrics();var t=this.buildVerifyRequestObj(),e=t.params,n=t.lowPriorityParams,r=this.buildRequestUrl(e,n),i=this.generateScriptId(),o=this.generateOnErrorCallback(),a=this.generateOnLoadCallback(),s=this.generateTagCallbackName(),d=this.generateVerifyCallbackName();this.injectTagObjectCallback(s),this.injectVerifyCallback(d),this.injectVerifyTag(r,i,o,a)},filterRequestObject:function(t){return Object.keys(t).filter((function(e){return void 0!==t[e]&&t[e]!==[]})).reduce((function(e,n){var i;return r(r({},e),((i={})[n]=t[n],i))}),{})},injectTagObjectCallback:function(n){var r=this,i=e.currentWindow(),o=this;i[n]=function(e){var n,s=l.getDvObject(),d=e.ImpressionID;o.impressionId=d,t.bsimpid=d,o.serverPublicDns=e.ServerPublicDns,s.tagData=s.tagData||{},s.tags[d]=r.buildTagObject(e);var p=l.getDvObject();(null===(n=p.pubSub)||void 0===n?void 0:n.excludeFrameId)&&p.pubSub.excludeFrameId(e.ImpressionID),u.setBlockingServerPrefix("https://"+e.ServerPublicDns+"/");try{var c=r.monitorPerformance(i,{verify:{prefix:"vf",stats:[{name:"duration",prefix:"dur"}]}});c&&a.MessageHandler.registerEventCall(e.ImpressionID,c)}catch(t){}}},monitorPerformance:function(t,e){var n={};try{if(t&&t.performance&&t.performance.getEntries)for(var r=t.performance.getEntries(),i=0;i<r.length;i++){var o=r[i],a=o.name.match(/.*\/(.+?)\./);if(a&&a[1]){var s=a[1].replace(/\d+$/,""),d=e[s];if(d){for(var p=0;p<d.stats.length;p++){var u=d.stats[p],l=o[u.name];"number"==typeof l&&(n[d.prefix+u.prefix]=Math.round(l))}if(delete e[s],c.isEmptyObject(e))break}}}}catch(t){}return n},generateDefaultPassback:function(t,e){return decodeURIComponent("%3Cdiv%20style%3D%22display%3A%20flex%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20width%3A%20"+t+"px%3B%20height%3A%20"+e+"px%3B%20outline-offset%3A%20-1px%3B%20background%3A%20url('data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAYAAAGWvHq%2BAAAABmJLR0QA%2FwD%2FAP%2BgvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5AQBECEbFuFN7gAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAFBklEQVRo3uUby3arOEzxAbxIyKLt%2F%2F9gIQtIF4aFZ5ERVxhJyIbcnjmjTZLast4vQ%2BG762OMMX53fQzTFIfxGenfKvgXvj4%2FoOsfy3eECgBgmmcYhnFZ6PoHeO%2F%2FbBiGEQAAxufPghlC%2BLOBYqa%2FHezAJcYYOUz87QAA7vd2g4lMAsrLfQJ%2BQeUM43PZsMJEwN8L58gMfgIAAMVKv6syX4bxGVF9qTiuvV2Byouf7e0Kl%2B%2Buj6kJU8aktV07aFClTkThfm9hGMbNGu53dCNd%2FPr8gBCm5TsnAivz%2BPwBqkHvPaDiVvpAW6Nh0FBhmpagSdfQV0Q7oVySPrz3LyO3t%2BvCKrJIHTtdG58%2FvLycZk%2Bzr1uFkgFWuYHKZHHNEMIr4lMb0pO5v7e3qyyj983KATYydv1jswFZneZ5wzaKVaEMVnNgjsw2B8pcbMdLmKbY1PVG5dTl0rVpnsGlSDReOcfo%2Bgc0df3SagrTPC8m4aDrH1ClaR4AgHKRmgN%2FL9HBbeI4wdKVitXUtYpLGXPSgpUg1lBaPzWCWW6wJ4lkB9aFUL1pQkXOvW9WBDltULNM8wwhTEtIcQn88t31kdpEU7FmOwsemqiiqtPsQvufXMCmCulUSKy9XaG9XYGrLhbv1iSlWU0NGdyQqlPKBHQfh0vxVkQ1abSQybX3oQ7nUPWUpEQ1oaokLVAnSfG4cy8xxpjrEFyVtuCJNt3rETDgu%2F6xiT9zRqKSci0DxzHdZ5E0zXabjGTtwSxr9FyqjazSJkmTi%2Bckb01BS5HaGnems%2BZWzdb62qQTfQdwDDl2Wj0RuKnYpX1sDrJljcvHTqow4%2FNn5SBNXYuzPD0Y8agDsRlpr3NIg1vyYGnSS%2BPUURVIcRhC2A0ZyYPxTKqNyuo8IYRlpMSGLYRJDRdOYyEEqEpDIIfY5qYhhLBrL0s%2BLS7imqq995tijYVdCxlx0EMnaW9XlvD93m4aZ0s4cZ3gqspYOjppRKcMcXipGZyU7Ju63iXIhVOKx53trCWqtMpwZzor8n%2BqynBnnlJlNGa5M51VSmlksBSDlOHlKk%2FzUq0KcVVEYgidytz3coS19lPrFh1y2fUP1Xu1HKsRxHWakao9hLNglZHeESaal3vvocKx3zKP7BXnLJtaxgNkjKY1Wp1y7inYUVG7Akg79vSeKefKwHJ1kEtTikBxJrYkmpIBr1TgPdgbrZ1WkPbuz84UEiNZG1ZLhdydE0sqeqlytGG2pEt4%2B0Ccc9H8zs4kS1Br0542F0fqR0lesOCwyehoIioZq86gqcWq6XbZwrTGqMSAhmOhKWVpjp74PObIsLt3R3g0g1oETs8R32woFbLEHUuEs9CiZa6SslZJmpcuf%2F4GcNc0tDf9lYcxvwGVrI3mkDVeY0NjbumOui9XCtkYlZJIbjt3pF8tzQ0czZTvTXnJSdlHSstRXAlPUpQ4vRy1TK4nnNEwaDTd2ZNE6fQSQiieevBiprjXLamjpco5Mv1YSuH%2Fpry4o%2BMPN70cgZI4tYyG7h3J4evzI1tJ%2BIynBLTHMdnlpXQKsTQCkoAaPakZEctL%2BpbK0Y7FMkloCnrXHMsKileMpS0ZR3zvveez2kDJG6szRiSuJqaulfbOaQJ5KfcYH5wnLK82v2uMCmHaPDz%2BDVj%2BfSNNBGdZmIu9v6EIKWbVZHTmVYrl9clSRVsS0urOKDdlW1J%2B6SubFoH3SiF13X8A3uobUgsAG3MAAAAASUVORK5CYII%3D')%20repeat%3B%20outline%3A%20solid%201px%20%23969696%3B%22%3E%3C%2Fdiv%3E")},generateEmptyPassback:function(t,e){return decodeURIComponent("%3Cstyle%3E%0A.dvbs_container%20%7B%0A%09border%3A%201px%20solid%20%233b599e%3B%0A%09overflow%3A%20hidden%3B%0A%09filter%3A%20progid%3ADXImageTransform.Microsoft.gradient(startColorstr%3D%27%23315d8c%27%2C%20endColorstr%3D%27%2384aace%27)%3B%0A%7D%0A%3C%2Fstyle%3E%0A%3Cdiv%20class%3D%22dvbs_container%22%20style%3D%22width%3A%20"+t+"px%3B%20height%3A%20"+e+"px%3B%22%3E%09%0A%3C%2Fdiv%3E")},exposeContainer:function(t){t.style.visibility=""},generatePassbackIframe:function(t){var e='\n      <html style="margin:0; padding:0; overflow:hidden;">\n        <head></head>\n        <body style="margin:0; padding:0; overflow:hidden;">\n          '+t+"\n        </body>\n      </html>",n=document.createElement("iframe");return n.style.border="0",n.style.height="100%",n.style.width="100%",n.style.overflow="hidden",n.src="data:text/html,"+encodeURIComponent(e),n},injectPassbackContent:function(t){try{v.innerHTML="";var e=this.generatePassbackIframe(t);v.appendChild(e)}catch(t){}},injectVerifyCallback:function(r){var i=this,o=e.currentWindow(),a=this;o[r]=function(e){i.isJSONPCalled=!0;var r=!1;switch(a.shouldInvokeVpaidCallback()&&setTimeout((function(){d.VpaidHandler(e,c,n,t,a.impressionId,u.getBlockingServerPrefix(),u.getAdID(),u.getBlockingPartnerCallbackName(),y).execute()}),0),e.ResultID){case s.ResultId.Block:r=!0;var o=void 0;e.Passback?o=decodeURIComponent(e.Passback):e.AdWidth&&e.AdHeight&&(o=i.generateDefaultPassback(parseInt(e.AdWidth),parseInt(e.AdHeight))),o&&v&&(i.injectPassbackContent(o),i.exposeContainer(v));break;case s.ResultId.Allow:case s.ResultId.BadRequest:break;case s.ResultId.BadImplementation:if(v&&e.AdWidth&&e.AdHeight){var p=parseInt(e.AdWidth),l=parseInt(e.AdHeight),f=i.generateEmptyPassback(p,l);i.injectPassbackContent(f),i.exposeContainer(v)}}i.reportBlockDecision(r)}},generateOnErrorCallback:function(){var t=this;return function(){t.reportError(s.ClientErrorType.VerifyFailedToLoad),t.renderAdFromError("VFTL")}},generateOnLoadCallback:function(){var t=this;return function(){t.isJSONPCalled||(t.reportError(s.ClientErrorType.VerifyFailedToLoad),t.renderAdFromError("VCF"))}},generateScriptId:function(){return"verify-call-"+l.getTagUniqueKey()},generateTagCallbackName:function(){return"__tagObject_callback_"+t.uid},generateVerifyCallbackName:function(){return"__verify_callback_"+t.uid},initPerformanceMetrics:function(){e.isPerformanceAPISupported()&&e.workingWindow().performance.mark("dv_create_req_start")},injectVerifyTag:function(t,r,i,o){var a=e.currentDocument(),s=e.getCurrentScript()||a.body;return n.addScriptAsync(t,s,r,!1,i,o)},renderAdFromError:function(t){void 0===t&&(t="");var e="AdRenderedUponVerifyFailure__"+t;try{this.exposeContainer(v)}catch(t){e+="__RenderingMethodFailed"}this.reportError(s.ClientErrorType.AdRenderedUponVerifyFailure,e)},reportBlockDecision:function(t){try{f(t)}catch(t){}},reportError:function(t,e){h.reportError(t,null!=e?e:"")},buildTagObject:function(e){var n={};return n.dv_protocol=o.HttpProtocol.Https,n.ServerPublicDns=e.ServerPublicDns,n.type="blocking",n.uid=t.uid,n},shouldInvokeVpaidCallback:function(){var t=u.getAdID();return u.getTagType()===p.DvTagType.Video&&t.length>0}}}},8330:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.VpaidHandler=void 0;var r=n(4154);e.VpaidHandler=function(t,e,n,i,o,a,s,d,p){return{wasMonitoringInjected:!1,execute:function(){this.reportBsEvent({dvp_innovidImp:1}),this.injectResponseReceivedCallback(),this.bindVideoEvents()},bindOrReportVideoEvent:function(t,e){var n=this.getPreviousVpaidEvents(),r=this;if(n.indexOf(t)>-1)r.reportVideoTimingEvent(e);else{this.getVpaidWrapper().subscribe((function(){r.reportVideoTimingEvent(e)}),t)}},bindVideoEvents:function(){try{var t=this.getVpaidWrapper();if((null==t?void 0:t.getPreviousEvents)&&"function"==typeof t.getPreviousEvents)t.getPreviousEvents().indexOf("AdStarted")>-1?this.initiateMonitoring():t.subscribe(this.initiateMonitoring.bind(this),"AdStarted"),this.bindOrReportVideoEvent("AdError","dvp_ader"),this.bindOrReportVideoEvent("AdStopped","dvp_adst"),this.bindOrReportVideoEvent("AdVideoStart","dvp_avse"),this.bindOrReportVideoEvent("AdImpression","dvp_aie");else this.reportBsEvent({dvp_innovidCallbackEx:3,dvp_innovidCallbackExMsg:"vpaidWrapper.getPreviousEvents not a function"})}catch(t){this.reportBsEvent({dvp_innovidCallbackEx:2,dvp_innovidCallbackExMsg:t.message})}},buildEventUrl:function(t){return this.generateBsEventBaseUrl()+"&"+e.serializeObjectToQueryString(t,!0)},generateBsEventBaseUrl:function(){var t="impid="+encodeURIComponent(o);return a+"bsevent.gif?"+t},generateResponseReceivedCallbackName:function(){return"responseReceived_"+o},generateTimestamp:function(){try{return Date.now()}catch(t){return(new Date).getTime()}},getEventParams:function(t){var e,n=this.resolveOriginalResultId(),i=n;if(!t)switch(i=2,n){case r.ResultId.Block:e=r.ReasonId.AllowAcknowledgedTimeoutBlockResponse;break;case r.ResultId.Allow:e=r.ReasonId.AllowAcknowledgedTimeoutAllowResponse;break;case r.ResultId.BadRequest:e=r.ReasonId.AllowAcknowledgedTimeoutBadDataResponse;break;case r.ResultId.BadImplementation:e=r.ReasonId.AllowAcknowledgedTimeoutBadImplementationResponse}return{bres:i,breason:e,dvp_blkDecUsed:t?"1":"0"}},getPreviousVpaidEvents:function(){return this.getVpaidWrapper().getPreviousEvents()},getVpaidWrapper:function(){return window[s]()},initiateMonitoring:function(){this.wasMonitoringInjected||(this.wasMonitoringInjected=!0,this.reportBsEvent({dvp_injd:1}),"undefined"!=typeof process&&void 0!==process.env||p(i))},injectResponseReceivedCallback:function(){var t=this.resolveOriginalResultId(),e=this.generateResponseReceivedCallbackName();if("function"==typeof window[d]){var n=!1,r=this;setTimeout((function(){r.reportBsEvent({dvp_wasCallbackCalled:n})}),1e3),window[e]=function(t,e,i,o,a,s,d){n=!0;try{if(d)r.reportBsEvent({dvp_stat:d});else{var p=r.generateTimestamp();r.reportBsEvent({dvp_r9:p});var c=r.getEventParams(e);c.dvp_cStartTS=i,c.dvp_cEndTS=o,c.dvp_dReceivedTS=a,c.dvp_wasAdPlayed=t,r.reportBsEvent(c),t&&r.initiateMonitoring()}}catch(t){r.reportBsEvent({dvp_innovidCallbackEx:1,dvp_innovidCallbackExMsg:t.message})}};try{var i=this.generateTimestamp();r.reportBsEvent({dvp_r8:i}),window[d](t,e)}catch(t){this.reportBsEvent({dvp_innovidEx:1,dvp_innovidExMsg:t.message})}}else this.reportBsEvent({dvp_innovidNoCallback:1})},reportBsEvent:function(t){var e=this.buildEventUrl(t);n.sendBeacon(e,!0)},reportVideoTimingEvent:function(t){var e={};e[t]=this.generateTimestamp(),this.reportBsEvent(e)},resolveOriginalResultId:function(){var e;switch(t.ResultID){case r.ResultId.BlockNotAcknowledged:e=r.ResultId.Block;break;case r.ResultId.AllowNotAcknowledged:e=r.ResultId.Allow;break;default:e=t.ResultID}return e}}}},9402:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AdContainerSizeBL=void 0;var o=n(9056),a=n(652),s=n(7526),d=n(4747),p=n(5191),c=n(708),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return!(1&p.WindowAdaptor.getScenarioType()||4&p.WindowAdaptor.getScenarioType())},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[a.DvEvent.exposureData]=this.handleContainerAdSizeData.bind(this),t},e.prototype.handleContainerAdSizeData=function(t){var e,n;try{var r=t.relevantData,i=null===(e=null==t?void 0:t.adCandidate)||void 0===e?void 0:e.adContainerHeight,o=null===(n=null==t?void 0:t.adCandidate)||void 0===n?void 0:n.adContainerWidth,p=r.containerSize,u=void 0===p?{}:p,l=u.height,v=u.width;if(!d.Utilities.isNullOrEmpty(l)&&!d.Utilities.isNullOrEmpty(v)){var f=Math.round(l),h=Math.round(v);t.adCandidate.adContainerHeight=f,t.adCandidate.adContainerWidth=h,t.adCandidate.isInvalidContainerSize=this.isInvalidContainerSize(l,v),f===i&&h===o||a.EventBus.dispatchEvent(a.DvEvent.reportData,t)}}catch(t){c.MessageHandler.sendError(s.ClientErrorType.MeasurementError,t,"couldn't extract container Size")}},e.prototype.isInvalidContainerSize=function(t,e){return!(d.Utilities.isNullOrEmpty(t)||d.Utilities.isNullOrEmpty(e)||1&p.WindowAdaptor.getScenarioType()||t!==e||1!==t&&0!==t)},e}(o.BaseAdBL);e.AdContainerSizeBL=u},4432:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AdDomElementObserverBL=void 0;var o=n(652),a=n(9056),s=n(7083),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.adSelected]=this.startObservingDomElement.bind(this),t},e.prototype.startObservingDomElement=function(t){var e,n,r=null===(e=null==t?void 0:t.adCandidate)||void 0===e?void 0:e.domElement,i=null===(n=null==t?void 0:t.adCandidate)||void 0===n?void 0:n.windowElement;if(r&&i){s.ScriptDynamicFlags.getInstance().turnOn(4);var o=new MutationObserver(function(t){this.handleDomElementRemoval(o,r,i)}.bind(this));o.observe(i.document,{subtree:!0,childList:!0})}},e.prototype.handleDomElementRemoval=function(t,e,n){n.document.contains(e)||(s.ScriptDynamicFlags.getInstance().turnOn(8),t.disconnect())},e.prototype.init=function(){},e}(a.BaseAdBL);e.AdDomElementObserverBL=d},3186:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AdElementInfoExtractorBL=void 0;var o=n(652),a=n(9056),s=n(4747),d=n(7384),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.adSelected]=this.adSelected.bind(this),t},e.prototype.adSelected=function(t){var e=this.extractAdElementType(t);(e=this.logAdDimensionDataPoints(t)||e)&&o.EventBus.dispatchEvent(o.DvEvent.reportData,t)},e.prototype.extractAdElementType=function(t){var e;return!!(null===(e=null==t?void 0:t.adCandidate)||void 0===e?void 0:e.domElement)&&(t.adCandidate.adElementType=s.Utilities.extractElementType(t.adCandidate.domElement),!0)},e.prototype.logAdDimensionDataPoints=function(t){var e;try{var n=null===(e=null==t?void 0:t.adCandidate)||void 0===e?void 0:e.domElement;if(!s.Utilities.isNullOrEmpty(n)){var r=n.tagName;if("IFRAME"===(null==r?void 0:r.toUpperCase())){var i=this.getIframeDocument(n);if(void 0!==i){var o=this.getBiggestChildElement(i);if(void 0!==o){var a=o.scrollHeight,d=o.scrollWidth;return t.adCandidate.largestChildElementHeight=a,t.adCandidate.largestChildElementWidth=d,!0}}}}return!1}catch(t){return!1}},e.prototype.getIframeDocument=function(t){try{return t.contentDocument||t.contentWindow.document}catch(t){return}},e.prototype.getBiggestChildElement=function(t){try{var e=this.getPotentialAdChildren(t);return this.findBiggestChild(e)}catch(t){}},e.prototype.findBiggestChild=function(t){var e=new d.ValidateByAdTypeAndSize;return t.filter((function(t){return e.validate(t)})).reduce((function(t,e){return t.scrollHeight*t.scrollWidth>=e.scrollHeight*e.scrollWidth?t:e}))},e.prototype.getPotentialAdChildren=function(t){var e=t.querySelectorAll(["object","embed","img","iframe","svg","canvas"].join(","));return Array.prototype.slice.call(e)},e.prototype.init=function(){},e}(a.BaseAdBL);e.AdElementInfoExtractorBL=p},1545:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AdSelector=void 0;var o=n(652),a=n(4472),s=n(7526),d=n(9056),p=n(8245),c=n(6089),u=n(708),l=n(7258),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getActionName=function(){return"AdSelector"},e.prototype.init=function(){this.adCandidates=[],this.wasImpressionServed=!1,this.wasAdSelected=!1,this.timeoutOccurred=!1,this.adSelectedDelayTime=-1},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.adCandidateLocated]=this.adCandidateLocated.bind(this),t[o.DvEvent.impressionServed]=this.impressionServed.bind(this),t[o.DvEvent.unloadData]=this.unloadData.bind(this),t[o.DvEvent.delayAdSelection]=this.delayAdSelectionCalled.bind(this),t[o.DvEvent.reserveAdLocator]=this.reserveAdLocator.bind(this),t},e.prototype.adCandidateLocated=function(t){var e=t.adCandidate;this.wasAdSelected||(this.fillAdCandidates(e),this.trySelectAd(),this.timeoutOccurred&&this.reportSelectedAd())},e.prototype.impressionServed=function(){this.wasImpressionServed=!0,this.adSelectedDefaultDelayTime=a.DvObject.getConsolidationTimeout()||2100,this.detectedDeliveryType=a.DvObject.getDetectedDeliveryType(),l.DvTagDataObject.getTagType()!=s.DvTagType.Video&&3!=this.detectedDeliveryType||(this.adSelectedDefaultDelayTime=0),this.trySelectAd(),this.registerAdSelectionTimeout(this.adSelectedDefaultDelayTime)},e.prototype.fillAdCandidates=function(t){var e=this.adCandidates.filter((function(e){return e.domElement==t.domElement}))[0];e&&this.isSameDetectedDeliveryType(e,t)?(e.priority+=t.priority,e.locatorMethods=e.locatorMethods|t.locatorMethods,e.state=4==e.state?t.state:e.state):(this.adCandidates.push(t),o.EventBus.dispatchEvent(o.DvEvent.adCandidateApproved,new p.AdCandidateEventData(t)))},e.prototype.isSameDetectedDeliveryType=function(t,e){return t.supportedDeliveryType.every((function(t){return e.supportedDeliveryType.indexOf(t)>-1}))},e.prototype.trySelectAd=function(){var t=this;if(this.wasImpressionServed&&this.adCandidates.length){var e=this.adCandidates.filter((function(e){return e.supportedDeliveryType.some((function(e){return e==t.detectedDeliveryType}))&&1==e.state}));this.adPriorityToReserve&&(e=e.filter((function(e){return e.priority>=t.adPriorityToReserve}))),e.length&&(this.currentSelectedAd=e.reduce((function(t,e){return t.priority>=e.priority?t:e})))}},e.prototype.reportSelectedAd=function(){if(this.timeoutOccurred=!0,this.currentSelectedAd&&!this.wasAdSelected)if(this.adPriorityToReserve&&this.currentSelectedAd.priority<this.adPriorityToReserve)this.currentSelectedAd=null;else{this.wasAdSelected=!0,this.currentSelectedAd.state=2;var t=new p.AdCandidateEventData(this.currentSelectedAd);o.EventBus.dispatchEvent(o.DvEvent.adSelected,t),this.setDestroySelectedAdTimeout(t)}this.destroyAds()},e.prototype.setDestroySelectedAdTimeout=function(t){c.BrowserAdaptor.setTimeout((function(){o.EventBus.dispatchEvent(o.DvEvent.adDestroy,t)}),12e5)},e.prototype.unloadData=function(t){if(this.wasImpressionServed){var e=t.relevantData;this.reportSelectedAd(),this.wasAdSelected||this.reportNotMeasured||(this.reportNotMeasured=!0,u.MessageHandler.sendMessage({isnmms:e.updateTime}))}},e.prototype.destroyAds=function(){this.adCandidates.filter((function(t){return 1==t.state})).forEach((function(t){o.EventBus.dispatchEvent(o.DvEvent.adDestroy,new p.AdCandidateEventData(t)),t.state=3}))},e.prototype.reserveAdLocator=function(t){this.adPriorityToReserve=t.adPriority},e.prototype.delayAdSelectionCalled=function(t){var e=t.delayTimeMS;this.registerAdSelectionTimeout(e)},e.prototype.registerAdSelectionTimeout=function(t){!this.wasAdSelected&&t>this.adSelectedDelayTime&&(this.adSelectedDelayTime=t,this.adSelectionTimeoutId&&c.BrowserAdaptor.clearTimeout(this.adSelectionTimeoutId),this.adSelectionTimeoutId=c.BrowserAdaptor.setTimeout(this.reportSelectedAd.bind(this),this.adSelectedDelayTime))},e}(d.BaseAdBL);e.AdSelector=v},2178:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AdSelectorLogger=void 0;var o=n(652),a=n(805),s=n(7526),d=n(9056),p=n(708),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){this.adCandidatesLocatorMethods=0,this.numberOfAdCandidates=0,this.wasAdSelected=!1},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.adCandidateLocated]=this.adCandidateLocated.bind(this),t[o.DvEvent.adCandidateApproved]=this.adCandidateApproved.bind(this),t[o.DvEvent.adSelected]=this.adSelected.bind(this),t},e.prototype.adCandidateLocated=function(t){this.wasAdSelected||(this.adCandidatesLocatorMethods=this.adCandidatesLocatorMethods|t.adCandidate.locatorMethods)},e.prototype.adCandidateApproved=function(){this.numberOfAdCandidates++},e.prototype.adSelected=function(t){var e;this.wasAdSelected=!0,p.MessageHandler.sendMessage(((e={})[a.EngagementDataMapping.adCandidatesLocatorMethods]=this.adCandidatesLocatorMethods,e[a.EngagementDataMapping.numberOfAdCandidates]=this.numberOfAdCandidates,e)),t.adCandidate.locatorMethods&(s.LocatorMethods.DisplayIntegratedCeltra|s.LocatorMethods.DisplayNonIntegratedCeltra)&&p.MessageHandler.sendMessage({dvp_csm:t.adCandidate.celtraTagSearchMethod})},e}(d.BaseAdBL);e.AdSelectorLogger=c},8818:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AdSizeBL=void 0;var o=n(9056),a=n(652),s=n(8245),d=n(7258),p=n(7526),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[a.DvEvent.exposureData]=this.handleAdSizeData.bind(this),t},e.prototype.handleAdSizeData=function(t){var e=t.adCandidate,n=t.relevantData;if(!(d.DvTagDataObject.getTagType()==p.DvTagType.Video&&!n.adIsPlaying||e.adWidth&&e.adHeight)&&n.adSize){var r=e.adWidth,i=e.adHeight;if(e.adWidth=n.adSize.width?Math.ceil(n.adSize.width):e.adWidth,e.adHeight=n.adSize.height?Math.ceil(n.adSize.height):e.adHeight,r!=e.adWidth||i!=e.adHeight){var o=new s.AdCandidateEventData(e);a.EventBus.dispatchEvent(a.DvEvent.adSizeChangedData,o),a.EventBus.dispatchEvent(a.DvEvent.reportData,o)}}},e}(o.BaseAdBL);e.AdSizeBL=c},9056:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseAdBL=void 0;var r=n(652),i=function(){function t(){this.isSupported()&&(this.init(),r.EventBus.addEventsListener(this.getEventsAndCallbacksToRegister(),this.getActionName()))}return t.prototype.getActionName=function(){return"BaseAdBL"},t}();e.BaseAdBL=i},4246:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseAdDataLoggerBL=void 0;var r=n(652),i=n(4472),o=n(8245),a=n(4747),s=function(){function t(){this.isSupported()&&a.Utilities.isPercentageCriteriaPassed(this.getTrafficPercentage())&&this.init()}return t.prototype.init=function(){var t=this;r.EventBus.addEventListener(r.DvEvent.impressionServed,(function(){t.isSupportedDetectedDeliveryType()&&r.EventBus.addEventsListener(t.getEventsAndCallbacksToRegister(),t.getActionName())}))},t.prototype.report=function(t){r.EventBus.dispatchEvent(r.DvEvent.reportData,new o.AdCandidateEventData(t))},t.prototype.isSupportedDetectedDeliveryType=function(){return this.getSupportedDetectedDeliveryType().some((function(t){return t==i.DvObject.getDetectedDeliveryType()}))},t}();e.BaseAdDataLoggerBL=s},8087:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Cm360Logger=void 0;var o=n(9056),a=n(7258),s=n(7526),d=n(652),p=n(708),c=n(805),u=function(t){function e(e){var n=t.call(this)||this;return n.adContainerInspector=e.createAdContainerInspector(),n}return i(e,t),e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[d.DvEvent.impressionServed]=this.reportAdContainerData.bind(this),t},e.prototype.reportAdContainerData=function(){var t,e,n,r,i,o,a={};a[c.AdContainerDataMapping.totalNumOfImageElements]=null===(t=this.adContainerInspector)||void 0===t?void 0:t.getDescendants(["img"]).length,a[c.AdContainerDataMapping.numOfDirectImgElements]=null===(e=this.adContainerInspector)||void 0===e?void 0:e.getDirectChildren(["img"]).length,a[c.AdContainerDataMapping.numOfDirectIframeElements]=null===(n=this.adContainerInspector)||void 0===n?void 0:n.getDirectChildren(["iframe"]).length,a[c.AdContainerDataMapping.numOfDirectDivElements]=null===(r=this.adContainerInspector)||void 0===r?void 0:r.getDirectChildren(["div"]).length,a[c.AdContainerDataMapping.numOfDirectOtherElements]=null===(i=this.adContainerInspector)||void 0===i?void 0:i.getDirectChildren([],["img","iframe","div"]).length;var s=null===(o=this.adContainerInspector)||void 0===o?void 0:o.getMostPopularDirectChildElement(["img","iframe","div"]);s&&(a[c.AdContainerDataMapping.mostPopularDirectElementNotImgOrIframe]=s),p.MessageHandler.sendMessage(a)},e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getIsCm360CreativeWrapping()&&a.DvTagDataObject.getTagType()==s.DvTagType.Display},e}(o.BaseAdBL);e.Cm360Logger=u},2552:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CreativeVsContainerBL=void 0;var a=n(652),s=n(9056),d=n(8245),p=n(2672),c=n(1929),u=n(8444),l=n(4747),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[a.DvEvent.adSelected]=this.processMeasuredElementData.bind(this),t},e.prototype.processMeasuredElementData=function(t){var e=t.adCandidate,n=this.extractMeasuredElementType(e);l.Utilities.isNullOrEmpty(n)||this.sendUpdatedMeasuredElementData(n)},e.prototype.extractMeasuredElementType=function(t){var e,n,r=[p.OmidMeasuredElementExtractor,c.DefaultMeasuredElementExtractor];try{for(var i=o(r),a=i.next();!a.done;a=i.next()){var s=new(0,a.value)(t);if(s.isSupported())return t.measuredElementExtractorId=s.getMeasuredElementExtractorId(),t.measuredElementType=s.extract(),t}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return null},e.prototype.sendUpdatedMeasuredElementData=function(t){u.DiagnosticParamsSingleton.reportDiagnosticParam("cvcMethodId",t.measuredElementExtractorId),a.EventBus.dispatchEvent(a.DvEvent.reportData,new d.AdCandidateEventData(t))},e.prototype.init=function(){},e}(s.BaseAdBL);e.CreativeVsContainerBL=v},4730:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)},a=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.DataTransparencyBL=void 0;var s=n(659),d=n(4472),p=n(7258),c=n(652),u=n(708),l=n(5191),v=n(9056),f=["sadv","ord","litm","scrt","invs","splc","adu","spos"],h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timesMessageSent=0,e}return i(e,t),e.prototype.getActionName=function(){return"DataTransparency"},e.prototype.init=function(){s.initialize(l.WindowAdaptor.workingWindow())},e.prototype.isSupported=function(){return!l.WindowAdaptor.isDomlessEnvironment()&&l.WindowAdaptor.isPostMessageSupported()},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[c.DvEvent.impressionServed]=this.subscribe.bind(this),t},e.prototype.getSellerDimensionsFromTag=function(){var t,e,n=p.DvTagDataObject.getLowerCaseParams(),r={};try{for(var i=a(f),o=i.next();!o.done;o=i.next()){var s=o.value;null!=n[s]&&(r[s]=n[s])}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return r},e.prototype.getSellerDimensionsFromState=function(t){return p.DvTagDataObject.isSellerTag()||null==t.sellerDimensions?{}:t.sellerDimensions},e.prototype.onSharedStateUpdated=function(t){if(!(this.timesMessageSent>=5)){this.timesMessageSent++;var e=s.coverageToBitFlag(t.coverage);if(t.coverage.buyerMonitoringTag&&(t.coverage.sellerMonitoringTag||t.coverage.sellerPageTag)){var n=t.linking.sharedId,r=this.getSellerDimensionsFromState(t);u.MessageHandler.sendMessage(o({mascid:n,dvp_dtcov:e},r))}else u.MessageHandler.sendMessage({dvp_dtcov:e})}},e.prototype.subscribe=function(){var t=d.DvObject.getImpressionId(l.WindowAdaptor.currentWindow()),e=p.DvTagDataObject.isSellerTag(),n={impressionId:t,isSellerTag:e};e&&(n.sellerDimensions=this.getSellerDimensionsFromTag()),s.subscribe(l.WindowAdaptor.workingWindow(),this.onSharedStateUpdated.bind(this),n)},e}(v.BaseAdBL);e.DataTransparencyBL=h},2274:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.EligibilityCompatibilityIndicator=void 0;var o=n(805),a=n(5137),s=n(3985),d=n(7526),p=n(9056),c=n(7258),u=n(4472),l=n(652),v=n(2913),f=n(708),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getActionName=function(){return"EligibilityCompatibilityIndicator"},e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[l.DvEvent.impressionServed]=this.start.bind(this),t},e.prototype.start=function(){var t,e;if(null==u.DvObject.getDetectedDeliveryType()||u.DvObject.isCTV())e=!1;else if(c.DvTagDataObject.isTagTypeValid())if(u.DvObject.isMobileApp())e=s.MraidWrapper.isSupported()||a.OmidWrapper.isSupported();else if(c.DvTagDataObject.getTagType()==d.DvTagType.Video){e=!!v.VpaidWrapper.getDvVpaid()}else e=!0;else f.MessageHandler.sendMessage({dvp_vtt:1}),e=!1;var n=((t={})[o.ExposureDataMapping.isViewabilityEligible]=e?1:0,t);this.report(n)},e.prototype.report=function(t){f.MessageHandler.sendMessage(t)},e}(p.BaseAdBL);e.EligibilityCompatibilityIndicator=h},2813:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AdLocatedBL=void 0;var o=n(652),a=n(9056),s=n(8245),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.adCandidateApproved]=this.handleEvent.bind(this),t},e.prototype.handleEvent=function(t){var e=t.adCandidate;e.timeMsUntilAdLocated=t.updateTime,e.isEngagementEligible=1,o.EventBus.dispatchEvent(o.DvEvent.reportData,new s.AdCandidateEventData(e))},e}(a.BaseAdBL);e.AdLocatedBL=d},5683:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BaseInteractionBL=void 0;var o=n(652),a=n(8245),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){return!0},e.prototype.init=function(){},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[this.getInteractionEventName()]=this.handleEvent.bind(this),t},e.prototype.handleEvent=function(t){this.allowReport(t.adCandidate)&&(1==this.update(t.adCandidate,t.relevantData)&&o.EventBus.dispatchEvent(o.DvEvent.reportData,new a.AdCandidateEventData(t.adCandidate)))},e.prototype.allowReport=function(t){return!t.wasAdStopped},e}(n(9056).BaseAdBL);e.BaseInteractionBL=s},5290:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.EngagementReportRtsBL=void 0;var o=n(9056),a=n(652),s=n(8245),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[a.DvEvent.orientationchangeLandscapeData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.orientationChangePortraitData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.mouseMoveData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.keyPressData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.firstTouchData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.firstHoverData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.focusData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.firstClickOnAdElementData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.firstFocusIntoAdElementData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.omidClickData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.abandonData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.skipData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.pauseData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.adSizeData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.resumeData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.volumeData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.scrollData]=this.TrySendEngagementInteraction.bind(this),t[a.DvEvent.unloadData]=this.TrySendEngagementUnload.bind(this),t},e.prototype.TrySendEngagementInteraction=function(t){var e=t.adCandidate,n=this.adEngagementReported(e),r=this.pageEngagementReported(e);n==e.adEngagement&&r==e.pageEngagement||(e.adEngagement=n,e.pageEngagement=r,a.EventBus.dispatchEvent(a.DvEvent.reportData,new s.AdCandidateEventData(e)))},e.prototype.TrySendEngagementUnload=function(t){this.TrySendEngagementInteraction(t);var e=t.adCandidate;e.adEngagement||e.pageEngagement||(e.noEngagement=!0,a.EventBus.dispatchEvent(a.DvEvent.reportData,new s.AdCandidateEventData(e)))},e.prototype.adEngagementReported=function(t){if(t.timeMsUntilAbandon||t.timeMsUntilSkip||t.timeMsUntilPause||t.timeMsUntilClick||t.timeMsUntilAdSizeIncrease||t.timeMsUntilResume||t.timeMsUntilTouch||t.timeMsUntilHover||t.timeMsUntilAdSizeDecrease||t.timeMsUntilVolumeIncrease||t.timeMsUntilVolumeDecrease||t.timeMsUntilVolumeUnMute||t.lastTimeMsVolumeMute)return!0},e.prototype.pageEngagementReported=function(t){if(t.timeMsUntilFocusOut||t.timeMsUntilFocusIn||t.timeMsUntilMouseMove||t.timeMsUntilKeyPress||t.timeMsUntilScroll||t.timeMsUntilOrientationChangeToLandscape||t.timeMsUntilOrientationChangeToPortrait)return!0},e}(o.BaseAdBL);e.EngagementReportRtsBL=d},2254:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionAdSizeBL=void 0;var o=n(652),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getInteractionEventName=function(){return o.DvEvent.adSizeData},e.prototype.update=function(t,e){var n=2;if(t.isPaused)return n;var r=e.updateTime;switch(this.getAdSizeState(t.lastAdSize,e.adSize)){case 3:break;case 2:if(t.timeMsUntilAdSizeIncrease)break;t.timeMsUntilAdSizeIncrease=r,n=1;break;case 1:if(t.timeMsUntilAdSizeDecrease)break;t.timeMsUntilAdSizeDecrease=r,n=1}return t.lastAdSize=e.adSize,n},e.prototype.getAdSizeState=function(t,e){var n=this.getSurface(t),r=this.getSurface(e);return n&&r&&n!=r?r>n?2:1:3},e.prototype.getSurface=function(t){return t&&t.width&&t.height?t.width*t.height:0},e}(n(5683).BaseInteractionBL);e.InteractionAdSizeBL=a},5228:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ClickMeasurementMethod=e.InteractionClickBL=void 0;var o=n(652),a=n(5683),s=n(7526),d=n(7083),p=n(8245),c=n(7258),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){this.isFocusIntoAdElementLogicApplicable()&&d.ScriptDynamicFlags.getInstance().turnOn(67108864)},e.prototype.getInteractionEventName=function(){return o.DvEvent.firstClickOnAdElementData},e.prototype.getEventsAndCallbacksToRegister=function(){var t,e=this;return(t={})[o.DvEvent.firstClickOnAdElementData]=function(t){return e.handleClickEvent(t,1)},t[o.DvEvent.omidClickData]=function(t){return e.handleClickEvent(t,2)},t[o.DvEvent.firstFocusIntoAdElementData]=function(t){return e.handleFocusIntoAdElementEvent(t,4)},t},e.prototype.handleClickEvent=function(e,n){e.adCandidate.clickMeasurementMethod|=n,t.prototype.allowReport.call(this,e.adCandidate)&&this.update(e.adCandidate,e.relevantData),o.EventBus.dispatchEvent(o.DvEvent.reportData,new p.AdCandidateEventData(e.adCandidate))},e.prototype.handleFocusIntoAdElementEvent=function(t,e){this.isFocusIntoAdElementLogicApplicable()&&this.handleClickEvent(t,e)},e.prototype.isFocusIntoAdElementLogicApplicable=function(){return c.DvTagDataObject.getTagType()==s.DvTagType.Display},e.prototype.update=function(t,e){var n=2;return t.isPaused||t.timeMsUntilClick||(t.timeMsUntilClick=e.updateTime,n=1),n},e}(a.BaseInteractionBL);e.InteractionClickBL=u,function(t){t[t.ClickEventOnAdElement=1]="ClickEventOnAdElement",t[t.ClickFromOmid=2]="ClickFromOmid",t[t.ClickedDueToFocusIntoAdElement=4]="ClickedDueToFocusIntoAdElement"}(e.ClickMeasurementMethod||(e.ClickMeasurementMethod={}))},8518:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionFocusBL=void 0;var o=n(652),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getInteractionEventName=function(){return o.DvEvent.focusData},e.prototype.update=function(t,e){var n=2,r=e.updateTime;if(t.isPaused)return n;switch(this.getFocusState(t.lastFocus,e.focus)){case 3:break;case 1:if(t.timeMsUntilFocusIn)break;t.timeMsUntilFocusIn=r,n=1;break;case 2:if(t.timeMsUntilFocusOut)break;t.timeMsUntilFocusOut=r,n=1}return t.lastFocus=e.focus,n},e.prototype.getFocusState=function(t,e){var n;return null==t||null==e||t==e?n=3:0==t&&1==e?n=1:1==t&&0==e&&(n=2),n},e}(n(5683).BaseInteractionBL);e.InteractionFocusBL=a},2690:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionHoverBL=void 0;var o=n(652),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getInteractionEventName=function(){return o.DvEvent.firstHoverData},e.prototype.update=function(t,e){var n=2;return t.isPaused||t.timeMsUntilHover||(t.timeMsUntilHover=e.updateTime,n=1),n},e}(n(5683).BaseInteractionBL);e.InteractionHoverBL=a},5661:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionTouchBL=void 0;var o=n(652),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getInteractionEventName=function(){return o.DvEvent.firstTouchData},e.prototype.update=function(t,e){var n=2;return t.isPaused||t.timeMsUntilTouch||(t.timeMsUntilTouch=e.updateTime,n=1),n},e}(n(5683).BaseInteractionBL);e.InteractionTouchBL=a},8380:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionKeyPressBL=void 0;var o=n(5683),a=n(652),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getInteractionEventName=function(){return a.DvEvent.keyPressData},e.prototype.update=function(t,e){var n=2;return t.timeMsUntilKeyPress||(t.timeMsUntilKeyPress=e.updateTime,n=1),n},e}(o.BaseInteractionBL);e.PageInteractionKeyPressBL=s},1202:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionMouseMoveBL=void 0;var o=n(5683),a=n(652),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getInteractionEventName=function(){return a.DvEvent.mouseMoveData},e.prototype.update=function(t,e){var n=2;return t.timeMsUntilMouseMove||(t.timeMsUntilMouseMove=e.updateTime,n=1),n},e}(o.BaseInteractionBL);e.PageInteractionMouseMoveBL=s},9122:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionOrientationChangeLandscapeBL=void 0;var o=n(5683),a=n(652),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getInteractionEventName=function(){return a.DvEvent.orientationchangeLandscapeData},e.prototype.update=function(t,e){var n=2;return t.timeMsUntilOrientationChangeToLandscape||(t.timeMsUntilOrientationChangeToLandscape=e.updateTime,n=1),n},e}(o.BaseInteractionBL);e.PageInteractionOrientationChangeLandscapeBL=s},7094:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionOrientationChangePortraitBL=void 0;var o=n(5683),a=n(652),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getInteractionEventName=function(){return a.DvEvent.orientationChangePortraitData},e.prototype.update=function(t,e){var n=2;return t.timeMsUntilOrientationChangeToPortrait||(t.timeMsUntilOrientationChangeToPortrait=e.updateTime,n=1),n},e}(o.BaseInteractionBL);e.PageInteractionOrientationChangePortraitBL=s},7234:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionScrollBL=void 0;var o=n(5683),a=n(652),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getInteractionEventName=function(){return a.DvEvent.scrollData},e.prototype.update=function(t,e){var n=2;return t.timeMsUntilScroll||(t.timeMsUntilScroll=e.updateTime,n=1),n},e}(o.BaseInteractionBL);e.PageInteractionScrollBL=s},7447:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionAbandonBL=void 0;var o=n(652),a=n(5683),s=n(7258),d=n(7526),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.getInteractionEventName=function(){return o.DvEvent.abandonData},e.prototype.update=function(t,e){var n=2;return s.DvTagDataObject.getTagType()!=d.DvTagType.Video||t.timeMsUntilSkip||t.timeMsUntilAbandon||(t.timeMsUntilAbandon=e.updateTime,n=1),n},e}(a.BaseInteractionBL);e.InteractionAbandonBL=p},1855:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionPauseBL=void 0;var o=n(652),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getInteractionEventName=function(){return o.DvEvent.pauseData},e.prototype.update=function(t,e){var n=2;return t.isPaused||(t.timeMsUntilPause||(t.timeMsUntilPause=e.updateTime,n=1),t.isPaused=!0),n},e}(n(5683).BaseInteractionBL);e.InteractionPauseBL=a},3654:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionResumeBL=void 0;var o=n(652),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getInteractionEventName=function(){return o.DvEvent.resumeData},e.prototype.update=function(t,e){var n=2;return t.timeMsUntilResume||1!=t.isPaused||(t.isPaused=!1,t.timeMsUntilResume=e.updateTime,n=1),n},e}(n(5683).BaseInteractionBL);e.InteractionResumeBL=a},9548:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionSkipBL=void 0;var o=n(652),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getInteractionEventName=function(){return o.DvEvent.skipData},e.prototype.update=function(t,e){var n=2;return t.timeMsUntilSkip||(t.timeMsUntilSkip=t.adSkippedTime=e.updateTime,t.adSkippableMs||(t.adSkippableMs=e.updateTime),n=1),n},e}(n(5683).BaseInteractionBL);e.InteractionSkipBL=a},5866:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionVolumeBL=void 0;var o=n(652),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getInteractionEventName=function(){return o.DvEvent.volumeData},e.prototype.update=function(t,e){var n=2,r=e.updateTime;switch(this.getVolumeState(t.lastVideoVolume,e.volume)){case 5:break;case 3:if(t.timeMsUntilVolumeMute)break;t.timeMsUntilVolumeMute=r,n=1;break;case 1:if(t.timeMsUntilVolumeDecrease)break;t.timeMsUntilVolumeDecrease=r,n=1;break;case 4:if(t.timeMsUntilVolumeUnMute)break;t.timeMsUntilVolumeUnMute=r,n=1;break;case 2:if(t.timeMsUntilVolumeIncrease)break;t.timeMsUntilVolumeIncrease=r,n=1}return t.lastVideoVolume=e.volume,n},e.prototype.getVolumeState=function(t,e){var n;return null==t||null==e||t==e?n=5:0===e&&t>0?n=3:e<t?n=1:0===t&&e>0?n=4:e>t&&(n=2),n},e}(n(5683).BaseInteractionBL);e.InteractionVolumeBL=a},3885:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.QuartileBucketsVolumeBL=void 0;var o=n(652),a=n(8245),s=n(7258),d=n(9056),p=n(7526),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return s.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.exposureData]=this.handleVolumeData.bind(this),t[o.DvEvent.adVideoFirstQuartileData]=this.handleQuartileData.bind(this,1),t[o.DvEvent.adVideoMidpointData]=this.handleQuartileData.bind(this,2),t[o.DvEvent.adVideoThirdQuartileData]=this.handleQuartileData.bind(this,3),t[o.DvEvent.adVideoCompleteData]=this.handleQuartileData.bind(this,4),t},e.prototype.handleVolumeData=function(t){var e=t.adCandidate,n=t.relevantData;if(n.adIsPlaying&&(this.updateDvpQuartileVolume(e.volumeDurationQuartileId,n.volume,t),!(null==n.volume||n.volume<0))){var r=n.volume?n.intervalDuration:0,i="q"+e.volumeDurationQuartileId+"ad";e[i]=e[i]?e[i]+r:r,n.volume&&e.markAdQuartile(2,e.volumeDurationQuartileId)}},e.prototype.handleQuartileData=function(t,e){var n=e.adCandidate;n.volumeDurationQuartileId=t+1,o.EventBus.dispatchEvent(o.DvEvent.reportData,new a.AdCandidateEventData(n))},e.prototype.updateDvpQuartileVolume=function(t,e,n){var r=n.adCandidate;switch(t){case 1:r.quartile1Volume|=e<0?1:0==e?2:e>0?4:null;break;case 2:r.quartile2Volume|=e<0?1:0==e?2:e>0?4:null;break;case 3:r.quartile3Volume|=e<0?1:0==e?2:e>0?4:null;break;case 4:r.quartile4Volume|=e<0?1:0==e?2:e>0?4:null}},e}(d.BaseAdBL);e.QuartileBucketsVolumeBL=c},1437:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.VideoCompleteBL=void 0;var o=n(652),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getInteractionEventName=function(){return o.DvEvent.adVideoCompleteData},e.prototype.update=function(t,e){return t.wasAdStopped=!0,2},e}(n(5683).BaseInteractionBL);e.VideoCompleteBL=a},2377:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.VideoLengthBL=void 0;var o=n(652),a=n(8245),s=n(7258),d=n(9056),p=n(7526),c=n(4747),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return s.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.adVideoFirstQuartileData]=this.calculateVideoLengthDueToFirstQuartile.bind(this),t[o.DvEvent.adVideoMidpointData]=this.calculateVideoLengthDueToSecondQuartile.bind(this),t[o.DvEvent.adVideoCompleteData]=this.calculateVideoLengthDueToAdComplete.bind(this),t},e.prototype.calculateVideoLengthDueToFirstQuartile=function(t){var e=t.adCandidate;e.adVideoTimeLine&&(this.setAdDuration(e,4),c.Utilities.logIfNotAnInteger(e.adDuration,e,"adDurationDataValidation"),e.adDurationCalculationType=2)},e.prototype.calculateVideoLengthDueToSecondQuartile=function(t){var e=t.adCandidate;e.adVideoTimeLine&&(e.videoLength=2*e.adVideoTimeLine,this.setAdDuration(e,2),c.Utilities.logIfNotAnInteger(e.adDuration,e,"adDurationDataValidation"),e.adDurationCalculationType=3)},e.prototype.calculateVideoLengthDueToAdComplete=function(t){var e=t.adCandidate;e.adVideoTimeLine&&(this.setAdDuration(e),c.Utilities.logIfNotAnInteger(e.adDuration,e,"adDurationDataValidation"),e.adDurationCalculationType=4,o.EventBus.dispatchEvent(o.DvEvent.reportData,new a.AdCandidateEventData(e)))},e.prototype.setAdDuration=function(t,e){void 0===e&&(e=1),t.adDuration=Math.round(t.adVideoTimeLine*e)},e}(d.BaseAdBL);e.VideoLengthBL=u},5677:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.VideoMarkImpressionAsRenderedBL=void 0;var o=n(9056),a=n(7258),s=n(652),d=n(8245),p=n(7526),c=n(5137),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getActionName=function(){return"VideoMarkImpressionAsRenderedBL"},e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[s.DvEvent.impressionServed]=this.impressionServed.bind(this),t},e.prototype.impressionServed=function(){var t=this;this.getEventsImplyingPlayStarted().forEach((function(e){s.EventBus.addEventListener(e,t.videoRenderedCallback.bind(t))}))},e.prototype.getEventsImplyingPlayStarted=function(){return c.OmidWrapper.isSupported()?[s.DvEvent.adVideoStartData,s.DvEvent.resumeData]:[s.DvEvent.adImpressionData,s.DvEvent.adVideoStartData,s.DvEvent.resumeData]},e.prototype.videoRenderedCallback=function(t){var e=t.adCandidate;null==e.isVideoPreRendered&&(e.isVideoPreRendered=0,e.videoStartTime=t.updateTime,e.timeMsUntilVideoPlayed=t.updateTime,s.EventBus.dispatchEvent(s.DvEvent.videoStartPlaying,new d.AdCandidateEventData(e)),s.EventBus.dispatchEvent(s.DvEvent.reportData,new d.AdCandidateEventData(e)))},e}(o.BaseAdBL);e.VideoMarkImpressionAsRenderedBL=u},1723:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.VideoSkippableBL=void 0;var o=n(652),a=n(7258),s=n(9056),d=n(7526),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==d.DvTagType.Video},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.skippableData]=this.handleSkippableData.bind(this),t},e.prototype.handleSkippableData=function(t){var e=t.adCandidate,n=t.relevantData;n.adSkippable&&(e.adSkippableMs=n.updateTime)},e}(s.BaseAdBL);e.VideoSkippableBL=p},4150:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.VideoStoppedBL=void 0;var o=n(652),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getInteractionEventName=function(){return o.DvEvent.stopData},e.prototype.update=function(t,e){return t.wasAdStopped=!0,2},e}(n(5683).BaseInteractionBL);e.VideoStoppedBL=a},5913:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.VolumeBL=void 0;var o=n(652),a=n(7258),s=n(9056),d=n(7526),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==d.DvTagType.Video},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.exposureData]=this.handleVolumeData.bind(this),t},e.prototype.handleVolumeData=function(t){var e=t.adCandidate,n=t.relevantData;n.adIsPlaying&&this.trySetVolumeValues(e,n)},e.prototype.trySetVolumeValues=function(t,e){var n=e.volume;null==n||n<0||(t.timeMsUntilVolumeMeasured||(t.timeMsUntilVolumeMeasured=e.updateTime),n<0?t.maxVolumeLessThanZero=n:n?t.maxVolumeGreaterThanZero=(t.maxVolumeGreaterThanZero||0)+1:t.maxVolumeEqualToZero=(t.maxVolumeEqualToZero||0)+1,0==(n=Math.max(Math.min(Math.ceil(100*n),100),0))&&null==t.lastTimeMsVolumeMute&&(t.lastTimeMsVolumeMute=e.updateTime),t.minVideoVolume=null==t.minVideoVolume||t.minVideoVolume>n?n:t.minVideoVolume,t.maxVideoVolume=null==t.maxVideoVolume||t.maxVideoVolume<n?n:t.maxVideoVolume)},e}(s.BaseAdBL);e.VolumeBL=p},8365:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.EngagementCompatibilityIndicator=void 0;var o=n(805),a=n(9056),s=n(7258),d=n(652),p=n(4472),c=n(7526),u=n(2913),l=n(708),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getActionName=function(){return"EngagementCompatibilityIndicator"},e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[d.DvEvent.impressionServed]=this.start.bind(this),t},e.prototype.start=function(){var t,e=!(s.DvTagDataObject.getTagType()==c.DvTagType.Video&&!p.DvObject.isMobileApp()&&!u.VpaidWrapper.getDvVpaid()),n=((t={})[o.EngagementDataMapping.engagementMeasurementStatus]=1,t[o.EngagementDataMapping.isEngagementEligible]=e?1:0,t);this.report(n)},e.prototype.report=function(t){l.MessageHandler.sendMessage(t)},e}(a.BaseAdBL);e.EngagementCompatibilityIndicator=v},773:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ExposureBL=void 0;var o=n(652),a=n(8245),s=n(9056),d=n(4747),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.focusData]=this.collectFocusData.bind(this),t[o.DvEvent.strictFocusData]=this.collectStrictFocusData.bind(this),t[o.DvEvent.viewabilityIntervalData]=this.collectViewabilityData.bind(this),t[o.DvEvent.boundariesViewabilityIntervalData]=this.collectBoundariesViewabilityData.bind(this),t[o.DvEvent.adImpressionData]=this.collectAdIsPlayingData.bind(this,!0),t[o.DvEvent.adVideoStartData]=this.collectAdIsPlayingData.bind(this,!0),t[o.DvEvent.pauseData]=this.collectAdIsPlayingData.bind(this,!1),t[o.DvEvent.resumeData]=this.collectAdIsPlayingData.bind(this,!0),t[o.DvEvent.abandonData]=this.collectAdIsPlayingData.bind(this,!1),t[o.DvEvent.skipData]=this.collectAdIsPlayingData.bind(this,!1),t[o.DvEvent.unloadData]=this.collectAdIsPlayingData.bind(this,!1),t[o.DvEvent.adVideoCompleteData]=this.collectAdIsPlayingData.bind(this,!1),t[o.DvEvent.volumeData]=this.collectAdVolumeData.bind(this),t[o.DvEvent.videoLoadedData]=this.collectAdVolumeData.bind(this),t},e.prototype.collectViewabilityData=function(t){var e=t.adCandidate,n=t.relevantData;e.lastExposureTimeEvent=e.lastExposureTimeEvent||n.updateTime;var r=Math.max(n.updateTime-e.lastExposureTimeEvent,100);e.viewabilityAdIsPlaying&&(e.adVideoTimeLine=e.adVideoTimeLine?e.adVideoTimeLine+r:r),d.Utilities.logIfNotAnInteger(n.percentage,e,"percentageDataValidation"),o.EventBus.dispatchEvent(o.DvEvent.exposureData,new a.AdCandidateEventData(e,{adSize:n.adGeometric,viewportSize:n.viewportSize,containerSize:n.containerSize,screenSize:n.screenSize,percentage:d.Utilities.isNumber(n.percentage)?Math.round(n.percentage):void 0,offScreenPercentage:n.offScreenPercentage,viewabilityCalculationType:n.viewabilityCalculationType,focus:e.viewabilityFocus,strictFocus:e.viewabilityStrictFocus&&e.viewabilityFocus,adIsPlaying:e.viewabilityAdIsPlaying,intervalDuration:r,adVideoTimeLine:e.adVideoTimeLine,volume:e.currentVideoVolume,boundariesViewability:e.boundariesViewability})),e.lastExposureTimeEvent=n.updateTime},e.prototype.collectBoundariesViewabilityData=function(t){var e=t.adCandidate,n=t.relevantData;e.boundariesViewability=n.boundariesViewability},e.prototype.collectFocusData=function(t){var e=t.adCandidate,n=t.relevantData;e.viewabilityFocus=n.focus},e.prototype.collectStrictFocusData=function(t){var e=t.adCandidate,n=t.relevantData;e.viewabilityStrictFocus=n.focus},e.prototype.collectAdIsPlayingData=function(t,e){e.adCandidate.viewabilityAdIsPlaying=t,this.collectAdVolumeData(e)},e.prototype.collectAdVolumeData=function(t){var e=t.adCandidate,n=t.relevantData;d.Utilities.isNullOrEmpty(n.volume)||(e.currentVideoVolume=n.volume)},e}(s.BaseAdBL);e.ExposureBL=p},4604:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ExposureCompatibilityIndicator=void 0;var o=n(805),a=n(5137),s=n(3985),d=n(7526),p=n(9056),c=n(7258),u=n(4472),l=n(652),v=n(2913),f=n(708),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getActionName=function(){return"ExposureCompatibilityIndicator"},e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[l.DvEvent.impressionServed]=this.start.bind(this),t},e.prototype.start=function(){var t,e=0;if(null==u.DvObject.getDetectedDeliveryType()||u.DvObject.isCTV());else if(c.DvTagDataObject.isTagTypeValid())if(u.DvObject.isMobileApp())e=a.OmidWrapper.isSupported()?6:s.MraidWrapper.isSupported()?5:0;else if(c.DvTagDataObject.getTagType()==d.DvTagType.Video){var n=v.VpaidWrapper.getDvVpaid();n&&n.viewabilityIntegrationType&&(e=n.viewabilityIntegrationType)}else e=2;else;var r=((t={})[o.ExposureDataMapping.viewabilityIntegrationType]=e,t);this.report(r)},e.prototype.report=function(t){f.MessageHandler.sendMessage(t)},e}(p.BaseAdBL);e.ExposureCompatibilityIndicator=h},8092:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.JsCallbackBL=void 0;var o=n(652),a=n(4472),s=n(9056),d=n(7258),p=n(7526),c=n(2913),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getActionName=function(){return"JsCallbackBL"},e.prototype.init=function(){this.dvvid=c.VpaidWrapper.getDvVpaid()},e.prototype.isSupported=function(){return this.adID=d.DvTagDataObject.getAdID(),d.DvTagDataObject.getTagType()==p.DvTagType.Video&&!!this.adID},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.impressionServed]=this.impressionServed.bind(this),t},e.prototype.impressionServed=function(){if(a.DvObject.getAllowJsCallback()&&this.dvvid){var t=this.dvvid.asset;return t&&t.executeDVClientCallback?(this.executeDVClientCallback=t.executeDVClientCallback,void o.EventBus.addEventListener(o.DvEvent.rtsEventData,this.handleRTSData.bind(this))):void 0}},e.prototype.handleRTSData=function(t){var e=t.relevantData;this.executeDVClientCallback&&e.eventName&&this.executeDVClientCallback(e.eventName)},e}(s.BaseAdBL);e.JsCallbackBL=u},3034:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractMeasuredElementExtractor=void 0;var n=function(t){this.measuredElementData=t};e.AbstractMeasuredElementExtractor=n},1929:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultMeasuredElementExtractor=void 0;var o=n(3034),a=n(4747),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){var t;return!!(null===(t=this.measuredElementData)||void 0===t?void 0:t.domElement)},e.prototype.extract=function(){var t;return 1===a.Utilities.extractElementType(null===(t=this.measuredElementData)||void 0===t?void 0:t.domElement)?2:1},e.prototype.getMeasuredElementExtractorId=function(){return 1},e}(o.AbstractMeasuredElementExtractor);e.DefaultMeasuredElementExtractor=s},2672:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.OmidMeasuredElementExtractor=void 0;var o=n(3034),a=n(4747),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){var t;return!a.Utilities.isNullOrEmpty(null===(t=this.measuredElementData)||void 0===t?void 0:t.omidMeasuredElementType)},e.prototype.extract=function(){var t;return null===(t=this.measuredElementData)||void 0===t?void 0:t.omidMeasuredElementType},e.prototype.getMeasuredElementExtractorId=function(){return 2},e}(o.AbstractMeasuredElementExtractor);e.OmidMeasuredElementExtractor=s},7274:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MobileOrientationBL=void 0;var o=n(9056),a=n(652),s=n(4472),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getActionName=function(){return"MobileOrientationBL"},e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[a.DvEvent.impressionServed]=this.impressionServed.bind(this),t},e.prototype.impressionServed=function(){s.DvObject.isMobile()&&a.EventBus.addEventListener(a.DvEvent.exposureData,this.handleViewabilityData.bind(this))},e.prototype.handleViewabilityData=function(t){var e=t.adCandidate,n=t.relevantData;n.viewportSize&&n.viewportSize.height&&n.viewportSize.width?this.setOrientationData(e,n):e.initialOrientationType=e.initialOrientationType||0},e.prototype.setOrientationData=function(t,e){var n=0;e.viewportSize.width>e.viewportSize.height?(n=2,t.accumulativeTimeOrientationLandscape=t.accumulativeTimeOrientationLandscape?t.accumulativeTimeOrientationLandscape+e.intervalDuration:e.intervalDuration):(n=1,t.accumulativeTimeOrientationPortrait=t.accumulativeTimeOrientationPortrait?t.accumulativeTimeOrientationPortrait+e.intervalDuration:e.intervalDuration),t.initialOrientationType||(t.initialOrientationType=n)},e}(o.BaseAdBL);e.MobileOrientationBL=d},542:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.NormalizedAdSizeBL=void 0;var o=n(9056),a=n(652),s=n(8245),d=n(7258),p=n(7526),c=n(304),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[a.DvEvent.adSizeChangedData]=this.handleAdSizeChangedData.bind(this),t},e.prototype.handleAdSizeChangedData=function(t){var e=t.adCandidate;if(e.adWidth&&e.adHeight){var n={width:e.adWidth,height:e.adHeight},r=c.StandardSizes.getNearestAdSize(n,d.DvTagDataObject.getTagType(),d.DvTagDataObject.getTagType()==p.DvTagType.Video?20:5);r&&(e.normalizedAdWidth=r.width,e.normalizedAdHeight=r.height,a.EventBus.dispatchEvent(a.DvEvent.reportData,new s.AdCandidateEventData(e)))}},e}(o.BaseAdBL);e.NormalizedAdSizeBL=u},4450:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.OmidImpressionEventInfoBL=void 0;var o=n(5137),a=n(9056),s=n(652),d=n(4747),p=n(137),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){return o.OmidWrapper.isSupported()},e.prototype.getEventsAndCallbacksToRegister=function(){var t,e=this;return(t={})[s.DvEvent.adCandidateApproved]=function(t){return e.adCandidateApproved(t)},t},e.prototype.init=function(){},e.prototype.adCandidateApproved=function(t){var e=this;o.OmidWrapper.addEventListener("impression",(function(n){return e.handleImpressionEvent(n,t)}))},e.prototype.handleImpressionEvent=function(t,e){var n,r;e.adCandidate.omidTimeMsUntilImpression=d.Utilities.getTimeDiff(),(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.impressionType)&&(p.omidImpressionTypeMapping[t.data.impressionType]?e.adCandidate.omidImpressionType=p.omidImpressionTypeMapping[t.data.impressionType]:(e.adCandidate.omidImpressionType=p.omidImpressionTypeMapping.unknown,e.adCandidate.omidUnknownImpressionType=t.data.impressionType)),(null===(r=null==t?void 0:t.data)||void 0===r?void 0:r.creativeType)&&(p.omidCreativeTypeMapping[t.data.creativeType]?e.adCandidate.omidCreativeType=p.omidCreativeTypeMapping[t.data.creativeType]:(e.adCandidate.omidCreativeType=p.omidCreativeTypeMapping.unknown,e.adCandidate.omidUnknownCreativeType=t.data.creativeType))},e}(a.BaseAdBL);e.OmidImpressionEventInfoBL=c},5717:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageEventsLoggerBL=void 0;var o=n(652),a=n(9056),s=n(6089),d=n(7083),p=n(5191),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){return!p.WindowAdaptor.isDomlessEnvironment()},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.pageHideEventPersisted]=this.turnOnScriptDynamicFlag(16).bind(this),t[o.DvEvent.pageHideEventNonPersisted]=this.logPageHideEventNonPersisted.bind(this),t[o.DvEvent.bfCacheTestWithUnload]=this.turnOnScriptDynamicFlag(65536).bind(this),t[o.DvEvent.bfCacheTestWithoutUnload]=this.turnOnScriptDynamicFlag(131072).bind(this),t[o.DvEvent.browserBeforeUnloadEvent]=this.turnOnScriptDynamicFlag(262144).bind(this),t[o.DvEvent.pageShowEventPersisted]=this.turnOnScriptDynamicFlag(1048576).bind(this),t[o.DvEvent.pageShowEventNonPersisted]=this.turnOnScriptDynamicFlag(2097152).bind(this),t[o.DvEvent.visibilityChangeEventHidden]=this.turnOnScriptDynamicFlag(134217728).bind(this),t[o.DvEvent.browserUnloadEvent]=this.turnOnScriptDynamicFlag(524288).bind(this),t},e.prototype.turnOnScriptDynamicFlag=function(t){return function(){return d.ScriptDynamicFlags.getInstance().turnOn(t)}},e.prototype.logPageHideEventNonPersisted=function(){this.turnOnScriptDynamicFlag(32)();var t=this.turnOnScriptDynamicFlag(64).bind(this);s.BrowserAdaptor.setTimeout(t,20)},e.prototype.init=function(){},e}(a.BaseAdBL);e.PageEventsLoggerBL=c},6430:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceMetricsBL=void 0;var o=n(9056),a=n(652),s=n(4747),d=n(5191),p=n(708),c=n(4472),u=n(805),l={tag:{loading:1,interactive:2,complete:4},measurement:{loading:8,interactive:16,complete:32},visit:{loading:64,interactive:128,complete:256}},v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getScriptExecIndicator=function(t,e){e||(e=d.WindowAdaptor.currentDocument().readyState);return(l[t]||{})[e]||{}||0},e.prototype.init=function(){this.measurementScriptExecIndicator=this.getScriptExecIndicator("measurement")},e.prototype.isSupported=function(){return!d.WindowAdaptor.isDomlessEnvironment()},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[a.DvEvent.impressionServed]=this.onImpressionServed.bind(this),t},e.prototype.getScriptDuration=function(t,e){var n;return d.WindowAdaptor.monitorScriptsPerformance(e,((n={})[t]=["duration"],n))[t+"_duration"]||0},e.prototype.reportTagLoadTimeMs=function(){var t,e=this.getScriptDuration("dvtp_src",d.WindowAdaptor.workingWindow());return(t={})[u.PerformanceMetricsDataMapping.tagLoadTimeMs]=e,t},e.prototype.reportTagExecTimeMs=function(){var t,e=c.DvObject.getTagExecTimeMs();return(t={})[u.PerformanceMetricsDataMapping.tagExecTimeMs]=e,t},e.prototype.getActionName=function(){return"PerformanceMetricsBL"},e.prototype.reportMeasurementScriptLoadTimeMs=function(){var t,e=this.getScriptDuration("dv-measurements",d.WindowAdaptor.currentWindow());return(t={})[u.PerformanceMetricsDataMapping.measurementScriptLoadTimeMs]=e,t},e.prototype.reportVisitLoadTimeMs=function(){var t,e=this.getScriptDuration("visit",d.WindowAdaptor.currentWindow());return(t={})[u.PerformanceMetricsDataMapping.visitLoadTimeMs]=e,t},e.prototype.reportVisitExecTimeMs=function(){var t,e=this.getScriptDuration("visit",d.WindowAdaptor.currentWindow()),n=s.Utilities.getCurrentTime()-c.DvObject.getVisitInjectedMS()-e;return(t={})[u.PerformanceMetricsDataMapping.visitExecTimeMs]=n,t},e.prototype.reportScriptExecIndicator=function(){var t,e=this.getScriptExecIndicator("visit",c.DvObject.getVisitReadyState()),n=this.getScriptExecIndicator("tag",c.DvObject.getTagReadyState())|this.measurementScriptExecIndicator|e;return(t={})[u.PerformanceMetricsDataMapping.scriptExecIndicator]=n,t},e.prototype.onImpressionServed=function(){var t=this.reportTagLoadTimeMs();s.Utilities.extend(this.reportTagExecTimeMs(),t),s.Utilities.extend(this.reportMeasurementScriptLoadTimeMs(),t),s.Utilities.extend(this.reportVisitLoadTimeMs(),t),s.Utilities.extend(this.reportScriptExecIndicator(),t),s.Utilities.extend(this.reportVisitExecTimeMs(),t),p.MessageHandler.sendMessage(t)},e}(o.BaseAdBL);e.PerformanceMetricsBL=v},2355:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.RenderingMethodLogger=void 0;var o=n(9056),a=n(652),s=n(708),d=n(2709),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[a.DvEvent.impressionServed]=this.reportRenderingMethodIndicator.bind(this),t},e.prototype.reportRenderingMethodIndicator=function(){s.MessageHandler.sendMessage({rmi:d.RenderLogicFactory.getRenderLogic().getRenderingMethodIndicator()})},e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e}(o.BaseAdBL);e.RenderingMethodLogger=p},5175:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ReportAdManagerRTS=void 0;var a=n(652),s=n(4472),d=n(7526),p=n(9056),c=n(8245),u=n(4747),l=n(805),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[a.DvEvent.reportData]=this.report.bind(this),t[a.DvEvent.adSelected]=this.report.bind(this),t},e.prototype.report=function(t){var e=t.adCandidate,n=t.relevantData,r=!n.reportType||n.reportType==d.ReportType.All||n.reportType==d.ReportType.RTS;if(2==e.state&&r){var i=u.Utilities.mapData(e,l.RTSDataMapping,!0),o=Object.keys(i);o.length&&this.sendRtsEvents(o,e)}},e.prototype.sendRtsEvents=function(t,e){var n,r;try{for(var i=o(t),d=i.next();!d.done;d=i.next()){var p=d.value;s.DvObject.publishPubSubEvent(p),a.EventBus.dispatchEvent(a.DvEvent.rtsEventData,new c.AdCandidateEventData(e,{eventName:p}))}}catch(t){n={error:t}}finally{try{d&&!d.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e}(p.BaseAdBL);e.ReportAdManagerRTS=v},4054:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ReportAdManagerTPS=void 0;var o=n(652),a=n(805),s=n(7526),d=n(9056),p=n(4747),c=n(708),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cachedAdDataToReport={},e}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.reportData]=this.report.bind(this),t[o.DvEvent.adSelected]=this.report.bind(this),t},e.prototype.report=function(t){var e=t.adCandidate,n=t.relevantData,r=!n.reportType||n.reportType==s.ReportType.All||n.reportType==s.ReportType.TPS;if(2==e.state&&r){var i=p.Utilities.mapData(e,a.AdDataMappingToReport,!1);p.Utilities.removeDuplicateValues(i,this.cachedAdDataToReport),p.Utilities.extend(i,this.cachedAdDataToReport);var o=t.relevantData,d=o.isImportantMessage,u=o.noConsolidation;if(!p.Utilities.isEmpty(i)){var l={isImportantMessage:d,noConsolidation:u};c.MessageHandler.sendMessage(i,l)}}},e}(d.BaseAdBL);e.ReportAdManagerTPS=u},4921:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ShareOfScreenResearchBL=void 0;var a=n(652),s=n(6089),d=n(4246),p=n(5191),c=n(4472),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[a.DvEvent.exposureData]=this.handleViewabilityData.bind(this),t},e.prototype.isSupported=function(){return!0},e.prototype.handleViewabilityData=function(t){var e,n,r=t.adCandidate,i=t.relevantData,a=p.WindowAdaptor.workingDocument(p.WindowAdaptor.windowTop()||null),d=!1,u=i.screenSize,l=r.ShareOfScreenLastScreenSize||u,v=r.screenSizeChanged,f=i.adSize,h=r.shareOfScreenLastAdSize||f,y=r.adSizeChanged,g=s.BrowserAdaptor.getDevicePixelRatio(),m=r.devicePixelRatioReported,b=r.shareOfScreenLastDevicePixelRatio||g,w=r.devicePixelRatioChanged;if(2===c.DvObject.getDetectedDeliveryType()&&(2==(2&p.WindowAdaptor.getScenarioType())||1==(1&p.WindowAdaptor.getScenarioType()))){var E=i.viewportSize;if(E&&E.width>0&&E.height>0){var D=this.getMinAndMaxViewport(r,E),S=D.minVpHeight,_=D.minVpWidth,A=D.maxVpHeight,T=D.maxVpWidth;this.isViewportChanged(r,S,_,A,T)&&(d=!0,r.minViewportHeight=S,r.minViewportWidth=_,r.maxViewportHeight=A,r.maxViewportWidth=T)}}if(!v&&this.validateScreenSize(u)&&(r.screenSizeChanged=l.height!==u.height||l.width!==u.width?1:void 0,r.ShareOfScreenLastScreenSize=u,r.screenSizeChanged&&(d=!0)),!y&&this.validateAdSize(f)&&(r.adSizeChanged=h.height!=f.height||h.width!=f.width?1:void 0,r.shareOfScreenLastAdSize=f,r.adSizeChanged&&(d=!0)),!w&&g&&(r.devicePixelRatioChanged=b!==g?1:void 0,r.shareOfScreenLastDevicePixelRatio=g,r.devicePixelRatioChanged&&(d=!0)),m||(d=!0,r.devicePixelRatioReported=!0),a&&!this.isMetaReported(r)){var O=s.BrowserAdaptor.getMetaTagAttributes(a,"viewport");try{for(var C=o(Object.keys(O)),M=C.next();!M.done;M=C.next()){var V=M.value,P=O[V];switch(V.trim()){case"width":r.viewPortMetaTagWidth=P;break;case"height":r.viewPortMetaTagHeight=P;break;case"initial-scale":r.viewPortMetaTagInitialScale=P;break;case"user-scalable":r.viewPortMetaTagScalable="yes"===P?1:0}}}catch(t){e={error:t}}finally{try{M&&!M.done&&(n=C.return)&&n.call(C)}finally{if(e)throw e.error}}d=this.isMetaReported(r)}d&&this.report(r)},e.prototype.isViewportChanged=function(t,e,n,r,i){return t.minViewportHeight!=e||t.minViewportWidth!=n||t.maxViewportHeight!=r||t.maxViewportWidth!=i},e.prototype.getMinAndMaxViewport=function(t,e){return{minVpHeight:Math.min(t.minViewportHeight||e.height,e.height),minVpWidth:Math.min(t.minViewportWidth||e.width,e.width),maxVpHeight:Math.max(t.maxViewportHeight||e.height,e.height),maxVpWidth:Math.max(t.maxViewportWidth||e.width,e.width)}},e.prototype.isMetaReported=function(t){return!!(t.viewPortMetaTagWidth||t.viewPortMetaTagHeight||t.viewPortMetaTagInitialScale||t.viewPortMetaTagScalable)},e.prototype.validateScreenSize=function(t){return!!(t&&t.width&&t.height)},e.prototype.validateAdSize=function(t){return!!(t&&t.width&&t.height)},e.prototype.getTrafficPercentage=function(){return 100},e.prototype.getSupportedDetectedDeliveryType=function(){return[3,2,1]},e.prototype.getActionName=function(){return"ShareOfScreen"},e}(d.BaseAdDataLoggerBL);e.ShareOfScreenResearchBL=u},4234:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BaseViewabilityBL=void 0;var o=n(652),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getActionName=function(){return"BaseViewabilityBL"},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.impressionServed]=this.impressionServed.bind(this),t},e.prototype.impressionServed=function(){this.shouldRegisterToExposureEvents()&&o.EventBus.addEventListener(o.DvEvent.exposureData,this.handleViewabilityData.bind(this))},e.prototype.handleViewabilityData=function(t){var e=t.adCandidate,n=t.relevantData;if(this.needToCheckViewability(e,n)){this.reportViewabilityMeasured(e,n);var r=this.isViewabilityConditionPassed(n);this.shouldReportViewability(r,n.intervalDuration,e,n)&&this.reportViewabilityPassed(e,n.updateTime)}},e}(n(9056).BaseAdBL);e.BaseViewabilityBL=a},823:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BucketsDisplayViewabilityBL=void 0;var o=n(7258),a=n(652),s=n(9056),d=n(7526),p=n(4747),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return o.DvTagDataObject.getTagType()==d.DvTagType.Display},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[a.DvEvent.exposureData]=this.handleViewabilityData.bind(this),t},e.prototype.handleViewabilityData=function(t){var e=t.adCandidate,n=t.relevantData,r=n.intervalDuration,i=this.getBucketNumber(n.percentage,n.focus),o="b"+i;null!=i?(e[o]=e[o]||0,e[o]+=r,e.viewabilityDisplayBucketsUnloadTime=n.updateTime):(e.napt=e.napt||0,e.napt+=r)},e.prototype.getBucketNumber=function(t,e){return p.Utilities.isNullOrEmpty(t)?null:0!=t&&e?Math.floor(t/10)+1:0},e}(s.BaseAdBL);e.BucketsDisplayViewabilityBL=c},6225:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BucketsVideoViewabilityBL=void 0;var o=n(7258),a=n(652),s=n(8245),d=n(9056),p=n(7526),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return o.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[a.DvEvent.exposureData]=this.handleViewabilityData.bind(this),t[a.DvEvent.adVideoFirstQuartileData]=this.handleQuartileData.bind(this,1),t[a.DvEvent.adVideoMidpointData]=this.handleQuartileData.bind(this,2),t[a.DvEvent.adVideoThirdQuartileData]=this.handleQuartileData.bind(this,3),t[a.DvEvent.adVideoCompleteData]=this.handleLastQuartileData.bind(this),t},e.prototype.handleLastQuartileData=function(t){var e=this.updateQuartileTimestamp(t);a.EventBus.dispatchEvent(a.DvEvent.reportData,new s.AdCandidateEventData(e))},e.prototype.handleQuartileData=function(t,e){var n=this.updateQuartileTimestamp(e);a.EventBus.dispatchEvent(a.DvEvent.reportData,new s.AdCandidateEventData(n)),n.videoBucketsQuartileId=t+1},e.prototype.updateQuartileTimestamp=function(t){var e=t.relevantData,n=t.adCandidate;return n["isq"+n.videoBucketsQuartileId+"ms"]=e.updateTime,n.markAdQuartile(4,n.videoBucketsQuartileId),n},e.prototype.handleViewabilityData=function(t){var e=t.adCandidate,n=t.relevantData;if(n.adIsPlaying){var r=n.intervalDuration,i=this.getBucketNumber(n.percentage,n.focus);if(null!=i){var o="q"+e.videoBucketsQuartileId+"b"+i;e[o]=e[o]?e[o]+r:r}else{var a="q"+e.videoBucketsQuartileId+"napt";e[a]=e[a]?e[a]+r:r}}},e.prototype.getBucketNumber=function(t,e){return null==t?null:0!=t&&e?Math.floor(t/25)+1:0},e}(d.BaseAdBL);e.BucketsVideoViewabilityBL=c},2339:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomAdvertiserViewabilityStandardBL=void 0;var o=n(652),a=n(4472),s=n(4234),d=n(8245),p=n(4747),c=n(137),u=n(7258),l=n(7526),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.shouldRegisterToExposureEvents=function(){var t=c.ViewabilityConstants.CustomAdvertiserViewabilityStandard,e=t.DisplayMinimalLargeAdArea,n=t.VideoMinimalLargeAdArea;return this.minimalLargeAdArea=u.DvTagDataObject.getTagType()==l.DvTagType.Display?e:n,this.customAdvertiserViewabilitySettings=a.DvObject.getCustomAdvertiserViewabilitySettings(),!!this.customAdvertiserViewabilitySettings},e.prototype.getConditions=function(t){var e=this.customAdvertiserViewabilitySettings.conditions;return t?e.largeAd:e.regularAd},e.prototype.isViewabilityConditionPassed=function(t){var e=p.Utilities.isLargeAd(t.adSize,this.minimalLargeAdArea),n=this.conditions=this.getConditions(e),r=n.onFocus,i=n.adPercentage,o=t.focus,a=t.percentage;return(!0!==r||o)&&(null==i||a>=i)},e.prototype.needToCheckViewability=function(t,e){return(u.DvTagDataObject.getTagType()==l.DvTagType.Display||e.adIsPlaying)&&null==t.customAdvertiserStandardTimeMsUntilAdViewed},e.prototype.shouldReportViewability=function(t,e,n,r){var i=this.conditions,o=i.isConsecutive,a=i.durationCap,s=i.durationPercentage;if(null==a&&null==s)return t;var d=n.videoLength,p=n.customAdvertiserStandardViewedTime;n.customAdvertiserStandardViewedTime=t?p+r.intervalDuration:o?0:p;var c=a,u=null!=d&&null!=s?d*(s/100):null,l=null!=c&&n.customAdvertiserStandardViewedTime>=c,v=null!=u&&n.customAdvertiserStandardViewedTime>=u;return l||v},e.prototype.reportViewabilityMeasured=function(t,e){null==t.customAdvertiserStandardType&&(t.customAdvertiserStandardType=this.customAdvertiserViewabilitySettings.standardType,o.EventBus.dispatchEvent(o.DvEvent.reportData,new d.AdCandidateEventData(t)))},e.prototype.reportViewabilityPassed=function(t,e){t.customAdvertiserStandardTimeMsUntilAdViewed=e,o.EventBus.dispatchEvent(o.DvEvent.reportData,new d.AdCandidateEventData(t))},e}(s.BaseViewabilityBL);e.CustomAdvertiserViewabilityStandardBL=v},1136:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomDisplayViewabilityBL=void 0;var o=n(652),a=n(7258),s=n(4472),d=n(4234),p=n(8245),c=n(7526),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==c.DvTagType.Display},e.prototype.shouldRegisterToExposureEvents=function(){return this.customViewabilityConditions=s.DvObject.getDisplayCustomViewabilityConditions(),!!this.customViewabilityConditions},e.prototype.isViewabilityConditionPassed=function(t){return!!t.focus&&t.percentage>=this.customViewabilityConditions.minimalAdAreaPercentage},e.prototype.needToCheckViewability=function(t,e){return null==t.customTimeMsUntilAdViewed&&null!=e.percentage},e.prototype.shouldReportViewability=function(t,e,n,r){return n.customViewedTime=t?n.customViewedTime+=r.intervalDuration:this.customViewabilityConditions.consecutiveMode?0:n.customViewedTime,n.customViewedTime>=this.customViewabilityConditions.minimalAdDuration},e.prototype.reportViewabilityMeasured=function(t,e){},e.prototype.reportViewabilityPassed=function(t,e){t.customTimeMsUntilAdViewed=e,o.EventBus.dispatchEvent(o.DvEvent.reportData,new p.AdCandidateEventData(t))},e}(d.BaseViewabilityBL);e.CustomDisplayViewabilityBL=u},7265:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomStandardDisplayViewabilityBL=void 0;var o=n(7258),a=n(652),s=n(4234),d=n(4472),p=n(8245),c=n(7526),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return o.DvTagDataObject.getTagType()==c.DvTagType.Display},e.prototype.shouldRegisterToExposureEvents=function(){return this.customViewabilityConditions=d.DvObject.getDisplayCustomStandardViewabilityConditions(),!!this.customViewabilityConditions},e.prototype.isViewabilityConditionPassed=function(t){return!!t.focus&&(!(t.adSize&&t.adSize.width*t.adSize.height<this.customViewabilityConditions.minimalAdSize)&&t.percentage>=this.customViewabilityConditions.minimalAdAreaPercentage)},e.prototype.needToCheckViewability=function(t,e){return null==t.customStandardTimeMsUntilAdViewed&&null!=e.percentage},e.prototype.shouldReportViewability=function(t,e,n){if(t){if(n.customStandardViewedTime+=e,n.customStandardViewedTime>=this.customViewabilityConditions.minimalAdDuration)return!0}else this.customViewabilityConditions.consecutiveMode&&(n.customStandardViewedTime=0);return!1},e.prototype.reportViewabilityMeasured=function(t,e){},e.prototype.reportViewabilityPassed=function(t,e){t.customStandardTimeMsUntilAdViewed=e,a.EventBus.dispatchEvent(a.DvEvent.reportData,new p.AdCandidateEventData(t))},e}(s.BaseViewabilityBL);e.CustomStandardDisplayViewabilityBL=u},1504:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomStandardVideoViewabilityBL=void 0;var o=n(4234),a=n(7258),s=n(4472),d=n(652),p=n(7526),c=n(8245),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.shouldRegisterToExposureEvents=function(){return this.customViewabilityConditions=s.DvObject.getVideoCustomStandardViewabilityConditions(),!!this.customViewabilityConditions},e.prototype.isViewabilityConditionPassed=function(t){return!!t.focus&&(!(t.adSize&&t.adSize.width*t.adSize.height<this.customViewabilityConditions.minimalAdSize)&&((!this.customViewabilityConditions.requireVolume||0!=t.volume)&&t.percentage>=this.customViewabilityConditions.minimalAdAreaPercentage))},e.prototype.needToCheckViewability=function(t,e){return e.adIsPlaying&&null==t.customStandardTimeMsUntilAdViewed&&null!=e.percentage},e.prototype.shouldReportViewability=function(t,e,n){if(t){if(n.customStandardViewedTime+=e,this.customViewabilityConditions.minimalAdDurationPercent){if(n.videoLength&&n.customStandardViewedTime/n.videoLength*100>=this.customViewabilityConditions.minimalAdDurationPercent)return!0}else if(n.customStandardViewedTime>=this.customViewabilityConditions.minimalAdDuration)return!0}else this.customViewabilityConditions.consecutiveMode&&(n.customStandardViewedTime=0);return!1},e.prototype.reportViewabilityMeasured=function(t,e){},e.prototype.reportViewabilityPassed=function(t,e){t.customStandardTimeMsUntilAdViewed=e,d.EventBus.dispatchEvent(d.DvEvent.reportData,new c.AdCandidateEventData(t))},e}(o.BaseViewabilityBL);e.CustomStandardVideoViewabilityBL=u},3476:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomVideoViewabilityBL=void 0;var o=n(652),a=n(7258),s=n(4472),d=n(4234),p=n(7526),c=n(8245),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.shouldRegisterToExposureEvents=function(){return this.customViewabilityConditions=s.DvObject.getVideoCustomViewabilityConditions(),!!this.customViewabilityConditions},e.prototype.isViewabilityConditionPassed=function(t){return!(null==t.percentage||!t.focus)&&((!this.customViewabilityConditions.requireVolume||0!=t.volume)&&t.percentage>=this.customViewabilityConditions.minimalAdAreaPercentage)},e.prototype.needToCheckViewability=function(t,e){return null==t.customTimeMsUntilAdViewed&&null!=e.percentage&&e.adIsPlaying},e.prototype.shouldReportViewability=function(t,e,n,r){return n.customViewedTime=t?n.customViewedTime+=r.intervalDuration:this.customViewabilityConditions.consecutiveMode?0:n.customViewedTime,n.customViewedTime>=this.customViewabilityConditions.minimalAdDuration},e.prototype.reportViewabilityMeasured=function(t,e){},e.prototype.reportViewabilityPassed=function(t,e){t.customTimeMsUntilAdViewed=e,o.EventBus.dispatchEvent(o.DvEvent.reportData,new c.AdCandidateEventData(t))},e}(d.BaseViewabilityBL);e.CustomVideoViewabilityBL=u},4992:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.EndQuartileViewabilityBL=void 0;var o=n(652),a=n(7258),s=n(8245),d=n(9056),p=n(7526),c=n(4747),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.exposureData]=this.handleViewabilityData.bind(this),t[o.DvEvent.adVideoFirstQuartileData]=this.handleQuartileData.bind(this,1),t[o.DvEvent.adVideoMidpointData]=this.handleQuartileData.bind(this,2),t[o.DvEvent.adVideoThirdQuartileData]=this.handleQuartileData.bind(this,3),t[o.DvEvent.adVideoCompleteData]=this.handleVideoCompleteData.bind(this),t},e.prototype.handleViewabilityData=function(t){var e=t.adCandidate,n=t.relevantData;n.adIsPlaying&&null!=n.percentage&&(e.endQuartileCurrentViewability=n.focus?n.percentage:0,e.endQuartileCurrentVolume=n.volume,n.adSize&&(e.adQuartileWidth=n.adSize.width))},e.prototype.handleQuartileData=function(t,e){var n=e.adCandidate;n["q"+t+"vpend"]=n.endQuartileCurrentViewability,n["q"+t+"ps"]=this.getPlayerSize(n.adQuartileWidth),c.Utilities.logIfNotAnInteger(n.endQuartileCurrentViewability,n,"q"+t+"vpendDataValidation"),o.EventBus.dispatchEvent(o.DvEvent.reportData,new s.AdCandidateEventData(n))},e.prototype.getPlayerSize=function(t){var e=0;return t>0&&t<=300?e=1:t>300&&t<=399?e=2:t>399&&t<=639?e=3:t>639&&(e=4),e},e.prototype.handleVideoCompleteData=function(t){var e=t.relevantData,n=t.adCandidate;n.endQuartileCurrentViewability>=50&&0!=n.endQuartileCurrentVolume&&(n.timeMsUntilAdAudibleAndViewableOnCompletionMs=e.updateTime),this.handleQuartileData(4,t)},e}(d.BaseAdBL);e.EndQuartileViewabilityBL=u},7178:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FocusBucketsBL=void 0;var o=n(652),a=n(7258),s=n(9056),d=n(7526),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.exposureData]=this.handleViewabilityData.bind(this),t},e.prototype.handleViewabilityData=function(t){var e=t.adCandidate,n=t.relevantData;(a.DvTagDataObject.getTagType()!=d.DvTagType.Video||n.adIsPlaying)&&(n.focus?e.looseFocusTrueBucket=e.looseFocusTrueBucket?e.looseFocusTrueBucket+n.intervalDuration:n.intervalDuration:null!=n.focus&&(e.looseFocusFalseBucket=e.looseFocusFalseBucket?e.looseFocusFalseBucket+n.intervalDuration:n.intervalDuration),n.strictFocus?e.strictFocusTrueBucket=e.strictFocusTrueBucket?e.strictFocusTrueBucket+n.intervalDuration:n.intervalDuration:null!=n.strictFocus&&(e.strictFocusFalseBucket=e.strictFocusFalseBucket?e.strictFocusFalseBucket+n.intervalDuration:n.intervalDuration))},e}(s.BaseAdBL);e.FocusBucketsBL=p},8154:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMDisplayViewabilityBL=void 0;var o=n(7258),a=n(652),s=n(4472),d=n(4234),p=n(7526),c=n(8245),u=n(4747),l=n(137),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return o.DvTagDataObject.getTagType()==p.DvTagType.Display},e.prototype.shouldRegisterToExposureEvents=function(){return!s.DvObject.isSIVTImpression()},e.prototype.isViewabilityConditionPassed=function(t){return!(null==t.percentage||!t.focus)&&(!!u.Utilities.isLargeAd(t.adSize,l.ViewabilityConstants.GroupM.DisplayMinimalLargeAdArea)||t.percentage>=l.ViewabilityConstants.GroupM.MinimalAdAreaPercentageForStandardSize)},e.prototype.needToCheckViewability=function(t,e){return null==t.groupMTimeMsUntilAdViewed&&null!=e.percentage},e.prototype.shouldReportViewability=function(t,e,n,r){return t},e.prototype.reportViewabilityMeasured=function(t,e){t.groupMTimeMsUntilAdMeasured||(t.groupMTimeMsUntilAdMeasured=e.updateTime,a.EventBus.dispatchEvent(a.DvEvent.reportData,new c.AdCandidateEventData(t)))},e.prototype.reportViewabilityPassed=function(t,e){t.groupMTimeMsUntilAdViewed=e,t.groupMV3TimeMsUntilAdViewed=e,t.groupMTimeMsUntilAdMeasured++,a.EventBus.dispatchEvent(a.DvEvent.reportData,new c.AdCandidateEventData(t))},e}(d.BaseViewabilityBL);e.GroupMDisplayViewabilityBL=v},1442:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMV4MobileDisplayViewabilityBL=void 0;var o=n(7258),a=n(652),s=n(4472),d=n(4234),p=n(7526),c=n(8245),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){this.minimalAdAreaPercentage=0,this.minimalAdAreaPercentageWhenAdAreaLowerThanViewport=98,this.minimalDuration=1e3},e.prototype.isSupported=function(){return o.DvTagDataObject.getTagType()==p.DvTagType.Display},e.prototype.shouldRegisterToExposureEvents=function(){return!s.DvObject.isSIVTImpression()&&s.DvObject.isMobileWeb()},e.prototype.isViewabilityConditionPassed=function(t){return t.percentage>this.minimalAdAreaPercentage},e.prototype.needToCheckViewability=function(t,e){return null==t.groupMV4DisplayTimeMsUntilAdViewed&&null!=e.percentage},e.prototype.shouldReportViewability=function(t,e,n,r){return n.groupMV4DisplayViewedTime=t?n.groupMV4DisplayViewedTime+r.intervalDuration:0,n.groupMV4TimeCriteriaPassed=n.groupMV4TimeCriteriaPassed||n.groupMV4DisplayViewedTime>=this.minimalDuration,n.isAllBoundariesPassed=n.isAllBoundariesPassed||this.isAllBoundariesPassed(n,r),n.groupMV4TimeCriteriaPassed&&n.isAllBoundariesPassed},e.prototype.reportViewabilityMeasured=function(t,e){t.groupMV4TimeMsUntilAdMeasured||this.isAdSizeLargerThanViewPortSize(e)&&!e.boundariesViewability||(t.groupMV4TimeMsUntilAdMeasured=e.updateTime,a.EventBus.dispatchEvent(a.DvEvent.reportData,new c.AdCandidateEventData(t)))},e.prototype.reportViewabilityPassed=function(t,e){t.groupMV4DisplayTimeMsUntilAdViewed=t.groupMV4TimeMsUntilAdViewed=e,t.groupMV4TimeMsUntilAdMeasured++,a.EventBus.dispatchEvent(a.DvEvent.reportData,new c.AdCandidateEventData(t))},e.prototype.getArea=function(t){if(t&&t.width&&t.height)return t.width*t.height},e.prototype.isAdSizeLargerThanViewPortSize=function(t){var e=this.getArea(t.adSize),n=this.getArea(t.viewportSize);return e&&n&&e>n},e.prototype.isAllBoundariesPassed=function(t,e){if(this.isAdSizeLargerThanViewPortSize(e)){if(e.boundariesViewability){var n=t.boundariesViewed;return n.topLeft=n.topLeft||e.boundariesViewability.topLeft,n.topRight=n.topRight||e.boundariesViewability.topRight,n.bottomLeft=n.bottomLeft||e.boundariesViewability.bottomLeft,n.bottomRight=n.bottomRight||e.boundariesViewability.bottomRight,n.topLeft&&n.topRight&&n.bottomLeft&&n.bottomRight}return!1}return e.percentage>this.minimalAdAreaPercentageWhenAdAreaLowerThanViewport},e}(d.BaseViewabilityBL);e.GroupMV4MobileDisplayViewabilityBL=u},6552:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMV4NonMobileDisplayViewabilityBL=void 0;var o=n(7258),a=n(652),s=n(4472),d=n(4234),p=n(7526),c=n(8245),u=n(4747),l=n(137),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return o.DvTagDataObject.getTagType()==p.DvTagType.Display},e.prototype.shouldRegisterToExposureEvents=function(){return!s.DvObject.isSIVTImpression()&&!s.DvObject.isMobileWeb()},e.prototype.isViewabilityConditionPassed=function(t){var e=u.Utilities.isLargeAd(t.adSize,l.ViewabilityConstants.GroupMV4.DisplayMinimalLargeAdArea);return!(null==t.percentage||!t.focus)&&(!!(e&&t.percentage>=l.ViewabilityConstants.GroupMV4.DisplayMinimalAdAreaPercentageForLargeSize)||!e&&t.percentage>=l.ViewabilityConstants.GroupMV4.MinimalAdAreaPercentageForStandardSize)},e.prototype.needToCheckViewability=function(t,e){return null==t.groupMV4DisplayTimeMsUntilAdViewed&&null!=e.percentage},e.prototype.shouldReportViewability=function(t,e,n,r){return n.groupMV4DisplayViewedTime=t?n.groupMV4DisplayViewedTime+r.intervalDuration:0,n.groupMV4DisplayViewedTime>=l.ViewabilityConstants.GroupMV4.DisplayMinimalDuration},e.prototype.reportViewabilityMeasured=function(t,e){t.groupMV4TimeMsUntilAdMeasured||(t.groupMV4TimeMsUntilAdMeasured=e.updateTime,a.EventBus.dispatchEvent(a.DvEvent.reportData,new c.AdCandidateEventData(t)))},e.prototype.reportViewabilityPassed=function(t,e){t.groupMV4TimeMsUntilAdMeasured++,t.groupMV4DisplayTimeMsUntilAdViewed=t.groupMV4TimeMsUntilAdViewed=e,a.EventBus.dispatchEvent(a.DvEvent.reportData,new c.AdCandidateEventData(t))},e}(d.BaseViewabilityBL);e.GroupMV4NonMobileDisplayViewabilityBL=v},7679:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMV4VideoNativeViewabilityBL=void 0;var o=n(652),a=n(7258),s=n(4472),d=n(4234),p=n(7526),c=n(8245),u=n(4747),l=n(137),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.shouldRegisterToExposureEvents=function(){return!s.DvObject.isSIVTImpression()},e.prototype.isViewabilityConditionPassed=function(t){var e=!s.DvObject.isMobileApp()&&!s.DvObject.isMobileWeb()&&u.Utilities.isLargeAd(t.adSize,l.ViewabilityConstants.GroupMV4.VideoMinimalLargeAdArea);return!(!t.percentage||!t.focus)&&(!!(e&&t.percentage>=l.ViewabilityConstants.GroupMV4.VideoMinimalAdAreaPercentageForLargeSize)||!e&&t.percentage>=l.ViewabilityConstants.GroupMV4.MinimalAdAreaPercentageForStandardSize)},e.prototype.needToCheckViewability=function(t,e){return null==t.groupMV4VideoNativeTimeMsUntilAdViewed&&null!=e.percentage&&e.adIsPlaying},e.prototype.shouldReportViewability=function(t,e,n,r){n.groupMV4VideoNativeViewedTime=t?n.groupMV4VideoNativeViewedTime+r.intervalDuration:n.groupMV4VideoNativeViewedTime;var i=n.videoLength?Math.min(l.ViewabilityConstants.GroupMV4.VideoMinimalDuration,n.videoLength*(l.ViewabilityConstants.GroupMV4.VideoMinimalDurationPercentage/100)):l.ViewabilityConstants.GroupMV4.VideoMinimalDuration;return n.groupMV4VideoNativeViewedTime>=i},e.prototype.reportViewabilityMeasured=function(t,e){null==t.groupMV4TimeMsUntilAdMeasured&&(t.groupMV4TimeMsUntilAdMeasured=e.updateTime,o.EventBus.dispatchEvent(o.DvEvent.reportData,new c.AdCandidateEventData(t)))},e.prototype.reportViewabilityPassed=function(t,e){t.groupMV4TimeMsUntilAdMeasured++,t.groupMV4VideoNativeTimeMsUntilAdViewed=e,s.DvObject.isGroupMV4VideoNativeImpression()&&(t.groupMV4TimeMsUntilAdViewed=e),o.EventBus.dispatchEvent(o.DvEvent.reportData,new c.AdCandidateEventData(t))},e}(d.BaseViewabilityBL);e.GroupMV4VideoNativeViewabilityBL=v},2976:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMV4VideoReachExtensionViewabilityBL=void 0;var o=n(652),a=n(7258),s=n(4472),d=n(4234),p=n(7526),c=n(8245),u=n(4747),l=n(137),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.shouldRegisterToExposureEvents=function(){return!s.DvObject.isSIVTImpression()},e.prototype.isViewabilityConditionPassed=function(t){var e=!s.DvObject.isMobileApp()&&!s.DvObject.isMobileWeb()&&u.Utilities.isLargeAd(t.adSize,l.ViewabilityConstants.GroupMV4.VideoMinimalLargeAdArea);return!(!t.percentage||!t.focus)&&(0!=t.volume&&(!!(e&&t.percentage>=l.ViewabilityConstants.GroupMV4.VideoMinimalAdAreaPercentageForLargeSize)||!e&&t.percentage>=l.ViewabilityConstants.GroupMV4.MinimalAdAreaPercentageForStandardSize))},e.prototype.needToCheckViewability=function(t,e){return null==t.groupMV4VideoReachExtensionTimeMsUntilAdViewed&&null!=e.percentage&&e.adIsPlaying},e.prototype.shouldReportViewability=function(t,e,n,r){n.groupMV4VideoReachExtensionViewedTime=t?n.groupMV4VideoReachExtensionViewedTime+r.intervalDuration:n.groupMV4VideoReachExtensionViewedTime;var i=n.videoLength?Math.min(l.ViewabilityConstants.GroupMV4.VideoMinimalDuration,n.videoLength*(l.ViewabilityConstants.GroupMV4.VideoMinimalDurationPercentage/100)):l.ViewabilityConstants.GroupMV4.VideoMinimalDuration;return n.groupMV4VideoReachExtensionViewedTime>=i},e.prototype.reportViewabilityMeasured=function(t,e){null==t.groupMV4TimeMsUntilAdMeasured&&(t.groupMV4TimeMsUntilAdMeasured=e.updateTime,o.EventBus.dispatchEvent(o.DvEvent.reportData,new c.AdCandidateEventData(t)))},e.prototype.reportViewabilityPassed=function(t,e){t.groupMV4TimeMsUntilAdMeasured++,t.groupMV4VideoReachExtensionTimeMsUntilAdViewed=e,s.DvObject.isGroupMV4VideoNativeImpression()||(t.groupMV4TimeMsUntilAdViewed=e),o.EventBus.dispatchEvent(o.DvEvent.reportData,new c.AdCandidateEventData(t))},e}(d.BaseViewabilityBL);e.GroupMV4VideoReachExtensionViewabilityBL=v},4900:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMVideoViewabilityBL=void 0;var o=n(652),a=n(7258),s=n(4472),d=n(4234),p=n(7526),c=n(8245),u=n(137),l=n(4747),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.shouldRegisterToExposureEvents=function(){return!s.DvObject.isSIVTImpression()},e.prototype.isViewabilityConditionPassed=function(t){var e=l.Utilities.isLargeAd(t.adSize,u.ViewabilityConstants.GroupM.VideoMinimalLargeAdArea);return!(!t.percentage||!t.focus)&&(0!=t.volume&&(!!(e&&t.percentage>=u.ViewabilityConstants.GroupM.VideoMinimalAdAreaPercentageForLargeSize)||!e&&t.percentage>=u.ViewabilityConstants.GroupM.MinimalAdAreaPercentageForStandardSize))},e.prototype.needToCheckViewability=function(t,e){return null==t.groupMTimeMsUntilAdViewed&&null!=e.percentage&&e.adIsPlaying},e.prototype.shouldReportViewability=function(t,e,n,r){n.groupMViewedTime=t?n.groupMViewedTime+r.intervalDuration:n.groupMViewedTime;var i=n.videoLength?Math.min(u.ViewabilityConstants.GroupM.VideoMinimalDuration,n.videoLength*(u.ViewabilityConstants.GroupM.VideoMinimalDurationPercentage/100)):u.ViewabilityConstants.GroupM.VideoMinimalDuration;return n.groupMViewedTime>=i},e.prototype.reportViewabilityMeasured=function(t,e){t.groupMTimeMsUntilAdMeasured||(t.groupMTimeMsUntilAdMeasured=e.updateTime,o.EventBus.dispatchEvent(o.DvEvent.reportData,new c.AdCandidateEventData(t)))},e.prototype.reportViewabilityPassed=function(t,e){t.groupMTimeMsUntilAdViewed=e,t.groupMV3TimeMsUntilAdViewed=e,t.groupMTimeMsUntilAdMeasured++,o.EventBus.dispatchEvent(o.DvEvent.reportData,new c.AdCandidateEventData(t))},e}(d.BaseViewabilityBL);e.GroupMVideoViewabilityBL=v},7318:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.IabDisplayViewabilityBL=void 0;var o=n(652),a=n(7258),s=n(4234),d=n(7526),p=n(137),c=n(4747),u=n(6089),l=n(8245),v=n(4472),f=n(5137),h=n(708),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alreadyDvpSent=!1,e}return i(e,t),e.prototype.init=function(){},e.prototype.shouldRegisterToExposureEvents=function(){return!0},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==d.DvTagType.Display},e.prototype.needToCheckViewability=function(t,e){return!this.alreadyDvpSent&&f.OmidWrapper.isSupported()&&e.percentage>0&&(h.MessageHandler.sendMessage({dvp_ompp:1}),this.alreadyDvpSent=!0),null==t.timeMsUntilAdViewed&&null!=c.Utilities.getIabVisiblePercentage(e,v.DvObject.getIsOffScreen())},e.prototype.isViewabilityConditionPassed=function(t){var e=c.Utilities.isLargeAd(t.adSize,p.ViewabilityConstants.IAB.DisplayMinimalLargeAdArea,v.DvObject.isMobile()),n=c.Utilities.isIabPageInFocus(t,v.DvObject.isFocusStrictMode()),r=c.Utilities.getIabVisiblePercentage(t,v.DvObject.getIsOffScreen());return!(!r||!n)&&(!!(e&&r>=p.ViewabilityConstants.IAB.DisplayMinimalAdAreaPercentageForLargeSize)||!e&&r>=p.ViewabilityConstants.IAB.MinimalAdAreaPercentageForStandardSize)},e.prototype.shouldReportViewability=function(t,e,n){return n.iabViewedTime=t?n.iabViewedTime+e:0,n.iabViewedTime>=p.ViewabilityConstants.IAB.DisplayMinimalDuration},e.prototype.reportViewabilityMeasured=function(t,e){if(!t.timeMsUntilAdMeasured){e.viewportSize&&(t.viewportHeight=Math.ceil(e.viewportSize.height),c.Utilities.logIfNotAnInteger(t.viewportHeight,t,"viewportHeightDataValidation"),t.viewportWidth=Math.ceil(e.viewportSize.width),c.Utilities.logIfNotAnInteger(t.viewportWidth,t,"viewportWidthDataValidation"));var n=u.BrowserAdaptor.getScreenSize();n&&n.width&&n.height&&(t.screenHeight=Math.ceil(n.height),t.screenWidth=Math.ceil(n.width)),t.timeMsUntilAdMeasured=e.updateTime,t.unadjustedTimeMsUntilAdMeasured=e.updateTime,t.isViewabilityEligible=1,o.EventBus.dispatchEvent(o.DvEvent.reportData,new l.AdCandidateEventData(t))}},e.prototype.reportViewabilityPassed=function(t,e){t.timeMsUntilAdViewed=e,t.unadjustedTimeMsUntilAdViewed=e,t.timeMsUntilAdMeasured++,o.EventBus.dispatchEvent(o.DvEvent.reportData,new l.AdCandidateEventData(t))},e}(s.BaseViewabilityBL);e.IabDisplayViewabilityBL=y},9729:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.IabDisplayViewabilityForXSecondsBL=void 0;var o=n(652),a=n(7258),s=n(4472),d=n(4234),p=n(7526),c=n(8245),u=n(4747),l=n(137),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.shouldRegisterToExposureEvents=function(){return!0},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Display},e.prototype.needToCheckViewability=function(t,e){return t.iabViewablitiyTimeToCheck.length>0&&null!=this.getPercentage(e)},e.prototype.isViewabilityConditionPassed=function(t){var e=u.Utilities.isLargeAd(t.adSize,l.ViewabilityConstants.IAB.DisplayMinimalLargeAdArea,s.DvObject.isMobile()),n=s.DvObject.isFocusStrictMode()?t.strictFocus:t.focus;return!(!this.getPercentage(t)||!n)&&(!!(e&&this.getPercentage(t)>=l.ViewabilityConstants.IAB.DisplayMinimalAdAreaPercentageForLargeSize)||!e&&this.getPercentage(t)>=l.ViewabilityConstants.IAB.MinimalAdAreaPercentageForStandardSize)},e.prototype.shouldReportViewability=function(t,e,n){return n.IABAdViewableForXSecondsViewedTime=t?n.IABAdViewableForXSecondsViewedTime+e:0,n.IABAdViewableForXSecondsViewedTime>=n.IABAdViewableForXSecondsdurationRequirement},e.prototype.reportViewabilityMeasured=function(t,e){},e.prototype.reportViewabilityPassed=function(t,e){var n=t.iabViewablitiyTimeToCheck.shift();t["iabv"+n]=e,o.EventBus.dispatchEvent(o.DvEvent.reportData,new c.AdCandidateEventData(t,{reportType:p.ReportType.RTS})),t.iabViewablitiyTimeToCheck.length>0&&(t.IABAdViewableForXSecondsdurationRequirement=1e3*t.iabViewablitiyTimeToCheck[0])},e.prototype.getPercentage=function(t){var e=t.percentage,n=t.offScreenPercentage;return null!=n&&s.DvObject.getIsOffScreen()?n:e},e}(d.BaseViewabilityBL);e.IabDisplayViewabilityForXSecondsBL=v},389:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.IabNotViewReasonsViewabilityBL=void 0;var o=n(652),a=n(9056),s=n(7258),d=n(7526),p=n(137),c=n(4747),u=n(4472),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getActionName=function(){return"IabNotViewReasonsViewabilityBL"},e.prototype.init=function(){this.isVideoTag=s.DvTagDataObject.getTagType()==d.DvTagType.Video,this.viewTimeThreshold=this.isVideoTag?p.ViewabilityConstants.IAB.VideoMinimalDuration:p.ViewabilityConstants.IAB.DisplayMinimalDuration},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.impressionServed]=this.start.bind(this),t},e.prototype.start=function(){var t;o.EventBus.addEventsListener(((t={})[o.DvEvent.exposureData]=this.handleViewabilityData.bind(this),t))},e.prototype.handleViewabilityData=function(t){var e=t.adCandidate,n=t.relevantData,r=c.Utilities.getIabVisiblePercentage(n,u.DvObject.getIsOffScreen()),i=c.Utilities.isIabPageInFocus(n,u.DvObject.isFocusStrictMode());if(!e.notViewableReasonWasViewed&&null!=r){if(!this.isVideoTag||this.isVideoTag&&n.adIsPlaying)if(e.notViewableReasonVideoPlayed=!0,i)if(e.notViewableReasonWasInFocus=!0,r>0)e.notViewableReasonWasInViewPort=!0,r>=(!this.isVideoTag&&c.Utilities.isLargeAd(n.adSize,p.ViewabilityConstants.IAB.DisplayMinimalLargeAdArea,u.DvObject.isMobile())?p.ViewabilityConstants.IAB.DisplayMinimalAdAreaPercentageForLargeSize:p.ViewabilityConstants.IAB.MinimalAdAreaPercentageForStandardSize)?(e.notViewableReasonCumulativeViewTime+=n.intervalDuration,e.notViewableReasonConsecutiveViewTime+=n.intervalDuration,e.notViewableReasonConsecutiveViewTime>=this.viewTimeThreshold&&(e.notViewableReasonWasViewed=!0)):e.notViewableReasonConsecutiveViewTime=0;else e.notViewableReasonConsecutiveViewTime=0;else e.notViewableReasonConsecutiveViewTime=0;e.notViewableReason=this.getNotViewReason(e)||e.notViewableReason}},e.prototype.getNotViewReason=function(t){return this.isVideoTag&&!t.notViewableReasonVideoPlayed?7:t.notViewableReasonWasViewed?6:t.notViewableReasonWasInFocus?t.notViewableReasonWasInViewPort?0==t.notViewableReasonCumulativeViewTime?3:t.notViewableReasonCumulativeViewTime<this.viewTimeThreshold?4:t.notViewableReasonConsecutiveViewTime<this.viewTimeThreshold?5:void 0:2:1},e}(a.BaseAdBL);e.IabNotViewReasonsViewabilityBL=l},5185:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.IabVideoQuartileViewabilityBL=void 0;var o=n(652),a=n(7258),s=n(8245),d=n(9056),p=n(7526),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){this.iabMinimalDuration=2e3,this.iabMinimalAdAreaPercentageForStandardSize=50},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.exposureData]=this.handleViewabilityData.bind(this),t[o.DvEvent.adVideoFirstQuartileData]=this.handleQuartileData.bind(this,1),t[o.DvEvent.adVideoMidpointData]=this.handleQuartileData.bind(this,2),t[o.DvEvent.adVideoThirdQuartileData]=this.handleQuartileData.bind(this,3),t[o.DvEvent.adVideoCompleteData]=this.handleQuartileData.bind(this,4),t},e.prototype.handleViewabilityData=function(t){var e=t.adCandidate,n=t.relevantData;n.adIsPlaying&&(e["q"+e.iabVideoQuartileId+"iabvms"]||this.tryReportViewed(e,n))},e.prototype.handleQuartileData=function(t,e){var n=e.adCandidate;n.iabVideoQuartileViewed=0,n.iabVideoQuartileId=t+1},e.prototype.tryReportViewed=function(t,e){this.IsIabCriteriaPassed(e)?(t.iabVideoQuartileViewed+=e.intervalDuration,t.iabVideoQuartileViewed>=this.iabMinimalDuration&&this.reportViewedImpression(t,e.updateTime)):t.iabVideoQuartileViewed=0},e.prototype.IsIabCriteriaPassed=function(t){return!(!t.percentage||!t.focus)&&t.percentage>=this.iabMinimalAdAreaPercentageForStandardSize},e.prototype.reportViewedImpression=function(t,e){t["q"+t.iabVideoQuartileId+"iabvms"]=e,t.markAdQuartile(1,t.iabVideoQuartileId),o.EventBus.dispatchEvent(o.DvEvent.reportData,new s.AdCandidateEventData(t))},e}(d.BaseAdBL);e.IabVideoQuartileViewabilityBL=c},4530:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.IabVideoViewabilityBL=void 0;var o=n(652),a=n(7258),s=n(4472),d=n(4234),p=n(7526),c=n(6089),u=n(8245),l=n(137),v=n(5137),f=n(708),h=n(4747),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alreadyDvpSent=!1,e}return i(e,t),e.prototype.init=function(){this.iabMinimalDuration=l.ViewabilityConstants.IAB.VideoMinimalDuration,this.iabMinimalAdAreaPercentageForStandardSize=l.ViewabilityConstants.IAB.MinimalAdAreaPercentageForStandardSize},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.shouldRegisterToExposureEvents=function(){return!0},e.prototype.needToCheckViewability=function(t,e){return!this.alreadyDvpSent&&v.OmidWrapper.isSupported()&&e.percentage>0&&(f.MessageHandler.sendMessage({dvp_ompp:1}),this.alreadyDvpSent=!0),null==t.timeMsUntilAdViewed&&null!=this.getPercentage(e)&&e.adIsPlaying},e.prototype.isViewabilityConditionPassed=function(t){var e=s.DvObject.isFocusStrictMode()?t.strictFocus:t.focus;return!(!this.getPercentage(t)||!e)&&this.getPercentage(t)>=this.iabMinimalAdAreaPercentageForStandardSize},e.prototype.shouldReportViewability=function(t,e,n){return n.iabViewedTime=t?n.iabViewedTime+e:0,n.iabViewedTime>=this.iabMinimalDuration},e.prototype.reportViewabilityMeasured=function(t,e){if(!t.timeMsUntilAdMeasured){e.viewportSize&&(t.viewportHeight=Math.ceil(e.viewportSize.height),h.Utilities.logIfNotAnInteger(t.viewportHeight,t,"viewportHeightDataValidation"),t.viewportWidth=Math.ceil(e.viewportSize.width),h.Utilities.logIfNotAnInteger(t.viewportWidth,t,"viewportWidthDataValidation"));var n=c.BrowserAdaptor.getScreenSize();n&&n.width&&n.height&&(t.screenHeight=Math.ceil(n.height),t.screenWidth=Math.ceil(n.width)),t.timeMsUntilAdMeasured=e.updateTime,t.unadjustedTimeMsUntilAdMeasured=e.updateTime,t.isViewabilityEligible=1,o.EventBus.dispatchEvent(o.DvEvent.reportData,new u.AdCandidateEventData(t))}},e.prototype.reportViewabilityPassed=function(t,e){t.timeMsUntilAdViewed=e,t.unadjustedTimeMsUntilAdViewed=e,t.timeMsUntilAdMeasured++,o.EventBus.dispatchEvent(o.DvEvent.reportData,new u.AdCandidateEventData(t))},e.prototype.getPercentage=function(t){var e=t.percentage,n=t.offScreenPercentage;return null!=n&&s.DvObject.getIsOffScreen()?n:e},e}(d.BaseViewabilityBL);e.IabVideoViewabilityBL=y},8973:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.IabVideoViewabilityForXSecondsBL=void 0;var o=n(652),a=n(7258),s=n(4472),d=n(4234),p=n(7526),c=n(8245),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){this.iabMinimalDuration=2e3,this.iabMinimalAdAreaPercentageForStandardSize=50},e.prototype.shouldRegisterToExposureEvents=function(){return!0},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.needToCheckViewability=function(t,e){return t.iabViewablitiyTimeToCheck.length>0&&null!=this.getPercentage(e)&&e.adIsPlaying},e.prototype.isViewabilityConditionPassed=function(t){var e=s.DvObject.isFocusStrictMode()?t.strictFocus:t.focus;return!(!this.getPercentage(t)||!e)&&this.getPercentage(t)>=this.iabMinimalAdAreaPercentageForStandardSize},e.prototype.shouldReportViewability=function(t,e,n){return n.IABAdViewableForXSecondsViewedTime=t?n.IABAdViewableForXSecondsViewedTime+e:0,n.IABAdViewableForXSecondsViewedTime>=n.IABAdViewableForXSecondsdurationRequirement},e.prototype.reportViewabilityMeasured=function(t,e){},e.prototype.reportViewabilityPassed=function(t,e){var n=t.iabViewablitiyTimeToCheck.shift();t["iabv"+n]=e,o.EventBus.dispatchEvent(o.DvEvent.reportData,new c.AdCandidateEventData(t,{reportType:p.ReportType.RTS})),t.iabViewablitiyTimeToCheck.length>0&&(t.IABAdViewableForXSecondsdurationRequirement=1e3*t.iabViewablitiyTimeToCheck[0])},e.prototype.getPercentage=function(t){var e=t.percentage,n=t.offScreenPercentage;return null!=n&&s.DvObject.getIsOffScreen()?n:e},e}(d.BaseViewabilityBL);e.IabVideoViewabilityForXSecondsBL=u},4579:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.KMEVideoViewabilityBL=void 0;var o=n(652),a=n(7258),s=n(8245),d=n(4472),p=n(4234),c=n(7526),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==c.DvTagType.Video},e.prototype.shouldRegisterToExposureEvents=function(){return this.kmeViewabilityConditions=d.DvObject.getKMEVideoViewabilityConditions(),!!this.kmeViewabilityConditions&&(o.EventBus.addEventListener(o.DvEvent.adVideoCompleteData,this.handleVideoCompleteData.bind(this)),!0)},e.prototype.isViewabilityConditionPassed=function(t){return!(null==t.percentage||!t.focus||this.kmeViewabilityConditions.minimalAdAreaPercentage&&t.percentage<this.kmeViewabilityConditions.minimalAdAreaPercentage)&&(!this.kmeViewabilityConditions.requireVolume||0!=t.volume)},e.prototype.needToCheckViewability=function(t,e){return null==t.kmeTimeMsUntilAdViewed&&null!=e.percentage&&e.adIsPlaying&&!t.kmeConditionsFailed},e.prototype.shouldReportViewability=function(t,e,n,r){return!n.kmeStartMeasure&&r.adVideoTimeLine>=this.kmeViewabilityConditions.timeLineLeftBoundary&&(n.kmeStartMeasure=!0),n.kmeStartMeasure&&r.adVideoTimeLine<=this.kmeViewabilityConditions.timeLineRightBoundary&&(t||(n.kmeConditionsFailed=!0)),r.adVideoTimeLine>=this.kmeViewabilityConditions.timeLineRightBoundary&&!n.kmeConditionsFailed},e.prototype.reportViewabilityMeasured=function(t,e){},e.prototype.reportViewabilityPassed=function(t,e){t.kmeTimeMsUntilAdViewed=e,o.EventBus.dispatchEvent(o.DvEvent.reportData,new s.AdCandidateEventData(t))},e.prototype.handleVideoCompleteData=function(t){var e=t.adCandidate,n=t.relevantData;e.kmeStartMeasure&&!e.kmeConditionsFailed&&this.reportViewabilityPassed(e,n.updateTime)},e}(p.BaseViewabilityBL);e.KMEVideoViewabilityBL=u},6374:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PMXDisplayViewabilityBL=void 0;var o=n(7258),a=n(652),s=n(4234),d=n(7526),p=n(8245),c=n(4747),u=n(137),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return o.DvTagDataObject.getTagType()==d.DvTagType.Display},e.prototype.shouldRegisterToExposureEvents=function(){return!0},e.prototype.isViewabilityConditionPassed=function(t){var e=c.Utilities.isLargeAd(t.adSize,u.ViewabilityConstants.PMX.DisplayMinimalLargeAdArea);return!(!t.percentage||!t.focus)&&(!!(e&&t.percentage>=u.ViewabilityConstants.PMX.DisplayMinimalAdAreaPercentageForLargeSize)||!e&&t.percentage>=u.ViewabilityConstants.PMX.MinimalAdAreaPercentageForStandardSize)},e.prototype.needToCheckViewability=function(t,e){return null==t.pmxTimeMsUntilAdViewed&&null!=e.percentage},e.prototype.shouldReportViewability=function(t,e,n,r){return n.pmxViewedTime=t?n.pmxViewedTime+e:0,n.pmxViewedTime>=u.ViewabilityConstants.PMX.DisplayMinimalDuration},e.prototype.reportViewabilityMeasured=function(t,e){t.pmxTimeMsUntilAdMeasured||(t.pmxTimeMsUntilAdMeasured=e.updateTime)},e.prototype.reportViewabilityPassed=function(t,e){t.pmxTimeMsUntilAdViewed=e,a.EventBus.dispatchEvent(a.DvEvent.reportData,new p.AdCandidateEventData(t))},e}(s.BaseViewabilityBL);e.PMXDisplayViewabilityBL=l},5716:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PMXVideoViewabilityBL=void 0;var o=n(652),a=n(7258),s=n(4234),d=n(7526),p=n(8245),c=n(4747),u=n(137),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==d.DvTagType.Video},e.prototype.shouldRegisterToExposureEvents=function(){return!0},e.prototype.isViewabilityConditionPassed=function(t){var e=c.Utilities.isLargeAd(t.adSize,u.ViewabilityConstants.PMX.VideoMinimalLargeAdArea);return!(!t.percentage||!t.focus)&&(!!(e&&t.percentage>=u.ViewabilityConstants.PMX.VideoMinimalAdAreaPercentageForLargeSize)||!e&&t.percentage>=u.ViewabilityConstants.PMX.MinimalAdAreaPercentageForStandardSize)},e.prototype.needToCheckViewability=function(t,e){return null==t.pmxTimeMsUntilAdViewed&&null!=e.percentage&&e.adIsPlaying},e.prototype.shouldReportViewability=function(t,e,n,r){return n.pmxViewedTime=t?n.pmxViewedTime+e:0,n.pmxViewedTime>=u.ViewabilityConstants.PMX.VideoMinimalDuration},e.prototype.reportViewabilityMeasured=function(t,e){t.pmxTimeMsUntilAdMeasured||(t.pmxTimeMsUntilAdMeasured=e.updateTime)},e.prototype.reportViewabilityPassed=function(t,e){t.pmxTimeMsUntilAdViewed=e,o.EventBus.dispatchEvent(o.DvEvent.reportData,new p.AdCandidateEventData(t))},e}(s.BaseViewabilityBL);e.PMXVideoViewabilityBL=l},726:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.RbViewabilityBL=void 0;var o=n(652),a=n(8245),s=n(7258),d=n(4472),p=n(9056),c=n(7526),u=n(137),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getActionName=function(){return"RbViewabilityBL"},e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.impressionServed]=this.impressionServed.bind(this),t},e.prototype.impressionServed=function(){d.DvObject.getAllowRBViewability()&&o.EventBus.addEventListener(o.DvEvent.exposureData,this.handleViewabilityData.bind(this))},e.prototype.handleViewabilityData=function(t){var e=t.adCandidate,n=t.relevantData;(s.DvTagDataObject.getTagType()!=c.DvTagType.Video||n.adIsPlaying)&&(e.rBV1PassedMs||this.tryReportViewed(e,n))},e.prototype.tryReportViewed=function(t,e){e.percentage&&e.focus&&e.percentage>=u.ViewabilityConstants.RB.MinimalAdAreaPercentageForStandardSize&&this.reportViewedImpression(t,e.updateTime)},e.prototype.reportViewedImpression=function(t,e){t.rBV1PassedMs=e,o.EventBus.dispatchEvent(o.DvEvent.reportData,new a.AdCandidateEventData(t))},e}(p.BaseAdBL);e.RbViewabilityBL=l},8163:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.VideoFullQuartileAudibleBL=void 0;var o=n(652),a=n(7258),s=n(8245),d=n(9056),p=n(7526),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){this.minimalAdAreaPercentageForStandardSize=98},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.exposureData]=this.handleAudibleData.bind(this),t[o.DvEvent.adVideoFirstQuartileData]=this.handleQuartileData.bind(this,1),t[o.DvEvent.adVideoMidpointData]=this.handleQuartileData.bind(this,2),t[o.DvEvent.adVideoThirdQuartileData]=this.handleQuartileData.bind(this,3),t[o.DvEvent.adVideoCompleteData]=this.handleQuartileData.bind(this,4),t},e.prototype.handleAudibleData=function(t){var e=t.adCandidate,n=t.relevantData;n.adIsPlaying&&(0!=e.isVideoFullQuartileAudible&&this.isCriteriaPassed(n.volume)?e.isVideoFullQuartileAudible=!0:e.isVideoFullQuartileAudible=!1)},e.prototype.handleQuartileData=function(t,e){var n=e.adCandidate;this.reportViewedImpression(n),n.videoFullQuartileAudibleId=t+1,n.isVideoFullQuartileAudible=null},e.prototype.isCriteriaPassed=function(t){return null!=t&&-1!=t&&0!=t},e.prototype.reportViewedImpression=function(t){t.isVideoFullQuartileAudible&&(t.markAdQuartile(8,t.videoFullQuartileAudibleId),o.EventBus.dispatchEvent(o.DvEvent.reportData,new s.AdCandidateEventData(t)))},e}(d.BaseAdBL);e.VideoFullQuartileAudibleBL=c},5584:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.VideoQuartileFullOnScreenBL=void 0;var o=n(652),a=n(7258),s=n(8245),d=n(9056),p=n(7526),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){this.minimalAdAreaPercentageForStandardSize=98},e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==p.DvTagType.Video},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.exposureData]=this.handleViewabilityData.bind(this),t[o.DvEvent.adVideoFirstQuartileData]=this.handleQuartileData.bind(this,1),t[o.DvEvent.adVideoMidpointData]=this.handleQuartileData.bind(this,2),t[o.DvEvent.adVideoThirdQuartileData]=this.handleQuartileData.bind(this,3),t[o.DvEvent.adVideoCompleteData]=this.handleQuartileData.bind(this,4),t},e.prototype.handleViewabilityData=function(t){var e=t.adCandidate,n=t.relevantData;n.adIsPlaying&&(0!=e.isVideoFullQuartileViewed&&this.isCriteriaPassed(n)?e.isVideoFullQuartileViewed=!0:e.isVideoFullQuartileViewed=!1)},e.prototype.handleQuartileData=function(t,e){var n=e.adCandidate;this.reportViewedImpression(n),n.videoFullQuartileViewabilityId=t+1,n.isVideoFullQuartileViewed=null},e.prototype.isCriteriaPassed=function(t){return!(!t.percentage||!t.focus)&&t.percentage>=this.minimalAdAreaPercentageForStandardSize},e.prototype.reportViewedImpression=function(t){t.isVideoFullQuartileViewed&&(t.markAdQuartile(16,t.videoFullQuartileViewabilityId),o.EventBus.dispatchEvent(o.DvEvent.reportData,new s.AdCandidateEventData(t)))},e}(d.BaseAdBL);e.VideoQuartileFullOnScreenBL=c},7047:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ViewabilityStartPercentageBL=void 0;var o=n(652),a=n(8245),s=n(7258),d=n(9056),p=n(7526),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){this.visiblePercentage=50},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[o.DvEvent.exposureData]=this.handleViewabilityData.bind(this),t},e.prototype.handleViewabilityData=function(t){var e=t.adCandidate,n=t.relevantData;(s.DvTagDataObject.getTagType()!=p.DvTagType.Video||n.adIsPlaying)&&null==e.startPercentage&&null!=n.percentage&&(e.startPercentage=n.percentage,e.adVisibleOnload=n.percentage>=this.visiblePercentage,o.EventBus.dispatchEvent(o.DvEvent.reportData,new a.AdCandidateEventData(e)))},e}(d.BaseAdBL);e.ViewabilityStartPercentageBL=c},8067:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ViewableShareOfScreenBL=void 0;var o=n(8245),a=n(9056),s=n(652),d=n(4747),p=n(137),c=n(4472),u=n(7258),l=n(7526),v=n(5191),f=n(6089),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MIN_VAL=0,e.MAX_VAL=100,e.MAX_EVENTS=4,e.MIN_PERCENTAGE_CHANGE=10,e}return i(e,t),e.prototype.init=function(){},e.prototype.isSupported=function(){return!0},e.prototype.getEventsAndCallbacksToRegister=function(){var t;return(t={})[s.DvEvent.impressionServed]=this.handleImpressionServed.bind(this),t},e.prototype.handleImpressionServed=function(){var t;s.EventBus.addEventsListener(((t={})[s.DvEvent.exposureData]=this.handleViewabilityData.bind(this),t[s.DvEvent.adVideoCompleteData]=this.handleVideoCompleteOrUnload.bind(this),t[s.DvEvent.unloadData]=this.handleVideoCompleteOrUnload.bind(this),t))},e.prototype.handleViewabilityData=function(t){var e=this.prepareValues(t),n=e.viewableShareOfScreenData,r=e.screenSize,i=e.viewablePercentage,o=e.adSize,a=e.adIsPlaying,s=e.isInFocus,p=e.isIabViewed;if(this.isViewabilityConditionPassed(o,r,a,s,i)){var c=o.height*o.width*i/(r.width*r.height);if(n.sumViewableShareOfScreen+=c,n.viewableIntervalCount=n.viewableIntervalCount+1,p){var u=n.shareOfScreenNotMeasuredReason;n.shareOfScreenNotMeasuredReason=16;var l=d.Utilities.getValBetweenMinAndMax(Math.round(n.sumViewableShareOfScreen/n.viewableIntervalCount),this.MIN_VAL,this.MAX_VAL);n.avgViewableShareOfScreen=l,v.WindowAdaptor.isIOS()&&this.isApplicableForInstantIosReport(n,i)?(n.shareOfScreenLastIosReportedPercentage=i,this.report(n)):this.shouldReportFirstTimeViewableShareOfScreenIsMeasured(u)&&this.report(n)}}n.shareOfScreenNotMeasuredReason=this.getValidationReasonBits(r,o,p,n)},e.prototype.shouldReportFirstTimeViewableShareOfScreenIsMeasured=function(t){return!!t&&16!==t},e.prototype.prepareValues=function(t){var e=t.relevantData,n=t.adCandidate;n.sumViewableShareOfScreen=n.sumViewableShareOfScreen||0,n.viewableIntervalCount=n.viewableIntervalCount||0;var r=this.collectCurrentShareOfScreenData(e,n);return{viewableShareOfScreenData:n,screenSize:r.screenSize,viewablePercentage:r.viewablePercentage,adSize:r.adSize,adIsPlaying:r.adIsPlaying,isInFocus:r.isInFocus,isIabViewed:!!n.timeMsUntilAdViewed}},e.prototype.report=function(t){s.EventBus.dispatchEvent(s.DvEvent.reportData,new o.AdCandidateEventData(t))},e.prototype.calculateMaxEventsNumber=function(t){return void 0===t?this.MAX_EVENTS:t},e.prototype.isApplicableForInstantIosReport=function(t,e){t.shareOfScreenEventsLeftToReport=this.calculateMaxEventsNumber(t.shareOfScreenEventsLeftToReport);var n=!t.shareOfScreenLastIosReportedPercentage||t.shareOfScreenEventsLeftToReport>0&&t.shareOfScreenLastIosReportedPercentage!=e&&t.shareOfScreenLastIosReportedPercentage+this.MIN_PERCENTAGE_CHANGE<=100&&Math.abs(t.shareOfScreenLastIosReportedPercentage-e)>=this.MIN_PERCENTAGE_CHANGE;return n&&(t.shareOfScreenEventsLeftToReport=0===t.shareOfScreenEventsLeftToReport?0:t.shareOfScreenEventsLeftToReport-1),n},e.prototype.collectCurrentShareOfScreenData=function(t,e){var n=d.Utilities.isIabPageInFocus(t,c.DvObject.isFocusStrictMode());return{screenSize:this.getComparableScreenSize(t,e),viewablePercentage:t.percentage,adSize:t.adSize,adIsPlaying:u.DvTagDataObject.getTagType()!=l.DvTagType.Video||t.adIsPlaying,isInFocus:n}},e.prototype.getComparableScreenSize=function(t,e){e.shareOfScreenReadFromViewport=e.shareOfScreenReadFromViewport||this.isApplicableForViewportMeasurement()&&this.reportReadFromViewport(e);var n=t.screenSize;if(e.shareOfScreenReadFromViewport&&n&&n.width>0&&n.height){var r=f.BrowserAdaptor.getInnerViewport();r.width>0&&r.height>0&&(n={width:r.width,height:t.screenSize.height*(r.width/t.screenSize.width)})}return n},e.prototype.isApplicableForViewportMeasurement=function(){if(2===c.DvObject.getDetectedDeliveryType()&&(2==(2&v.WindowAdaptor.getScenarioType())||1==(1&v.WindowAdaptor.getScenarioType()))){var t=f.BrowserAdaptor.getMetaTagAttributes(v.WindowAdaptor.workingDocument(v.WindowAdaptor.windowTop()),"viewport");return!this.isWebPageResponsive(t)}return!1},e.prototype.isWebPageResponsive=function(t){var e=t.width,n=t["initial-scale"];return!d.Utilities.isEmptyObject(t)&&(1===Number(n)||"device-width"===e)},e.prototype.reportReadFromViewport=function(t){return t.shareOfScreenReadFromViewportReport=1,!0},e.prototype.handleVideoCompleteOrUnload=function(t){var e=t.adCandidate;this.report(e)},e.prototype.isViewabilityConditionPassed=function(t,e,n,r,i){return n&&r&&this.validateScreenAndAdSize(t,e)&&this.isAdPercentageCriteriaPassed(t,i)},e.prototype.validateScreenAndAdSize=function(t,e){var n=t&&t.width&&t.height,r=e&&e.width&&e.height;return n&&r},e.prototype.getValidationReasonBits=function(t,e,n,r){var i=16===r.shareOfScreenNotMeasuredReason?16:0;return i||(t&&t.height&&t.width||(i|=4),e&&e.height&&e.width||(i|=2),n||(i|=1)),i},e.prototype.isAdPercentageCriteriaPassed=function(t,e){return d.Utilities.isLargeAd(t,p.ViewabilityConstants.IAB.DisplayMinimalLargeAdArea,c.DvObject.isMobile())?e>=p.ViewabilityConstants.IAB.DisplayMinimalAdAreaPercentageForLargeSize:e>=p.ViewabilityConstants.IAB.MinimalAdAreaPercentageForStandardSize},e.prototype.getActionName=function(){return"ViewableShareOfScreenBL"},e}(a.BaseAdBL);e.ViewableShareOfScreenBL=h},6603:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AdAsset=void 0;var n=function(t,e,n,r,i){this.id=t,this.player=e,this.adDuration=n,this.executeDVClientCallback=i,this.adSkippable=r};e.AdAsset=n},8701:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.AdContainerInspector=void 0;var r=n(4747),i=function(){function t(t){this.container=t}return t.prototype.getContainer=function(){var t;return null!==(t=this.container)&&void 0!==t?t:null},t.prototype.getContainerId=function(){var t;return null===(t=this.container)||void 0===t?void 0:t.id},t.prototype.getDescendants=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=[]),r.Utilities.convertToArray(this.getDescendantsAsCollection(t)).filter((function(t){return!e.includes(t.tagName.toLowerCase())}))},t.prototype.getDescendantsAsCollection=function(t){var e,n;if((null==t?void 0:t.length)>0&&this.getContainerId()){var r=t.join();return null===(e=this.container)||void 0===e?void 0:e.querySelectorAll("#"+this.getContainerId()+" "+r)}return null===(n=this.container)||void 0===n?void 0:n.getElementsByTagName("*")},t.prototype.getDirectChildren=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=[]),r.Utilities.convertToArray(this.getDirectChildrenAsCollection(t)).filter((function(t){return!e.includes(t.tagName.toLowerCase())}))},t.prototype.getDirectChildrenAsCollection=function(t){var e;if((null==t?void 0:t.length)>0&&this.getContainerId()){var n=t.join();return this.container.querySelectorAll("#"+this.getContainerId()+" > "+n)}return null===(e=this.container)||void 0===e?void 0:e.children},t.prototype.getMostPopularDirectChildElement=function(t){void 0===t&&(t=[]);var e=this.createDirectChildrenTable(t);return r.Utilities.getKeyWithHighestValue(e)},t.prototype.createDirectChildrenTable=function(t){void 0===t&&(t=[]);var e=this.getDirectChildren([],t).map((function(t){return t.tagName.toLowerCase()}));return r.Utilities.countBy(e)},t}();e.AdContainerInspector=i},5707:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.AdContainerInspectorFactory=void 0;var r=n(8701),i=n(6089),o=function(){function t(t){this.containerId=t}return t.prototype.createAdContainerInspector=function(){return new r.AdContainerInspector(this.getContainer())},t.prototype.getContainer=function(){return this.containerId?i.BrowserAdaptor.getElementById(this.containerId):null},t}();e.AdContainerInspectorFactory=o},7698:function(t,e,n){var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.DvBackwardCompatibilityClass=void 0;var i=n(708),o=n(6089),a=n(4747),s=n(3985),d=n(652),p=n(5191),c=n(9817),u=function(){function t(){this.dvObjType="dv",this.messages={registerMsg:function(t,e){i.MessageHandler.sendMessage(e)},startSendingEvents:function(t,e){}},this.domUtilities={outer:this,addImage:function(t,e,n,r){var i=a.Utilities.getParamValue(t,"impid");null!=i&&this.outer.tags&&this.outer.tags[i]&&"object"==typeof this.outer.tags[i].eventIdGenerator&&"function"==typeof this.outer.tags[i].eventIdGenerator.getNext&&(t+="&eoid="+this.outer.tags[i].eventIdGenerator.getNext());o.BrowserAdaptor.sendBeacon(t,n,e)},addScriptResource:function(t,e){o.BrowserAdaptor.addScriptAsync(t,e)}},this.pubSub=d.EventBusGlobal,this.CommonData={Scenario:p.WindowAdaptor.getScenarioType(),BrowserId:c.BrowserDetector.getBrowserId(),BrowserIdFromUserAgent:c.BrowserDetector.getBrowserIdUserAgent(),BrowserVersion:c.BrowserDetector.getBrowserVersion()},this.tags={},this.sendBeacon=function(){}}return t.prototype.resolveMacros=function(t,e){return a.Utilities.resolveMacros(t,e)},t.prototype.registerEventCall=function(t,e,n,r){e.tagsrv=1,i.MessageHandler.registerEventCall(t,e,r,n)},t.prototype.createEventCallUrl=function(t,e,n){return void 0===n&&(n=!1),i.MessageHandler.createEventCallUrl(t,r(r({},e),{tagsrv:1}),n)},t.prototype.getWorkingWindow=function(){return p.WindowAdaptor.workingWindow()},t.prototype.getMraid=function(){return s.MraidWrapper.getMraid()},t}();e.DvBackwardCompatibilityClass=u},5941:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.BeaconsAdaptor=void 0;var r=n(5191),i=n(6089),o=n(137),a=function(){function t(){}return t.prototype.positionBeacons=function(t,e,n){for(var a=r.WindowAdaptor.getDefaultWindow(t).document,s=r.WindowAdaptor.workingBody(a),d=i.BrowserAdaptor.getScrollData(s).left,p=i.BrowserAdaptor.getScrollData(s).top,c=i.BrowserAdaptor.getBoundingClientRect(t),u=c.width,l=c.height,v=c.left,f=c.top,h=u/(1+o.BeaconConstants.SQRT_2),y=l/(1+o.BeaconConstants.SQRT_2),g=u/o.BeaconConstants.SQRT_2,m=l/o.BeaconConstants.SQRT_2,b=0;b<e.length;b++){var w=Math.round(5*Math.random()),E=e[b];switch(E.left=v+d,E.top=f+p,b){case 0:E.left=-1e5,E.top=-1e5;break;case 1:E.left+=w,E.top+=w;break;case 2:E.left+=u-n-w,E.top+=w;break;case 3:E.left+=w,E.top+=l-n-w;break;case 4:E.left+=u-n-w,E.top+=l-n-w;break;case 5:E.left+=u/2+w,E.top+=l/2+w;break;case 6:E.left+=(u-g)/2+w,E.top+=(l-m)/2+w;break;case 7:E.left+=(u-g)/2+g,E.top+=(l-m)/2;break;case 8:E.left+=(u-g)/2,E.top+=(l-m)/2+m+w;break;case 9:E.left+=(u-g)/2+g-w,E.top+=(l-m)/2+m-w;break;case 10:E.left+=(u-h)/2+w,E.top+=(l-y)/2+w;break;case 11:E.left+=(u-h)/2+h-w,E.top+=(l-y)/2+w;break;case 12:E.left+=(u-h)/2+w,E.top+=(l-y)/2+y-w;break;case 13:E.left+=(u-h)/2+h-w,E.top+=(l-y)/2+y-w}b>=5&&(E.left-=n/2,E.top-=n/2),E.style.left=E.left+"px",E.style.top=E.top+"px"}},t.prototype.getElementVisiblePercentageWithBeacons=function(t,e){for(var n=0,r=0,i=0,o=0,a=1;a<t.length;a++){if(e(t[a]))switch(a){case 5:o++;break;case 1:case 2:case 3:case 4:n++;break;case 6:case 7:case 8:case 9:r++;break;case 10:case 11:case 12:case 13:i++}}return o||2!=n||2!=i?o?4==n?100:n>=2||4==r||4==i&&n>=1?50:4==i&&r>=1?30:0:0:30},t}();e.BeaconsAdaptor=new a},4117:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.getWorkingWindow=e.getCurrentWindow=e.getTagUniqueKey=void 0;var r=n(4747);dvWindow="undefined"!=typeof window&&window||dvWindow;var i="";function o(){return("undefined"!=typeof $dv&&$dv||{}).isDomlessEnvironment?{}:dvWindow}e.getTagUniqueKey=function(){if(""===i){var t="undefined"!=typeof $dv&&$dv||{};if(!t.hasOwnProperty("tagData"))throw new Error("dv object missing tagData property");if(!t.tagData||"object"!=typeof t.tagData)throw new Error("tagData is not an object");var e=Object.keys(t.tagData).filter((function(e){return t.tagData[e].hasOwnProperty("tagScriptElem")&&!t.tagData[e].isVisited}));if(!e.length)throw new Error("all tags data visited");var n=r.Utilities.getVersion(),o=e.filter((function(e){return t.tagData[e].dvtpScriptVersion===n}));i=o.length?o[0]:e[0],t.tagData[i].isVisited=!0}return i},e.getCurrentWindow=o,e.getWorkingWindow=function(){var t="undefined"!=typeof $dv&&$dv||{},e=o(),n=e;try{n=t.restrictedAccess?e:e.parent}catch(t){n=e}return n}},6089:function(t,e,n){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserAdaptor=e.BrowserAdaptorClass=void 0;var i=n(5191),o=n(5137),a=n(7526),s=n(4747),d=n(6037),p=n(4472),c=n(9817),u=n(9844),l=function(){function t(){this.visibilityPropertyPrefixes={hidden:"",webkitHidden:"webkit",mozHidden:"moz",msHidden:"ms"},this.updateVisibilityProperties(),this.createPrerenderedImages()}return t.prototype.sendBeaconIsSupported=function(){return i.WindowAdaptor.getNavigator()&&!!i.WindowAdaptor.getNavigator().sendBeacon&&c.BrowserDetector.getBrowserId()!=a.Browser.Safari&&c.BrowserDetector.getBrowserId()!=a.Browser.SafariWebView},t.prototype.createPrerenderedImages=function(){var t=this;this.prerenderedImages=[],this.sendBeaconSupported=this.sendBeaconIsSupported(),this.sendBeaconSupported||s.Utilities.times(20,(function(){return t.prerenderedImages.push(new Image)}))},t.prototype.getVisibilityProperty=function(){var t,e;try{for(var n=r(Object.keys(this.visibilityPropertyPrefixes)),o=n.next();!o.done;o=n.next()){var a=o.value;if(null!=i.WindowAdaptor.workingDocument()[a])return a}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.updateVisibilityProperties=function(){this.visibilityProperty=this.getVisibilityProperty(),this.visibilityPrefix=this.visibilityPropertyPrefixes[this.visibilityProperty]},t.prototype.getVisibilityPrefix=function(){return this.visibilityPrefix},t.prototype.isVisibilityChangeEventSupported=function(){return!!this.visibilityProperty},t.prototype.hasFocus=function(){return!(this.isVisibilityChangeEventSupported()&&!o.OmidWrapper.isSupported())||!i.WindowAdaptor.workingDocument()[this.visibilityProperty]},t.prototype.hasStrictFocus=function(){try{return!(i.WindowAdaptor.documentTop()&&i.WindowAdaptor.documentTop().hasFocus&&!o.OmidWrapper.isSupported())||i.WindowAdaptor.documentTop().hasFocus()}catch(t){return!0}},t.prototype.addEventListener=function(t,e,n,r){void 0===r&&(r=!1),t&&e&&n&&(n.addEventListener?n.addEventListener(t,e,r):n.attachEvent?n.attachEvent("on"+t,e):n["on"+t]=e)},t.prototype.removeEventListener=function(t,e,n,r){void 0===r&&(r=!1),t&&e&&n&&n.removeEventListener&&n.removeEventListener(t,e,r)},t.prototype.setTimeout=function(t,e){return i.WindowAdaptor.currentWindow().setTimeout(t,e)},t.prototype.clearTimeout=function(t){i.WindowAdaptor.currentWindow().clearTimeout(t)},t.prototype.setInterval=function(t,e){return i.WindowAdaptor.currentWindow().setInterval(t,e)},t.prototype.clearInterval=function(t){i.WindowAdaptor.currentWindow().clearInterval(t)},t.prototype.isBrowserSupported=function(){var t=[];return"function"==typeof t.filter&&"function"==typeof t.forEach},t.prototype.getAttribute=function(t,e){var n;if(t&&e)try{n=t[e]||t.getAttribute(e)}catch(t){}return n},t.prototype.setElementStyle=function(t,e,n){try{t.style.setProperty(e,n)}catch(t){}},t.prototype.getElementsByTagNameFromDocument=function(t,e){void 0===e&&(e=i.WindowAdaptor.workingDocument());var n=[];if(e&&t&&e.getElementsByTagName){var r=e.getElementsByTagName(t);r&&(n=s.Utilities.arrayLikeToArray(r))}return n},t.prototype.getElementsByClassName=function(t,e){void 0===e&&(e=i.WindowAdaptor.workingDocument());var n=[];if(e&&t){var r=void 0;e.getElementsByClassName?r=e.getElementsByClassName(t):e.querySelectorAll&&(r=e.querySelectorAll("."+t)),r&&(n=s.Utilities.arrayLikeToArray(r))}return n},t.prototype.querySelector=function(t,e){void 0===e&&(e=i.WindowAdaptor.workingDocument());try{return e.querySelector(t)}catch(t){}},t.prototype.createImage=function(){return new Image},t.prototype.createElement=function(t,e){if(void 0===e&&(e=i.WindowAdaptor.workingDocument()),t)return e.createElement(t)},t.prototype.insertBefore=function(t,e,n){return t&&t.insertBefore(e,n)},t.prototype.registerScriptEvent=function(t,e,n){this.addEventListener("error",e&&e.bind(null),t),this.addEventListener("load",n&&n.bind(null),t)},t.prototype.addScriptAsync=function(t,e,n,r,o,a){void 0===r&&(r=!0),e=e||i.WindowAdaptor.workingBody()||i.WindowAdaptor.workingDocument().head||i.WindowAdaptor.workingDocumentElement();var d=this.createElement("script",e.ownerDocument);d.type="text/javascript",d.src=r?s.Utilities.appendCacheBuster(t,"cbust"):t,this.registerScriptEvent(d,o,a),n&&(d.id=n),this.insertBefore(e,d,e.firstChild)},t.prototype.addScriptSync=function(t,e){e.write('<script type="text/javascript" src="'+t+'"><\/script>')},t.prototype.createIframe=function(t){var e=this.createElement("iframe");return e.name=e.id="iframe_"+u.RandomUtils.getRandom16(),e.width="0",e.height="0",e.style.display="none",e.src=t,e},t.prototype.addIframeAfterBodyTag=function(t,e){var n=this;void 0===e&&(e=150),i.WindowAdaptor.workingDocument()&&i.WindowAdaptor.workingBody()?this.insertBefore(i.WindowAdaptor.workingBody(),t,i.WindowAdaptor.workingBody().firstChild):this.setTimeout((function(){return n.addIframeAfterBodyTag(t,--e)}),20)},t.prototype.getElementById=function(t,e){if(void 0===e&&(e=i.WindowAdaptor.workingDocument()),t)return e.getElementById(t)},t.prototype.querySelectorAll=function(t,e){try{return t.querySelectorAll(e)}catch(t){}},t.prototype.getElementsByTagNameFromDomElement=function(t,e){var n=[];if(t&&e&&t.getElementsByTagName){var r=t.getElementsByTagName(e);r&&(n=s.Utilities.arrayLikeToArray(r))}return n},t.prototype.getElementType=function(t){if(t)return t.nodeName.toLowerCase()},t.prototype.getBoundingClientRect=function(t){var e={left:0,right:0,top:0,bottom:0,width:0,height:0};return t&&t.getBoundingClientRect&&(e=t.getBoundingClientRect()),e},t.prototype.getObjectSize=function(t){var e={width:0,height:0};if("object"==this.getElementType(t)){var n=this.getAttribute(t,"height"),r=this.getAttribute(t,"width");s.Utilities.isNullOrEmpty(r)&&s.Utilities.isNullOrEmpty(n)||(r=t.clientWidth,n=t.clientHeight);try{e.height=Number(n),e.width=Number(r)}catch(t){}}return e},t.prototype.getSiblingsNodes=function(t){var e=[],n=null;for(t&&t.parentNode&&(n=t.parentNode.firstChild);n;)1===n.nodeType&&n!==t&&e.push(n),n=n.nextElementSibling||n.nextSibling;return e},t.prototype.getElementChildren=function(t){var e=[];if(t.hasChildNodes())for(var n=0;n<t.childNodes.length;n++)t.childNodes[n]&&1===t.childNodes[n].nodeType&&e.push(t.childNodes[n]);return e},t.prototype.getAvailableScreenSize=function(t){void 0===t&&(t=!0);var e=t?0:null,n=t?0:null,r=i.WindowAdaptor.workingWindow()&&i.WindowAdaptor.workingWindow().screen;return r&&(e=r.availHeight,n=r.availWidth),{height:e,width:n}},t.prototype.getScreenSize=function(){var t=0,e=0;try{var n=i.WindowAdaptor.workingWindow()&&i.WindowAdaptor.workingWindow().screen;n&&(t=n.height,e=n.width)}catch(t){}return{height:t,width:e}},t.prototype.getDevicePixelRatio=function(){var t;try{t=i.WindowAdaptor.workingWindow().devicePixelRatio}catch(t){}return t},t.prototype.getInnerViewport=function(t){void 0===t&&(t=!0);var e=t?0:null,n=t?0:null;try{var r=i.WindowAdaptor.windowTop(),o=i.WindowAdaptor.workingWindow();r?(e=r.innerHeight,n=r.innerWidth):o&&(e=o.innerHeight,n=o.innerWidth)}catch(t){}return{height:e,width:n}},t.prototype.getOuterViewport=function(t,e){void 0===t&&(t=i.WindowAdaptor.workingWindow()),void 0===e&&(e=!0);var n=e?0:null,r=e?0:null;try{t&&(n=t.outerHeight,r=t.outerWidth)}catch(t){}return{height:n,width:r}},t.prototype.getViewportAssetsRelativeToScreen=function(t){var e=0,n=0;try{t&&(e=t.screenY,n=t.screenX)}catch(t){}return{top:e,left:n}},t.prototype.getIframeAssetsRelativeToScreen=function(t){void 0===t&&(t=i.WindowAdaptor.workingWindow());var e=0,n=0;try{t&&(e=t.mozInnerScreenY||t.screenTop,n=t.mozInnerScreenX||t.screenLeft)}catch(t){}return{top:e,left:n}},t.prototype.getScrollData=function(t){void 0===t&&(t=i.WindowAdaptor.workingBody());var e=0,n=0;return t&&(e=t.scrollLeft,n=t.scrollTop),{left:n,top:e}},t.prototype.smartInstanceof=function(t,e,n){try{return t instanceof n[e]||n.parent!=n&&this.smartInstanceof(t,e,n.parent)}catch(t){return!1}},t.prototype.getNavigationStartTime=function(){var t=i.WindowAdaptor.workingWindow();if(t.performance&&t.performance.timing)return i.WindowAdaptor.workingWindow().performance.timing.navigationStart},t.prototype.getElementSize=function(t){var e={width:0,height:0};try{if("object"!=this.getElementType(t)){var n=this.getBoundingClientRect(t);e.height=n.height,e.width=n.width}else e=this.getObjectSize(t)}catch(t){}return e},t.prototype.getElementStaticSize=function(t){return{width:t.innerWidth||t.clientWidth,height:t.innerHeight||t.clientHeight}},t.prototype.sendBeacon=function(t,e,n){if(void 0===e&&(e=!1),t=s.Utilities.appendCacheBuster(t,p.DvObject.getCacheBusterName()),o.OmidWrapper.isSupported())o.OmidWrapper.sendUrl(t);else if(!e&&this.sendBeaconSupported)i.WindowAdaptor.getNavigator().sendBeacon(t);else{(this.prerenderedImages&&this.prerenderedImages.length?this.prerenderedImages.pop():this.createImage()).src=t}s.Utilities.logDvSignal(t)},t.prototype.isElementAttachedToDocument=function(t){try{return"IFRAME"==t.nodeName?!!i.WindowAdaptor.getIframeWindow(t):i.WindowAdaptor.workingDocument().contains(t)}catch(t){}},t.prototype.getParentNode=function(t){return t&&t.parentNode},t.prototype.getOrientation=function(){var t,e=i.WindowAdaptor.currentWindow();return void 0!==e.orientation&&(t=parseInt(e.orientation.toString())),t},t.prototype.isAdElementHidden=function(t){var e=t.ownerDocument?t.ownerDocument.defaultView||t.ownerDocument.parentWindow:null;if(e)return this.getAdElementHiddenStatus(t,e)},t.prototype.getAdElementHiddenStatus=function(t,e){var n;try{if(!i.WindowAdaptor.isTop(e)){if(!e.frameElement)return;t=e.frameElement,e=i.WindowAdaptor.getWindowParent(e)}}catch(t){}var r,o,a=0,d=s.Utilities.getCurrentTime(),p=s.Utilities.getElementOffsetFromScreen(t),c=p.left,u=p.top;try{r=getComputedStyle(t)}catch(e){r=t.style}if(t.getBoundingClientRect){var l=t.getBoundingClientRect();o=[c+l.width/2,u+l.height/2]}else o=[c+parseInt(r.width)/2,u+parseInt(r.height)/2];try{"none"===r.display&&(a|=4),n=e.document.body.querySelectorAll("*");var v=!1;for([].forEach.call(n,(function(e){if(v&&e!==t&&!e.contains(t)&&!t.contains(e))try{var n=e.getBoundingClientRect(),r=s.Utilities.getElementOffsetFromScreen(e);r.left+n.width>=o[0]&&r.left<=o[0]&&r.top<=o[1]&&r.top+n.height>=o[1]&&(a|=1)}catch(t){}e===t&&(v=!0)}));t;){try{r=getComputedStyle(t)}catch(e){r=t.style}r&&"none"===r.display&&(a|=4),r&&("hidden"===r.visibility||""!==r.opacity&&r.opacity<.8)&&(a|=2);try{if(t.getBoundingClientRect){var f=t.getBoundingClientRect();f.width*f.height<100&&(a|=8)}}catch(t){}t=t.document&&t==t.document.body?t.window.frameElement?t.window.frameElement:null:t.parentElement}}catch(t){a=-1}return a<0?a=-1e3*(s.Utilities.getCurrentTime()-d):a+=1e3*(s.Utilities.getCurrentTime()-d),a},t.prototype.getMetaTagAttributes=function(t,e){var n,i,o={};if(t)try{for(var a=r(s.Utilities.arrayLikeToArray(t.getElementsByTagName("meta"))),d=a.next();!d.done;d=a.next()){var p=d.value;if(p.getAttribute("name")===e&&p.getAttribute("content")){p.getAttribute("content").split(",").forEach((function(t){var e=t.split("=");e.length>1&&(o[e[0].trim()]=e[1].trim())}));break}}}catch(t){n={error:t}}finally{try{d&&!d.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o},t}();e.BrowserAdaptorClass=l,e.BrowserAdaptor=i.WindowAdaptor.isDomlessEnvironment()?new d.BrowserOmidAdaptorClass:new l},9817:function(t,e,n){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserDetector=e.BrowserDetectorClass=void 0;var i=n(7526),o=n(5191),a=n(7258),s=function(){function t(){var t=this;this.browsersList=[{id:i.Browser.Selenium,browserDetectionRuleType:2,propertiesRuleFunc:function(){return o.WindowAdaptor.workingDocumentElement().hasAttribute("webdriver")||o.WindowAdaptor.workingDocumentElement().hasAttribute("fxdriver")||o.WindowAdaptor.workingDocumentElement().hasAttribute("__webdriver_unwrapped")||o.WindowAdaptor.workingDocumentElement().hasAttribute("__webdriver_script_fn")||o.WindowAdaptor.workingDocumentElement().hasAttribute("__webdriver_evaluate")||o.WindowAdaptor.workingDocumentElement().hasAttribute("__fxdriver_evaluate")||o.WindowAdaptor.workingDocumentElement().hasAttribute("__fxdriver_unwrapped")||o.WindowAdaptor.workingDocumentElement().hasAttribute("__fxdriver_script_fn")||t.workingWindow.webdriver||t.workingWindow.domAutomation||t.workingWindow.domAutomationController||t.workingWindow._WEBDRIVER_ELEM_CACHE}},{id:i.Browser.PhantomJS,browserDetectionRuleType:2,propertiesRuleFunc:function(){return t.workingWindow._phantom||t.workingWindow.callPhantom||t.workingWindow.phantom||t.workingWindow.__nightmare}},{id:i.Browser.PuppeteerVanilla,browserDetectionRuleType:2,propertiesRuleFunc:function(){var e;return null===(e=t.workingWindow.navigator)||void 0===e?void 0:e.webdriver}},{id:i.Browser.PuppeteerExtraStealth,browserDetectionRuleType:2,propertiesRuleFunc:function(){return t.getIsExtraStealthBrowser()}},{id:i.Browser.ChromeWebView,browserDetectionRuleType:1,userAgentRegex:"(?:wv(.*?))version/[0-9]+(?:.[0-9]+)* chrome/[0-9]+(?:.[0-9]+)* mobile|version/[0-9]+(?:.[0-9]+)* chrome/[0-9]+(?:.[0-9]+)* mobile|(?:wv(.*?))version\\/[0-9]+(?:.[0-9]+)* chrome\\/[0-9]+(?:.[0-9]+)*",versionRegex:"chrome/"},{id:i.Browser.SafariWebView,browserDetectionRuleType:3,userAgentRegex:"(?=.*(iphone|ipod|ipad))(?=^(?:(?!safari).)*$).*$",propertiesRuleFunc:function(){return!t.workingWindow.navigator.standalone}},{id:i.Browser.IE,browserDetectionRuleType:1,userAgentRegex:"msie|trident/7.*rv:11|rv:11.*trident/7|edge/|edg/",versionRegex:"(msie |rv:| edge/|edg/)"},{id:i.Browser.Firefox,browserDetectionRuleType:2,userAgentRegex:"firefox",versionRegex:"firefox/",propertiesRuleFunc:function(){return"number"==typeof t.workingWindow.mozInnerScreenY&&"number"==typeof t.workingWindow.mozPaintCount&&t.workingWindow.InstallTrigger&&t.workingWindow.InstallTrigger.install}},{id:i.Browser.Opera,browserDetectionRuleType:1,userAgentRegex:"opr|opera",versionRegex:"(opr/|version/)"},{id:i.Browser.Chrome,browserDetectionRuleType:2,userAgentRegex:"chrome",versionRegex:"chrome/",propertiesRuleFunc:function(){return t.workingWindow.chrome&&"function"==typeof t.workingWindow.chrome.csi&&"function"==typeof t.workingWindow.chrome.loadTimes&&"boolean"==typeof t.workingDocument.webkitHidden}},{id:i.Browser.Chrome,browserDetectionRuleType:1,userAgentRegex:"crios",versionRegex:"crios/"},{id:i.Browser.Safari,browserDetectionRuleType:2,userAgentRegex:"safari|(os |os x )[0-9].*applewebkit",versionRegex:"version/",propertiesRuleFunc:function(){var e=o.WindowAdaptor.workingDocument()&&o.WindowAdaptor.workingDocument().createElement&&o.WindowAdaptor.workingDocument().createElement("p");if(e)return e.innerText=".",e.setAttribute("style","color:red; border: 1px solid blue;"),(Object.prototype.toString.call(t.workingWindow.HTMLElement).indexOf("Constructor")>0||t.workingWindow.webkitAudioPannerNode&&t.workingWindow.webkitConvertPointFromNodeToPage)&&null!=t.workingWindow.innerWidth&&null!=t.workingWindow.innerHeight&&null!=e.style.textShadow}},{id:i.Browser.Unknown,browserDetectionRuleType:1,userAgentRegex:"mozilla.*android.*applewebkit(?!.*chrome.*)|linux.*android.*applewebkit.* version/.*chrome"},{id:i.Browser.Unknown,browserDetectionRuleType:1,userAgentRegex:"aol/.*aolbuild/|aolbuild/.*aol/|puffin|maxthon|valve|silk|playstation|playstation|nintendo|wosbrowser"}],o.WindowAdaptor.isDomlessEnvironment()||(this.workingWindow=o.WindowAdaptor.workingWindow(),this.workingDocument=o.WindowAdaptor.workingDocument(),this.currentUserAgent=(a.DvTagDataObject.getUserAgent()||o.WindowAdaptor.getUserAgent()||"").toLowerCase(),this.browserData=this.determineBrowserType())}return t.prototype.getBrowserId=function(){return this.browserData&&this.browserData.browserId},t.prototype.getBrowserVersion=function(){return this.browserData&&this.browserData.browserVersion},t.prototype.getBrowserIdUserAgent=function(){return this.browserData&&this.browserData.browserIdUserAgent},t.prototype.determineBrowserType=function(){var t,e,n,i,o;try{for(var a=r(this.browsersList),s=a.next();!s.done;s=a.next()){var d=s.value;switch(d.browserDetectionRuleType){case 3:this.validateBrowserTypeByUserAgent(d)&&this.validateBrowserTypeByPropertiesRule(d)&&(n=i=d);break;case 1:this.validateBrowserTypeByUserAgent(d)&&(n=i=d);break;case 2:!n&&d.userAgentRegex&&this.validateBrowserTypeByUserAgent(d)&&(n=d),!i&&this.validateBrowserTypeByPropertiesRule(d)&&(i=d)}if(n&&i)break}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return n==i&&n&&n.versionRegex&&(o=this.determineBrowserVersion(n.versionRegex)),{browserId:i&&i.id,browserVersion:o||"",browserIdUserAgent:n&&n.id}},t.prototype.validateBrowserTypeByUserAgent=function(t){return new RegExp(t.userAgentRegex).test(this.currentUserAgent)},t.prototype.validateBrowserTypeByPropertiesRule=function(t){return t.propertiesRuleFunc()},t.prototype.getIsExtraStealthBrowser=function(){var t=!1;try{var e=this.workingDocument.createElement("video"),n=e&&e.canPlayType,r=n?e.canPlayType('video/mp4; codecs="avc1.42E01E"'):"",i=n?e.canPlayType('video/mp4; codecs="avc3.42E01E"'):"",o=n&&""!=r&&""!=i,a=this.workingWindow.MediaSource,s=a&&a.isTypeSupported&&!1===a.isTypeSupported('video/mp4; codecs="avc1.42E01E"');t=o&&s}catch(t){}finally{return t}},t.prototype.determineBrowserVersion=function(t){var e=new RegExp(t+"[0-9]+(?:.[0-9]+)*"),n=this.currentUserAgent.match(e);if(n)return n[0].replace(this.currentUserAgent.match(new RegExp(t))[0],"")},t}();e.BrowserDetectorClass=s,e.BrowserDetector=new s},6037:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserOmidAdaptorClass=void 0;var r=n(5137),i=n(4747),o=n(4472),a=function(){function t(){}return t.prototype.updateVisibilityProperties=function(){},t.prototype.getDevicePixelRatio=function(){},t.prototype.getVisibilityPrefix=function(){return""},t.prototype.isVisibilityChangeEventSupported=function(){return!1},t.prototype.hasFocus=function(){return!0},t.prototype.hasStrictFocus=function(){return!0},t.prototype.addEventListener=function(t,e,n,i){void 0===i&&(i=!1),r.OmidWrapper.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e,n,r){void 0===r&&(r=!1)},t.prototype.setTimeout=function(t,e){return r.OmidWrapper.setTimeout(t,e)},t.prototype.clearTimeout=function(t){r.OmidWrapper.clearTimeout(t)},t.prototype.setInterval=function(t,e){return r.OmidWrapper.setInterval(t,e)},t.prototype.clearInterval=function(t){r.OmidWrapper.clearInterval(t)},t.prototype.isBrowserSupported=function(){var t=[];return"function"==typeof t.filter&&"function"==typeof t.forEach},t.prototype.getAttribute=function(t,e){},t.prototype.setElementStyle=function(t,e,n){},t.prototype.getElementsByTagNameFromDocument=function(t,e){return[]},t.prototype.querySelectorAll=function(t,e){return[]},t.prototype.getElementsByClassName=function(t,e){return[]},t.prototype.querySelector=function(t,e){},t.prototype.createElement=function(t,e){throw new Error("createElement failed")},t.prototype.getElementById=function(t,e){},t.prototype.getElementsByTagNameFromDomElement=function(t,e){return[]},t.prototype.getElementType=function(t){},t.prototype.getBoundingClientRect=function(t){return{left:0,right:0,top:0,bottom:0,width:0,height:0}},t.prototype.getObjectSize=function(t){return{width:0,height:0}},t.prototype.getSiblingsNodes=function(t){return[]},t.prototype.getElementChildren=function(t){return[]},t.prototype.getAvailableScreenSize=function(t){return void 0===t&&(t=!0),{height:0,width:0}},t.prototype.getScreenSize=function(){return{height:0,width:0}},t.prototype.getInnerViewport=function(t){return void 0===t&&(t=!0),{height:0,width:0}},t.prototype.getOuterViewport=function(t,e){return void 0===e&&(e=!0),{height:0,width:0}},t.prototype.getViewportAssetsRelativeToScreen=function(t){return{top:0,left:0}},t.prototype.getIframeAssetsRelativeToScreen=function(t){return{top:0,left:0}},t.prototype.getScrollData=function(t){return{left:0,top:0}},t.prototype.smartInstanceof=function(t,e,n){return!1},t.prototype.getNavigationStartTime=function(){},t.prototype.getElementSize=function(t){return{width:0,height:0}},t.prototype.getElementStaticSize=function(t){return{width:0,height:0}},t.prototype.sendBeacon=function(t,e,n){r.OmidWrapper.sendUrl(i.Utilities.appendCacheBuster(t,o.DvObject.getCacheBusterName()))},t.prototype.insertBefore=function(t,e,n){},t.prototype.addScriptAsync=function(t,e,n,i,o,a){r.OmidWrapper.injectJavaScriptResource(t,a&&a.bind(null),o&&o.bind(null))},t.prototype.addScriptSync=function(t,e){r.OmidWrapper.injectJavaScriptResource(t)},t.prototype.createIframe=function(t){throw new Error("createIframe failed")},t.prototype.addIframeAfterBodyTag=function(t){throw new Error("addIframeAfterBodyTag failed")},t.prototype.isElementAttachedToDocument=function(t){return!0},t.prototype.getParentNode=function(t){},t.prototype.getOrientation=function(){},t.prototype.isAdElementHidden=function(t){return 0},t.prototype.getMetaTagAttributes=function(t,e){return{}},t}();e.BrowserOmidAdaptorClass=a},2744:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Cm360AdContainerInspectorFactory=void 0;var o=n(7258),a=function(t){function e(n){return t.call(this,e.getContainerId(n))||this}return i(e,t),e.getContainerId=function(t){return t?o.DvTagDataObject.getValueOfTagAttribute(t):null},e}(n(5707).AdContainerInspectorFactory);e.Cm360AdContainerInspectorFactory=a},137:function(t,e,n){var r,i;Object.defineProperty(e,"__esModule",{value:!0}),e.omidCreativeTypeMapping=e.omidImpressionTypeMapping=e.NOT_FOUND_OR_ERROR=e.OmidGeometryReasonLog=e.OmidEvents=e.dvIframeAttribute=e.CallbackPrefix=e.HttpProtocol=e.ViewabilityConstants=e.BeaconConstants=void 0;var o=n(1676),a=function(){function t(){}return t.TOTAL_BEACONS=14,t.JS_BEACON_SIZE=8,t.FLASH_BEACON_SIZE=1,t.FLASH_BEACON_URL="https://cdn.zentrick.com/openvv/2.5.4/OVVBeacon.swf",t.FRAME_RATE_CONTROL_THRESHOLD=7,t.FRAME_RATE_VIEW_THRESHOLD=5,t.SQRT_2=Math.sqrt(2),t}();e.BeaconConstants=a;var s=function(){function t(){}return t.IAB={DisplayMinimalDuration:1e3,VideoMinimalDuration:2e3,DisplayMinimalLargeAdArea:242500,MinimalAdAreaPercentageForStandardSize:50,DisplayMinimalAdAreaPercentageForLargeSize:30},t.GroupM={DisplayMinimalDuration:100,VideoMinimalDuration:15e3,VideoMinimalDurationPercentage:50,DisplayMinimalLargeAdArea:242500,VideoMinimalLargeAdArea:3e5,MinimalAdAreaPercentageForStandardSize:98,DisplayMinimalAdAreaPercentageForLargeSize:0,VideoMinimalAdAreaPercentageForLargeSize:80},t.GroupMV4={DisplayMinimalDuration:1e3,VideoMinimalDuration:15e3,VideoMinimalDurationPercentage:50,DisplayMinimalLargeAdArea:242500,VideoMinimalLargeAdArea:3e5,MinimalAdAreaPercentageForStandardSize:98,DisplayMinimalAdAreaPercentageForLargeSize:50,VideoMinimalAdAreaPercentageForLargeSize:80},t.PMX={DisplayMinimalDuration:1e3,VideoMinimalDuration:2e3,DisplayMinimalLargeAdArea:242500,VideoMinimalLargeAdArea:3e5,MinimalAdAreaPercentageForStandardSize:98,DisplayMinimalAdAreaPercentageForLargeSize:30,VideoMinimalAdAreaPercentageForLargeSize:50},t.CustomAdvertiserViewabilityStandard={DisplayMinimalLargeAdArea:242500,VideoMinimalLargeAdArea:3e5},t.RB={MinimalAdAreaPercentageForStandardSize:50},t}();e.ViewabilityConstants=s;var d=function(){function t(){}return t.Http="http:",t.Https="https:",t}();e.HttpProtocol=d,e.CallbackPrefix="dvCallback_",e.dvIframeAttribute="data-dv-frm",e.OmidEvents={sessionStart:1,sessionError:2,sessionFinish:4,impression:8,geometryChange:16,loaded:32,start:64,midpoint:128,thirdQuartile:256,complete:512,pause:1024,resume:2048,bufferStart:4096,skipped:8192,volumeChange:16384,playerStateChange:32768,adUserInteraction:65536},e.OmidGeometryReasonLog={notFound:1,hidden:2,backgrounded:4,obstructed:8,clipped:16},e.NOT_FOUND_OR_ERROR=-1,e.omidImpressionTypeMapping=((r={})[o.OmidImpressionType.UNKNOWN]=0,r[o.OmidImpressionType.UNSPECIFIED]=1,r[o.OmidImpressionType.LOADED]=2,r[o.OmidImpressionType.BEGIN_TO_RENDER]=3,r[o.OmidImpressionType.ONE_PIXEL]=4,r[o.OmidImpressionType.VIEWABLE]=5,r[o.OmidImpressionType.AUDIBLE]=6,r[o.OmidImpressionType.OTHER]=7,r),e.omidCreativeTypeMapping=((i={})[o.OmidCreativeType.UNKNOWN]=0,i[o.OmidCreativeType.NATIVE_DISPLAY]=1,i[o.OmidCreativeType.HTML_DISPLAY]=2,i[o.OmidCreativeType.VIDEO]=3,i[o.OmidCreativeType.AUDIO]=4,i)},1613:function(t,e,n){var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.dvDefineProperty=e.getTagUniqueKeyFromVisitScriptElement=void 0;var i=n(4472),o=n(5191),a=n(7258);function s(){var t="";if(!o.WindowAdaptor.isDomlessEnvironment()){var e=o.WindowAdaptor.getCurrentScript();e&&e.id&&e.src&&e.src.indexOf(a.DvTagDataObject.getInitPath())>-1&&(t=r(e.id.split("_"),2)[1])}return t}function d(t,e){t.dvDefinedProps||(t.dvDefinedProps={}),t.dvDefinedProps[e]||(t.dvDefinedProps[e]=!0,Object.defineProperty(t,e,{set:function(t){this.value=t},get:function(){var t=s();if(t){var n=i.DvObject.getDvObject().tagData[t];return n&&n[e]}}}))}if(e.getTagUniqueKeyFromVisitScriptElement=s,e.dvDefineProperty=d,i.DvObject.isRestrictedAccess()&&o.WindowAdaptor.getCurrentScript()){var p=o.WindowAdaptor.currentWindow();["$frmId","$uid"].forEach((function(t){return d(p,t)}))}},4472:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.DvObject=e.DvObjectClass=void 0;var r=n(137),i=n(4117),o=function(){function t(){}return t.prototype.setDvGetOmidVerificationClient=function(t){this.dvGetOmidVerificationClient=t},t.prototype.getDvGetOmidVerificationClient=function(){return this.dvGetOmidVerificationClient},t.prototype.getDvObject=function(){if("undefined"!=typeof $dv)return $dv;var t=i.getCurrentWindow();if(t&&t.$dv)return t.$dv;var e=i.getWorkingWindow();return e&&e.$dv?e.$dv:{}},t.prototype.getTagUniqueKey=function(){return i.getTagUniqueKey()},t.prototype.getTagCounter=function(){return this.getDvObject().tagsCounter},t.prototype.getSharedUniqueKey=function(){return this.getDvObject().sharedUniqueKey},t.prototype.getTagScriptElem=function(){return this.getTagData().tagScriptElem},t.prototype.isES6Supported=function(){return!!this.getTagData().isES6Supported},t.prototype.hasTagData=function(){return!!this.getDvObject().tagData},t.prototype.getTagData=function(){var t=this.getDvObject(),e=this.getTagUniqueKey(),n=t.tagData[e];if(!n)throw new Error("tagData not found for tuk = "+e);return n},t.prototype.getDvtpScriptVersion=function(){return this.getTagData().dvtpScriptVersion},t.prototype.isRestrictedAccess=function(){return!!this.getDvObject().restrictedAccess},t.prototype.isInjectedAsSibling=function(){return this.hasTagData()&&!!this.getTagData().injectedAsSibling},t.prototype.isOmidForWeb=function(){return!!this.getTagData().isOmidForWeb},t.prototype.isOmid3p=function(){return!!this.getTagData().isOmid3p},t.prototype.getDvtpScriptUrl=function(){return this.getTagData().dvtpScriptUrl||""},t.prototype.getTagLoadedMS=function(){return this.getTagData().tagLoadedMS||0},t.prototype.getTagReadyState=function(){return this.getTagData().tagReadyState||"loading"},t.prototype.getVisitReadyState=function(){return this.getTagData().visitReadyState||"loading"},t.prototype.setVisitReadyState=function(t){void 0===t&&(t="loading"),this.getTagData().visitReadyState=t},t.prototype.getVisitInjectedMS=function(){return this.getTagData().visitInjectedMS||0},t.prototype.setVisitInjectedMS=function(t){void 0===t&&(t=0),this.getTagData().visitInjectedMS=t},t.prototype.getTagExecTimeMs=function(){return this.getTagData().tagExecTimeMs||0},t.prototype.setImpressionIdOnTagData=function(t){this.getTagData().$uid=t},t.prototype.setImpressionId=function(t){this.impressionId=t,this.setImpressionIdOnTagData(t)},t.prototype.getImpressionIdFromTagData=function(){return this.getTagData().$uid},t.prototype.getImpressionId=function(t){if(this.isRestrictedAccess()){var e=this.getImpressionIdFromTagData();if(e)return e}return t&&t.$uid?t.$uid:"undefined"!=typeof $uid?$uid:void 0},t.prototype.getFrameIdFromTagData=function(){return this.getTagData().$frmId},t.prototype.getFrameId=function(t){if(this.isRestrictedAccess()){var e=this.getFrameIdFromTagData();if(e)return e}return t&&t.$frmId?t.$frmId:"undefined"!=typeof $frmId?$frmId:void 0},t.prototype.getScriptUrl=function(){return this.getTagData().dvtpScriptUrl},t.prototype.getProtocol=function(){return 0===(this.getScriptUrl()||"").indexOf(r.HttpProtocol.Http)?r.HttpProtocol.Http:r.HttpProtocol.Https},t.prototype.getJSVersion=function(){return this.getTagData().dvtpScriptVersion},t.prototype.publishPubSubEvent=function(t,e,n){void 0===e&&(e=this.impressionId),void 0===n&&(n={}),this.getDvObject()&&this.getDvObject().pubSub&&t&&e&&this.getDvObject().pubSub.publish(t,e,n)},t.prototype.getDisplayCustomViewabilityConditions=function(){var t=this.getDvObject().tags[this.impressionId].cvmSettings;if(null!=t&&null!=t.adArea&&null!=t.duration&&null!=t.measureType)return{minimalAdAreaPercentage:t.adArea,minimalAdDuration:t.duration,consecutiveMode:"consecutive"==t.measureType.toLowerCase()}},t.prototype.getDisplayCustomStandardViewabilityConditions=function(){var t=this.getDvObject().tags[this.impressionId].csd;if(null!=t&&null!=t.adView&&null!=t.adDurationCap&&null!=t.isConsecutive&&null!=t.adSize)return{minimalAdAreaPercentage:t.adView,minimalAdDuration:t.adDurationCap,consecutiveMode:t.isConsecutive,minimalAdSize:t.adSize}},t.prototype.getVideoCustomViewabilityConditions=function(){var t=this.getDvObject().tags[this.impressionId].videoCustom;if(null!=t&&null!=t.adView&&null!=t.adDurationCap&&null!=t.isConsecutive&&null!=t.hasVolume)return{minimalAdAreaPercentage:t.adView,minimalAdDuration:t.adDurationCap,consecutiveMode:t.isConsecutive,requireVolume:t.hasVolume}},t.prototype.getVideoCustomStandardViewabilityConditions=function(){var t=this.getDvObject().tags[this.impressionId].csv;if(null!=t&&null!=t.adView&&null!=t.adDurationCap&&null!=t.isConsecutive&&null!=t.hasVolume&&null!=t.playerSize)return{minimalAdAreaPercentage:t.adView,minimalAdDuration:t.adDurationCap,minimalAdDurationPercent:t.adDurationPercent,minimalAdSize:t.playerSize,consecutiveMode:t.isConsecutive,requireVolume:t.hasVolume}},t.prototype.getCustomAdvertiserViewabilitySettings=function(){var t,e,n=this.getDvObject();if(n&&n.tags&&this.impressionId&&(t=$dv.tags[this.impressionId])&&(e=t.cavs)&&null!=e.standardType){var r=e.regularAd,i=e.largeAd;return{standardType:e.standardType,conditions:{regularAd:r,largeAd:i}}}},t.prototype.getKMEVideoViewabilityConditions=function(){var t=this.getDvObject().tags[this.impressionId].videoBrandVisibilty;if(null!=t&&null!=t.adView&&null!=t.adStart&&null!=t.adEnd&&null!=t.hasVolume)return{minimalAdAreaPercentage:t.adView,timeLineLeftBoundary:t.adStart,timeLineRightBoundary:t.adEnd,requireVolume:t.hasVolume}},t.prototype.getAllowJsCallback=function(){return this.getAvoParam("ajscb")},t.prototype.getIsOffScreen=function(){return this.getAvoParam("ofs")},t.prototype.getConsolidationTimeout=function(){var t=this.getAvoParam("cto");if(t&&!isNaN(t))return t},t.prototype.getIsReducedAdLocatorLatency=function(){var t=this.getAvoParam("int");if(t&&!isNaN(t))return t},t.prototype.isMobileWeb=function(){return 2==this.getDetectedDeliveryType()},t.prototype.isMobileApp=function(){return 3==this.getDetectedDeliveryType()},t.prototype.isCTV=function(){return 4==this.getDetectedDeliveryType()},t.prototype.isMobile=function(){return this.isMobileWeb()||this.isMobileApp()},t.prototype.getDetectedDeliveryType=function(){try{if(this.detectedDeliveryType||!this.impressionId)return this.detectedDeliveryType;var t=this.getDvObject().tags[this.impressionId].detectedDeliveryType;return null!=t?(this.detectedDeliveryType=t,this.detectedDeliveryType):(this.detectedDeliveryType=this.getDvObject().CommonData.detectedDeliveryType,this.detectedDeliveryType)}catch(t){}},t.prototype.isSpotxMode=function(){var t=!1;return this.getDvObject()&&this.getDvObject().tags&&this.impressionId&&(t=!!this.getDvObject().tags[this.impressionId].spotXmode),t},t.prototype.getCacheBusterName=function(){var t="cbust";return this.getDvObject()&&this.getDvObject().tags&&this.impressionId&&this.getDvObject().tags[this.impressionId].cbust&&(t=this.getDvObject().tags[this.impressionId].cbust),t},t.prototype.getAllowRBViewability=function(){var t=!1;return this.getDvObject()&&this.getDvObject().tags&&this.impressionId&&(t=this.getDvObject().tags[this.impressionId].allowRB),t},t.prototype.getFireOnlyImportantEvents=function(){var t=!1;return this.getDvObject()&&this.getDvObject().tags&&this.impressionId&&(t=this.getDvObject().tags[this.impressionId].foie),t},t.prototype.isSIVTImpression=function(){var t=!1;return this.getDvObject()&&this.getDvObject().tags&&this.impressionId&&(t=!!this.getDvObject().tags[this.impressionId].bgm),t},t.prototype.isGroupMV4VideoNativeImpression=function(){var t=!1;return this.getDvObject()&&this.getDvObject().tags&&this.impressionId&&(t=!!this.getDvObject().tags[this.impressionId].gmv4ntv),t},t.prototype.isFocusStrictMode=function(){return this.getAvoParam("fcs")},t.prototype.getDoubleTagImpressionID=function(){var t=this.getAdTagData();if(t&&t.dup&&"null"!=t.dup)return t.dup},t.prototype.getAvoParam=function(t){var e,n=this.getAdTagData();return n&&n.AVO&&(e=n.AVO[t]),e},t.prototype.getAdTagData=function(){var t,e=this.impressionId;return this.getDvObject().tags&&this.getDvObject().tags[e]&&(t=this.getDvObject().tags[e]),t},t}();e.DvObjectClass=o,e.DvObject=new o},7258:function(t,e,n){var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.DvTagDataObject=e.DvTagDataObjectClass=void 0;var i=n(5191),o=n(7526),a=n(708),s=n(4747),d=n(5137),p=n(6089),c=n(4472),u=n(805),l=n(1676),v=function(){function t(){this.paramsCaseInsensitive={},this.paramsCaseSensitive={},this.serverPrefix="https://tps.doubleverify.com/",this.initPath="visit.js",this.errorPath="visit.jpg",this.eventPath="event.png",this.blockingServerPrefix=void 0,this.blockingInitPath=void 0,this.blockingErrorPath=void 0,this.blockingEventPath=void 0}return t.prototype.start=function(){this.setDvScript(),this.setDvScriptUrl(),this.dvtpScriptUrl||a.MessageHandler.sendError(o.ClientErrorType.DvTagArrangementError,new Error("url is missing")),this.setDVParam(),this.setCustomURLs()},t.prototype.getScriptElementExtractionMethod=function(){return this.scriptElementExtractionMethod},t.prototype.getParamUrlExtractionMethod=function(){return this.paramUrlExtractionMethod},t.prototype.getDVScriptUrl=function(){return this.dvtpScriptUrl},t.prototype.getDVScript=function(){return this.scriptElement},t.prototype.getCaseSensitiveParams=function(){return this.paramsCaseSensitive},t.prototype.getLowerCaseParams=function(){return this.paramsCaseInsensitive},t.prototype.getParamValue=function(t){return this.paramsCaseInsensitive[t]?this.paramsCaseInsensitive[t]:null},t.prototype.getTagType=function(){return!this.paramsCaseInsensitive.tagtype||"video"!=this.paramsCaseInsensitive.tagtype.toLowerCase()&&"1"!=this.paramsCaseInsensitive.tagtype?o.DvTagType.Display:o.DvTagType.Video},t.prototype.getTagFormat=function(){return this.paramsCaseInsensitive.tagformat},t.prototype.isTagTypeValid=function(){return!this.paramsCaseInsensitive.tagtype||-1!=["display","0","video","1"].indexOf(this.paramsCaseInsensitive.tagtype.toLowerCase())},t.prototype.getClientCode=function(){return this.paramsCaseInsensitive.ctx},t.prototype.getPlacementId=function(){return this.paramsCaseInsensitive.plc},t.prototype.getAdServerSiteCode=function(){return this.paramsCaseInsensitive.sid},t.prototype.getDvApi=function(){return this.paramsCaseInsensitive.dvapi},t.prototype.getAdServerCampaignCode=function(){return this.paramsCaseInsensitive.cmp},t.prototype.getBlockingPartnerCallbackName=function(){return this.paramsCaseInsensitive.dvp_dcb},t.prototype.getGDPR=function(){return this.paramsCaseInsensitive.gdpr},t.prototype.getGDPRConsent=function(){return this.paramsCaseInsensitive.gdpr_consent},t.prototype.getGDPRAndGDPRConsentQueryStringPart=function(){var t=this.getGDPR(),e=this.getGDPRConsent();return[[u.TPSDataMapping.gdpr,t],[u.TPSDataMapping.gdpr_consent,e]].map((function(t){var e=r(t,2),n=e[0],i=e[1];return n+"="+encodeURIComponent(i||"")})).join("&")+"&"},t.prototype.getClientData=function(){return{ctx:this.getClientCode()||818052,cmp:this.getAdServerCampaignCode()||1619415,sid:this.getAdServerSiteCode()||0,plc:this.getPlacementId()||0}},t.prototype.getAdID=function(){return this.paramsCaseInsensitive.dvp_gvacb||this.paramsCaseInsensitive.adid},t.prototype.getBtreg=function(){return this.paramsCaseInsensitive.btreg},t.prototype.getUserAgent=function(){return this.paramsCaseInsensitive.useragent},t.prototype.getFindClass=function(){return"1"==this.paramsCaseInsensitive.findclass},t.prototype.getIsBlocking=function(){return"0"!==this.paramsCaseInsensitive.blk},t.prototype.getIsMonitoring=function(){return"0"!==this.paramsCaseInsensitive.mon},t.prototype.getVideoBlockingCallbackUrl=function(){return this.paramsCaseInsensitive.blkntf},t.prototype.getCm360ContainerId=function(){return this.getValueOfTagAttribute("data-doubleverify-container")},t.prototype.getCm360BlockingCallbackFnName=function(){return this.getValueOfTagAttribute("data-doubleverify-callback")},t.prototype.getIsCm360CreativeWrapping=function(){return this.isCm360ParamExtractionEnabled()},t.prototype.getMeasurementApi=function(){return this.paramsCaseInsensitive.msrapi},t.prototype.getAdServerId=function(){return this.paramsCaseInsensitive.adsrv},t.prototype.getBtadsrv=function(){return this.paramsCaseInsensitive.btadsrv},t.prototype.getCustomTags=function(){return this.getArrayedParams("bttag","|")},t.prototype.getCustomAttributes=function(){return this.getArrayedParams("btattb","|")},t.prototype.isSellerTag=function(){return 1==this.paramsCaseInsensitive.seltag},t.prototype.getSupplySource=function(){return this.paramsCaseInsensitive.sup},t.prototype.getVastUrl=function(){return this.paramsCaseInsensitive.wrapperurl},t.prototype.getSellerAdSize=function(){var t={width:0,height:0},e=this.paramsCaseInsensitive.unit;if(e){var n=e.toLowerCase().split("x");if(n[0]&&n[1])try{var r=parseInt(n[0]),i=parseInt(n[1]);isNaN(r)||isNaN(i)||(t.width=r,t.height=i)}catch(t){}}return t},t.prototype.isCm360ParamExtractionEnabled=function(){return null!==this.getValueOfTagAttribute("data-doubleverify-parameters")},t.prototype.extractParamString=function(){if(this.isCm360ParamExtractionEnabled()&&this.getValueOfTagAttribute("data-doubleverify-parameters"))return this.getValueOfTagAttribute("data-doubleverify-parameters");var t=this.getDVScriptUrl(),e=new RegExp("[\\?\\#&](.*)$","gi").exec(t);return e&&void 0!==e[1]?e[1]:""},t.prototype.saveExtractedParams=function(t){for(var e in t){var n=e.toLowerCase(),r=t[e];this.paramsCaseInsensitive[n]=s.Utilities.isNullOrEmpty(this.paramsCaseInsensitive[n])?r:this.paramsCaseInsensitive[n],this.paramsCaseSensitive[e]=s.Utilities.isNullOrEmpty(this.paramsCaseSensitive[e])?r:this.paramsCaseSensitive[e]}},t.prototype.setDVParam=function(){try{var t=this.extractParamString(),e=this.extractParamsToObjFromStr(t);this.saveExtractedParams(e)}catch(t){a.MessageHandler.sendError(o.ClientErrorType.DvTagArrangementError,t)}},t.prototype.setCustomURLs=function(){},t.prototype.getArrayedParams=function(t,e){var n=this.paramsCaseInsensitive[t];return(null==n?void 0:n.length)?n.split(e):[]},t.prototype.getBlockingInitPath=function(){return this.blockingInitPath},t.prototype.getBlockingErrorPath=function(){return this.blockingErrorPath},t.prototype.getBlockingEventPath=function(){return this.blockingEventPath},t.prototype.getBlockingServerPrefix=function(){return this.blockingServerPrefix},t.prototype.getServerPrefix=function(){return this.serverPrefix},t.prototype.setBlockingServerPrefix=function(t){this.blockingServerPrefix=t},t.prototype.setServerPrefix=function(t){this.serverPrefix=t},t.prototype.getInitPath=function(){return this.initPath},t.prototype.getErrorPath=function(){return this.errorPath},t.prototype.getEventPath=function(){return this.eventPath},t.prototype.getValueOfTagAttribute=function(t){return p.BrowserAdaptor.getAttribute(this.scriptElement,t)},t.prototype.resolveEventUrlPrefix=function(t){var e,n="blocking"===(null===(e=c.DvObject.getDvObject().tags[t])||void 0===e?void 0:e.type);return""+(n?this.getBlockingServerPrefix():this.getServerPrefix())+(n?this.getBlockingEventPath():this.getEventPath())},t.prototype.setDvScriptUrl=function(){var t;try{var e=i.WindowAdaptor.currentWindow().dvSrc?"dvtp_src_omid":"dvtp_src";if(d.OmidWrapper.isSupported()&&d.OmidWrapper.getVerificationParameters())return this.setOmidScript(e),void(this.paramUrlExtractionMethod=1);var n=c.DvObject.getDvtpScriptUrl();if(n)return this.dvtpScriptUrl=n,void(this.paramUrlExtractionMethod=2);(null===(t=this.scriptElement)||void 0===t?void 0:t.src)&&(this.dvtpScriptUrl=this.scriptElement.src,this.paramUrlExtractionMethod=3)}catch(t){this.paramUrlExtractionMethod=4}},t.prototype.setDvScript=function(){try{if(d.OmidWrapper.isSupported()&&d.OmidWrapper.getVerificationParameters())return this.scriptElementExtractionMethod=t.ScriptElementExtractionMethodState.Omid,void(this.scriptElement={});var e=c.DvObject.getTagScriptElem();if(this.scriptElementExtractionMethod=t.ScriptElementExtractionMethodState.ExtractFromTagData,!e){var n="https://cdn.doubleverify.com/"+(i.WindowAdaptor.currentWindow().dvSrc?"dvtp_src_omid":"dvtp_src")+".js?",r=p.BrowserAdaptor.getElementsByTagNameFromDocument("script").filter((function(t){return 0===t.src.indexOf(n)})).filter((function(t){return 1!=t.dvvisit}));if(!r.length)return this.scriptElementExtractionMethod=t.ScriptElementExtractionMethodState.NotFound,void a.MessageHandler.sendError(o.ClientErrorType.UnexpectedLostImpError,new Error("scriptElement did not find"));e=r[0],this.scriptElementExtractionMethod=t.ScriptElementExtractionMethodState.FoundInDom}this.scriptElement=e,this.scriptElement.dvvisit=1}catch(t){t.message="missing element "+t.message,a.MessageHandler.sendError(o.ClientErrorType.DvTagArrangementError,t)}},t.prototype.handleOmidForWebVerificationParams=function(){var t=d.OmidWrapper.getVerificationParameters(),e=this.extractParamsToObjFromStr(t);return e=this.manipulateOmidForWebParams(e),t=s.Utilities.serializeObjectToQueryString(e,!0)},t.prototype.extractParamsToObjFromStr=function(t){for(var e={},n=new RegExp("([^&#?]*)=([^&#?]*)","gi"),r=n.exec(t);null!=r;){if(!s.Utilities.isNullOrEmpty(r[1])&&!s.Utilities.isNullOrEmpty(r[2])){var i=r[1].trim(),o=r[2].trim();i&&o&&(e[i]=o)}r=n.exec(t)}return e},t.prototype.manipulateOmidForWebParams=function(t){var e={};Object.keys(t).forEach((function(n){e[n.toLowerCase()]=t[n]}));var n=e.ctx,r=e.cmp,i=e.plc,o=e.adsrv,a=e.sid;return e.dvp_ctx=n,e.dvp_cmp=r,e.dvp_plc=i,e.dvp_adsrv=o,e.dvp_sid=a,e.ctx="818052",e.cmp="DV517581",e.plc="20210517001",e.adsrv="0",e.sid="OMIDWeb",e.hasOwnProperty("dup")&&(e.dvp_dup=e.dup,delete e.dup),e},t.prototype.isParamManipulationRequired=function(){var t=d.OmidWrapper.getOmidScenarioType()===l.OmidScenarioType.WEB,e=c.DvObject.isOmid3p();return t&&e},t.prototype.setOmidScript=function(t){var e=this.isParamManipulationRequired()?this.handleOmidForWebVerificationParams():d.OmidWrapper.getVerificationParameters();this.dvtpScriptUrl="https://cdn.doubleverify.com/"+t+".js#"+e,this.scriptElement.src=this.dvtpScriptUrl},t.ScriptElementExtractionMethodState={Omid:1,ExtractFromTagData:2,FoundInDom:3,NotFound:4},t}();e.DvTagDataObjectClass=v,e.DvTagDataObject=new v},8155:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Encoding=e.EncodingClass=void 0;var n=function(){function t(){}return t.prototype.ROT47=function(t){return this.ROTn(t,"!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~")},t.prototype.sha1hash=function(t){if(!t)return"";for(var e,n,r,i,o,a=[1518500249,1859775393,2400959708,3395469782],s=(t+=String.fromCharCode(128)).length/4+2,d=Math.ceil(s/16),p=new Array(d),c=new Array(80),u=1732584193,l=4023233417,v=2562383102,f=271733878,h=3285377520,y=0;y<d;y++){p[y]=new Array(16);for(var g=0;g<16;g++)p[y][g]=t.charCodeAt(64*y+4*g)<<24|t.charCodeAt(64*y+4*g+1)<<16|t.charCodeAt(64*y+4*g+2)<<8|t.charCodeAt(64*y+4*g+3)}p[d-1][14]=8*(t.length-1)/Math.pow(2,32),p[d-1][14]=Math.floor(p[d-1][14]),p[d-1][15]=8*(t.length-1)&4294967295;for(y=0;y<d;y++){for(var m=0;m<16;m++)c[m]=p[y][m];for(m=16;m<80;m++)c[m]=this.ROTL(c[m-3]^c[m-8]^c[m-14]^c[m-16],1);e=u,n=l,r=v,i=f,o=h;for(m=0;m<80;m++){var b=Math.floor(m/20),w=this.ROTL(e,5)+this.f(b,n,r,i)+o+a[b]+c[m]&4294967295;o=i,i=r,r=this.ROTL(n,30),n=e,e=w}u=u+e&4294967295,l=l+n&4294967295,v=v+r&4294967295,f=f+i&4294967295,h=h+o&4294967295}return this.toHexStr(u)+this.toHexStr(l)+this.toHexStr(v)+this.toHexStr(f)+this.toHexStr(h)},t.prototype.f=function(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:case 3:return e^n^r;case 2:return e&n^e&r^n&r}},t.prototype.ROTn=function(t,e){var n,r,i,o=String(),a=e.length;for(n=0;n<t.length;n++)i=t.charAt(n),(r=e.indexOf(i))>=0&&(i=e.charAt((r+a/2)%a)),o+=i;return o},t.prototype.ROTL=function(t,e){return t<<e|t>>>32-e},t.prototype.toHexStr=function(t){for(var e="",n=7;n>=0;n--)e+=(t>>>4*n&15).toString(16);return e},t}();e.EncodingClass=n,e.Encoding=new n},7526:function(t,e){var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.EventStatus=e.ScriptDynamicFlagsEnum=e.Cm360AdLocatorIndicator=e.OmidPlaybackStartIndicator=e.OmidAccessMode=e.CeltraTagLocatorMethod=e.GDPRCode=e.Quartile=e.ImpressionSessionTime=e.TimeInMs=e.ClientErrorType=e.ScriptExecIndicator=e.StandardSizeThreshold=e.StandardSizeType=e.NumberSubType=e.ViewableShareOfScreenNotViewReason=e.OmidImpressionReason=e.OmidGeometryLog=e.ExposureQuartileBitwise=e.HiddenAdsReason=e.MatchingTypesMessages=e.OmidSupports=e.DeviceOS=e.AdDurationCalculationType=e.AutoplayMethods=e.ScriptFlavors=e.ReportType=e.DvTagType=e.CalculateVideoAdSizeMethod=e.EngagementAudience=e.VideoPlaybackIndicator=e.IntegrationType=e.ViewabilityIntegrationType=e.OrientationType=e.PlayerSize=e.NotViewableReason=e.BeaconPosition=e.AdCandidateState=e.BrowserDetectionRule=e.ElementTagType=e.Browser=e.Scenario=e.DetectedDeliveryType=e.FocusState=e.AdSizeState=e.VolumeState=e.BlResponse=e.ViewabilityCalculationType=e.LocatorPriority=e.LocatorMethods=void 0,e.MeasuredElementExtractorId=e.MeasuredElementType=e.DomEvent=e.RenderingMethodIndicator=e.ReasonForNotRenderedByContainerRenderLogic=e.ReasonForRenderedByContainerRenderLogic=e.ElementEnum=void 0;var i=function(){function t(){}return t.DisplayIntegratedCeltra=1,t.DisplayDFA=2,t.DisplayFindClass=4,t.DefaultInApp=8,t.DisplayMediaPlex=16,t.DisplayParentWindow=32,t.DisplayRegex=64,t.DisplayNearestAd=128,t.DisplayIframeFallback=256,t.DisplaySpotX=512,t.VideoInAppHtml5=1024,t.VideoNonInAppVpaid=2048,t.VideoInAppVpaid=4096,t.DisplaySellerTag=8192,t.DisplayOmid=16384,t.VideoInAppInmobi=32768,t.DisplayNonIntegratedCeltra=65536,t.CustomDisplayMediaPlex=1<<17,t.CustomDisplayRegex=1<<18,t.CustomDisplaySellerTag=1<<19,t.DisplayCm360=1<<20,t}();e.LocatorMethods=i,function(t){t[t.DisplayCm360=4e5]="DisplayCm360",t[t.DisplaySellerTag=1e5]="DisplaySellerTag",t[t.CustomDisplaySellerTag=1e5]="CustomDisplaySellerTag",t[t.DisplayIntegratedCeltra=9e3]="DisplayIntegratedCeltra",t[t.DisplayMediaPlex=1e4]="DisplayMediaPlex",t[t.CustomDisplayMediaPlex=1e4]="CustomDisplayMediaPlex",t[t.DisplaySpotX=1e4]="DisplaySpotX",t[t.DisplayRegex=1e3]="DisplayRegex",t[t.CustomDisplayRegex=1e3]="CustomDisplayRegex",t[t.DisplayFindClass=1e3]="DisplayFindClass",t[t.DisplayParentWindow=900]="DisplayParentWindow",t[t.DisplayDFA=250]="DisplayDFA",t[t.DisplayNonIntegratedCeltra=120]="DisplayNonIntegratedCeltra",t[t.DisplayNearestAd=100]="DisplayNearestAd",t[t.DisplayIframeFallback=1]="DisplayIframeFallback",t[t.DisplayOmid=1e5]="DisplayOmid",t[t.DefaultInApp=11e3]="DefaultInApp",t[t.VideoNonInAppVpaid=1]="VideoNonInAppVpaid",t[t.VideoInAppHtml5=100]="VideoInAppHtml5",t[t.VideoInAppVpaid=200]="VideoInAppVpaid",t[t.VideoInAppInmobi=1e4]="VideoInAppInmobi"}(e.LocatorPriority||(e.LocatorPriority={}));var o=function(){function t(){}return t.Geometric=1,t.ResourceBased=2,t.SafeFrameGeometric=8,t.SafeFramePercentage=16,t.AmpIntersectionObserver=32,t.ScreenGeometric=64,t.Mraid=128,t.IntersectionObserver=512,t.Omid=1024,t.AdColonyMraid=2048,t.Mraid3=4096,t}();e.ViewabilityCalculationType=o,function(t){t[t.Updated=1]="Updated",t[t.NotUpdated=2]="NotUpdated"}(e.BlResponse||(e.BlResponse={})),function(t){t[t.Decrease=1]="Decrease",t[t.Increase=2]="Increase",t[t.Mute=3]="Mute",t[t.Unmute=4]="Unmute",t[t.NoChange=5]="NoChange"}(e.VolumeState||(e.VolumeState={})),function(t){t[t.Decrease=1]="Decrease",t[t.Increase=2]="Increase",t[t.NoChange=3]="NoChange"}(e.AdSizeState||(e.AdSizeState={})),function(t){t[t.In=1]="In",t[t.Out=2]="Out",t[t.NoChange=3]="NoChange"}(e.FocusState||(e.FocusState={})),function(t){t[t.Unknown=0]="Unknown",t[t.Desktop=1]="Desktop",t[t.MobileWeb=2]="MobileWeb",t[t.MobileApp=3]="MobileApp",t[t.Ctv=4]="Ctv"}(e.DetectedDeliveryType||(e.DetectedDeliveryType={})),function(t){t[t.OnPage=1]="OnPage",t[t.SameDomain=2]="SameDomain",t[t.Domless=4]="Domless",t[t.Restricted=8]="Restricted",t[t.InjectedAsSibling=16]="InjectedAsSibling",t[t.CrossDomain=128]="CrossDomain"}(e.Scenario||(e.Scenario={}));var a=function(){function t(){}return t.IE=1,t.Firefox=2,t.Chrome=3,t.Opera=4,t.Safari=5,t.ChromeWebView=6,t.SafariWebView=7,t.PuppeteerExtraStealth=96,t.PuppeteerVanilla=97,t.Selenium=98,t.PhantomJS=99,t.Unknown=0,t}();e.Browser=a,function(t){t[t.IFRAME=1]="IFRAME",t[t.SPAN=2]="SPAN",t[t.DIV=3]="DIV",t[t.HTML=4]="HTML",t[t.VIDEO=5]="VIDEO",t[t.IMG=6]="IMG",t[t.CANVAS=7]="CANVAS",t[t.SVG=8]="SVG",t[t.VIDEO_CANVAS=9]="VIDEO_CANVAS",t[t.OTHER=0]="OTHER"}(e.ElementTagType||(e.ElementTagType={})),function(t){t[t.USER_AGENT_ONLY=1]="USER_AGENT_ONLY",t[t.PROPERTIES_ONLY=2]="PROPERTIES_ONLY",t[t.USER_AGENT_AND_PROPERTIES=3]="USER_AGENT_AND_PROPERTIES"}(e.BrowserDetectionRule||(e.BrowserDetectionRule={})),function(t){t[t.Unresolved=1]="Unresolved",t[t.Selected=2]="Selected",t[t.Destroyed=3]="Destroyed",t[t.Unauthorized=4]="Unauthorized"}(e.AdCandidateState||(e.AdCandidateState={})),function(t){t[t.CONTROL=0]="CONTROL",t[t.OUTER_TOP_LEFT=1]="OUTER_TOP_LEFT",t[t.OUTER_TOP_RIGHT=2]="OUTER_TOP_RIGHT",t[t.OUTER_BOTTOM_LEFT=3]="OUTER_BOTTOM_LEFT",t[t.OUTER_BOTTOM_RIGHT=4]="OUTER_BOTTOM_RIGHT",t[t.CENTER=5]="CENTER",t[t.MIDDLE_TOP_LEFT=6]="MIDDLE_TOP_LEFT",t[t.MIDDLE_TOP_RIGHT=7]="MIDDLE_TOP_RIGHT",t[t.MIDDLE_BOTTOM_LEFT=8]="MIDDLE_BOTTOM_LEFT",t[t.MIDDLE_BOTTOM_RIGHT=9]="MIDDLE_BOTTOM_RIGHT",t[t.INNER_TOP_LEFT=10]="INNER_TOP_LEFT",t[t.INNER_TOP_RIGHT=11]="INNER_TOP_RIGHT",t[t.INNER_BOTTOM_LEFT=12]="INNER_BOTTOM_LEFT",t[t.INNER_BOTTOM_RIGHT=13]="INNER_BOTTOM_RIGHT"}(e.BeaconPosition||(e.BeaconPosition={})),function(t){t[t.Focus=1]="Focus",t[t.Viewport=2]="Viewport",t[t.PixelThreshold=3]="PixelThreshold",t[t.TimeThreshold=4]="TimeThreshold",t[t.ConsecutiveTime=5]="ConsecutiveTime",t[t.Unknown=6]="Unknown",t[t.VideoNeverPlayed=7]="VideoNeverPlayed"}(e.NotViewableReason||(e.NotViewableReason={})),function(t){t[t.Unknown=0]="Unknown",t[t.PlayerSizeLowerThan300x250=1]="PlayerSizeLowerThan300x250",t[t.PlayerSizeBetween301x251To399x299=2]="PlayerSizeBetween301x251To399x299",t[t.PlayerSizeBetween400x300To639x479=3]="PlayerSizeBetween400x300To639x479",t[t.PlayerSizeGreaterThan640x480=4]="PlayerSizeGreaterThan640x480"}(e.PlayerSize||(e.PlayerSize={})),function(t){t[t.Unknown=0]="Unknown",t[t.Portrait=1]="Portrait",t[t.Landscape=2]="Landscape"}(e.OrientationType||(e.OrientationType={})),function(t){t[t.Unknown=0]="Unknown",t[t.Ovv=1]="Ovv",t[t.Html5=2]="Html5",t[t.IosSdk=3]="IosSdk",t[t.AndroidSDK=4]="AndroidSDK",t[t.Mraid=5]="Mraid",t[t.Omid=6]="Omid"}(e.ViewabilityIntegrationType||(e.ViewabilityIntegrationType={})),function(t){t[t.NoneSupported=0]="NoneSupported",t[t.Vpaid=1]="Vpaid",t[t.Mraid=2]="Mraid",t[t.Omid=4]="Omid",t[t.OmidWeb=8]="OmidWeb"}(e.IntegrationType||(e.IntegrationType={})),function(t){t[t.Unknown=0]="Unknown",t[t.Vpaid=1]="Vpaid",t[t.Html5=2]="Html5",t[t.Omid=3]="Omid",t[t.AdColony=4]="AdColony",t[t.Inmobi=5]="Inmobi"}(e.VideoPlaybackIndicator||(e.VideoPlaybackIndicator={})),function(t){t[t.Disengaged=1]="Disengaged",t[t.Engaged=2]="Engaged",t[t.NoEngagement=3]="NoEngagement",t[t.Interested=4]="Interested"}(e.EngagementAudience||(e.EngagementAudience={})),function(t){t[t.CalculateVideoAdSizeByUnknown=0]="CalculateVideoAdSizeByUnknown",t[t.CalculateVideoAdSizeByDefault=1]="CalculateVideoAdSizeByDefault",t[t.CalculateVideoAdSizeBySlot=2]="CalculateVideoAdSizeBySlot",t[t.CalculateVideoAdSizeByHTML=3]="CalculateVideoAdSizeByHTML"}(e.CalculateVideoAdSizeMethod||(e.CalculateVideoAdSizeMethod={}));var s=function(){function t(){}return t.Display=0,t.Video=1,t}();e.DvTagType=s;var d=function(){function t(){}return t.All=0,t.TPS=1,t.RTS=2,t}();e.ReportType=d,function(t){t.CDN="0",t.Falcon="1",t.AncileAmazon="2",t.AncileTwitch="3"}(e.ScriptFlavors||(e.ScriptFlavors={})),function(t){t[t.AutoplayAttribute=1]="AutoplayAttribute",t[t.JWPlayer=2]="JWPlayer",t[t.Timing=4]="Timing"}(e.AutoplayMethods||(e.AutoplayMethods={})),function(t){t[t.Unknown=0]="Unknown",t[t.Vpaid=1]="Vpaid",t[t.FirstQuartile=2]="FirstQuartile",t[t.SecondQuartile=3]="SecondQuartile",t[t.adComplete=4]="adComplete",t[t.Inmobi=5]="Inmobi"}(e.AdDurationCalculationType||(e.AdDurationCalculationType={})),function(t){t[t.Android=5]="Android",t[t.IOS=6]="IOS"}(e.DeviceOS||(e.DeviceOS={})),function(t){t[t.Clid=1]="Clid",t[t.Vlid=2]="Vlid"}(e.OmidSupports||(e.OmidSupports={})),function(t){t[t.Broadcast=17381297349]="Broadcast",t[t.Match=23483290480]="Match"}(e.MatchingTypesMessages||(e.MatchingTypesMessages={})),function(t){t[t.Stacked=1]="Stacked",t[t.HiddenVisibility=2]="HiddenVisibility",t[t.NoneDisplay=4]="NoneDisplay",t[t.ZeroSize=8]="ZeroSize"}(e.HiddenAdsReason||(e.HiddenAdsReason={})),function(t){t[t.Viewed=1]="Viewed",t[t.Audible=2]="Audible",t[t.Completed=4]="Completed",t[t.FullAudible=8]="FullAudible",t[t.FullOnScreen=16]="FullOnScreen"}(e.ExposureQuartileBitwise||(e.ExposureQuartileBitwise={})),function(t){t[t.EventNotNull=1]="EventNotNull",t[t.EventDataNotNull=2]="EventDataNotNull",t[t.EvenDataAdViewNotNull=4]="EvenDataAdViewNotNull",t[t.EvenDataAdViewGeometryNotNull=8]="EvenDataAdViewGeometryNotNull",t[t.EvenDataAdViewPercentageInViewGreaterThanZero=16]="EvenDataAdViewPercentageInViewGreaterThanZero",t[t.EvenDataAdViewGeometryWidthGreaterThanZero=32]="EvenDataAdViewGeometryWidthGreaterThanZero",t[t.EvenDataAdViewGeometryHeightGreaterThanZero=64]="EvenDataAdViewGeometryHeightGreaterThanZero",t[t.EvenDataAdViewPercentageInViewEqualToZero=128]="EvenDataAdViewPercentageInViewEqualToZero",t[t.EvenDataAdViewOnSceenGeometryNotNull=256]="EvenDataAdViewOnSceenGeometryNotNull",t[t.EvenDataAdViewOnSceenGeometryXOrYGreaterThanZero=512]="EvenDataAdViewOnSceenGeometryXOrYGreaterThanZero",t[t.EvenDataAdViewOnSceenGeometryAdGreaterThanZero=1024]="EvenDataAdViewOnSceenGeometryAdGreaterThanZero",t[t.EvenDataAdViewContainerGeometryNotNull=2048]="EvenDataAdViewContainerGeometryNotNull",t[t.EvenDataAdViewContainerGeometryXOrYGreaterThanZero=4096]="EvenDataAdViewContainerGeometryXOrYGreaterThanZero",t[t.EvenDataAdViewContainerGeometryAdGreaterThanZero=8192]="EvenDataAdViewContainerGeometryAdGreaterThanZero",t[t.EvenDataAdViewOnScreenContainerGeometryNotNull=16384]="EvenDataAdViewOnScreenContainerGeometryNotNull",t[t.EvenDataAdViewOnScreenContainerGeometryXOrYGreaterThanZero=32768]="EvenDataAdViewOnScreenContainerGeometryXOrYGreaterThanZero",t[t.EvenDataAdViewOnScreenContainerGeometryAdGreaterThanZero=65536]="EvenDataAdViewOnScreenContainerGeometryAdGreaterThanZero"}(e.OmidGeometryLog||(e.OmidGeometryLog={})),function(t){t[t.ImpressionFromImpressionEvent=1]="ImpressionFromImpressionEvent",t[t.ImpressionFromAdSize=2]="ImpressionFromAdSize",t[t.ImpressionFromPercentageLargerThanZero=3]="ImpressionFromPercentageLargerThanZero",t[t.ImpressionFromPercentageLargerThanZeroAndImageSize=4]="ImpressionFromPercentageLargerThanZeroAndImageSize"}(e.OmidImpressionReason||(e.OmidImpressionReason={})),function(t){t[t.ImpressionNotViewable=1]="ImpressionNotViewable",t[t.NoAdSize=2]="NoAdSize",t[t.NoScreenSize=4]="NoScreenSize",t[t.Measured=16]="Measured"}(e.ViewableShareOfScreenNotViewReason||(e.ViewableShareOfScreenNotViewReason={})),function(t){t[t.Integer=1]="Integer",t[t.Float=2]="Float",t[t.NaN=3]="NaN",t[t.NullOrUndefined=4]="NullOrUndefined",t[t.Other=5]="Other"}(e.NumberSubType||(e.NumberSubType={}));var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.SpotX=2,e}(s);e.StandardSizeType=p,function(t){t[t.displayThreshold=5]="displayThreshold",t[t.videoThreshold=20]="videoThreshold",t[t.commonThreshold=15]="commonThreshold"}(e.StandardSizeThreshold||(e.StandardSizeThreshold={})),function(t){t[t.TagPageLoading=1]="TagPageLoading",t[t.TagPageInteractive=2]="TagPageInteractive",t[t.TagPageLoaded=4]="TagPageLoaded",t[t.MeasurementPageLoading=8]="MeasurementPageLoading",t[t.MeasurementPageInteractive=16]="MeasurementPageInteractive",t[t.MeasurementPageLoaded=32]="MeasurementPageLoaded",t[t.VisitPageLoading=64]="VisitPageLoading",t[t.VisitPageInteractive=128]="VisitPageInteractive",t[t.VisitPageLoaded=256]="VisitPageLoaded"}(e.ScriptExecIndicator||(e.ScriptExecIndicator={}));var c=function(){function t(){}return t.InjectTagError={id:1,message:"InjectTagError",isLostImpression:!0},t.LoadTagError={id:2,message:"LoadTagError",isLostImpression:!0},t.UnexpectedLostImpError={id:4,message:"UnexpectedLostImpError",isLostImpression:!0},t.OmidSessionError={id:8,message:"OmidSessionError",isLostImpression:!0},t.OmidUnexpectedLostImpError={id:16,message:"OmidUnexpectedLostImpError",isLostImpression:!0},t.OmidLoadTagError={id:32,message:"OmidLoadTagError",isLostImpression:!0},t.OmidInjectTagError={id:64,message:"OmidInjectTagError",isLostImpression:!0},t.UnexpectedError={id:128,message:"UnexpectedError",isLostImpression:!1},t.OmidUnexpectedError={id:256,message:"OmidUnexpectedError",isLostImpression:!1},t.VisitLogicError={id:1024,message:"VisitLogicError",isLostImpression:!0},t.VisitResponseError={id:2048,message:"VisitResponseError",isLostImpression:!0},t.VisitRequestError={id:4096,message:"VisitRequestError",isLostImpression:!0},t.DomlessEnvError={id:8192,message:"DomlessEnvError",isLostImpression:!0},t.InvalidVisitResponseError={id:32768,message:"InvalidVisitResponseError",isLostImpression:!0},t.FailedToSendEvent={id:1<<19,message:"FailedToSendEvent",isLostImpression:!1},t.DvTagArrangementError={id:1<<20,message:"DvTagArrangementError",isLostImpression:!1},t.AdLocationError={id:1<<21,message:"AdLocationError",isLostImpression:!1},t.MeasurementError={id:1<<22,message:"MeasurementError",isLostImpression:!1},t.TPSDataCollectorError={id:1<<23,message:"TPSDataCollectorError",isLostImpression:!1},t.PostMeasuredGlobalMainError={id:1<<24,message:"PostMeasuredGlobalMainError",isLostImpression:!1},t.TagCommunicationError={id:1<<25,message:"TagCommunicationError",isLostImpression:!1},t.PreMeasuredGlobalMainError={id:1<<26,message:"PreMeasuredGlobalMainError",isLostImpression:!0},t.TagServiceError={id:1<<30,message:"TagServiceError",isLostImpression:!1},t}();e.ClientErrorType=c,function(t){t[t.ONE_MINUTE=6e4]="ONE_MINUTE",t[t.FIVE_MINUTES=3e5]="FIVE_MINUTES",t[t.FIFTEEN_MINUTES=9e5]="FIFTEEN_MINUTES"}(e.TimeInMs||(e.TimeInMs={})),function(t){t[t.IMPRESSION_SESSION=9e5]="IMPRESSION_SESSION",t[t.MAX_EVENT_SENDING_ALLOWED=12e5]="MAX_EVENT_SENDING_ALLOWED",t[t.LAST_MINUTE_WITHIN_IMPRESSION_SESSION=84e4]="LAST_MINUTE_WITHIN_IMPRESSION_SESSION",t[t.MAX_WAIT_FOR_IMPRESSION_SERVED=4e3]="MAX_WAIT_FOR_IMPRESSION_SERVED"}(e.ImpressionSessionTime||(e.ImpressionSessionTime={})),function(t){t[t.Q1=1]="Q1",t[t.Q2=2]="Q2",t[t.Q3=3]="Q3",t[t.Q4=4]="Q4"}(e.Quartile||(e.Quartile={})),function(t){t.Success="1",t.PostMessageNotSupported="2",t.UnknownError="3",t.FuncInvocationError="4",t.PostMessageInvocationError="5",t.WrongCallbackID="6",t.UnsuccessfulResponse="7",t.ParentError="8",t.ErrorMeasuringPerformance="9"}(e.GDPRCode||(e.GDPRCode={})),function(t){t[t.DOM_API_SEARCH=1]="DOM_API_SEARCH",t[t.CUSTOM_SEARCH=2]="CUSTOM_SEARCH"}(e.CeltraTagLocatorMethod||(e.CeltraTagLocatorMethod={})),function(t){t[t.Full=1]="Full",t[t.Domain=2]="Domain",t[t.Limited=3]="Limited"}(e.OmidAccessMode||(e.OmidAccessMode={})),function(t){t[t.Unknown=-1]="Unknown",t[t.UnknownButAdLoaded=0]="UnknownButAdLoaded",t[t.AutoPlayed=1]="AutoPlayed",t[t.ClickedToPlay=2]="ClickedToPlay"}(e.OmidPlaybackStartIndicator||(e.OmidPlaybackStartIndicator={})),function(t){t[t.ContainerAttributeNotFound=1]="ContainerAttributeNotFound",t[t.ContainerNotFound=2]="ContainerNotFound"}(e.Cm360AdLocatorIndicator||(e.Cm360AdLocatorIndicator={})),function(t){t[t.OmidUnderEvaluation=1]="OmidUnderEvaluation",t[t.isES6Supported=2]="isES6Supported",t[t.hasDomElement=4]="hasDomElement",t[t.elementRemovedFromDom=8]="elementRemovedFromDom",t[t.pageHideEventPersisted=16]="pageHideEventPersisted",t[t.pageHideEventNonPersisted=32]="pageHideEventNonPersisted",t[t.afterPageHideTimeout=64]="afterPageHideTimeout",t[t.bfCacheTestWithUnload=65536]="bfCacheTestWithUnload",t[t.bfCacheTestWithoutUnload=131072]="bfCacheTestWithoutUnload",t[t.beforeUnloadEvent=262144]="beforeUnloadEvent",t[t.unloadEvent=524288]="unloadEvent",t[t.pageShowEventPersisted=1048576]="pageShowEventPersisted",t[t.pageShowEventNonPersisted=2097152]="pageShowEventNonPersisted",t[t.ClickedDueToFocusIntoAdElementLogicOn=67108864]="ClickedDueToFocusIntoAdElementLogicOn",t[t.visibilityChangeEventHidden=134217728]="visibilityChangeEventHidden"}(e.ScriptDynamicFlagsEnum||(e.ScriptDynamicFlagsEnum={})),function(t){t[t.initial=0]="initial",t[t.dispatched=1]="dispatched",t[t.hasSubscriber=2]="hasSubscriber",t[t.dispatchedWithSubscriber=3]="dispatchedWithSubscriber"}(e.EventStatus||(e.EventStatus={})),function(t){t.Image="img",t.Iframe="iframe",t.Div="div",t.Span="span"}(e.ElementEnum||(e.ElementEnum={})),function(t){t[t.RenderedImgElement=1]="RenderedImgElement",t[t.RenderedIframeElement=2]="RenderedIframeElement",t[t.RenderedWindowFallback=4]="RenderedWindowFallback"}(e.ReasonForRenderedByContainerRenderLogic||(e.ReasonForRenderedByContainerRenderLogic={})),function(t){t[t.NotRenderedNotLoaded=1]="NotRenderedNotLoaded",t[t.NotRenderedNoContainer=2]="NotRenderedNoContainer",t[t.NotRenderedNoDirectChildren=4]="NotRenderedNoDirectChildren"}(e.ReasonForNotRenderedByContainerRenderLogic||(e.ReasonForNotRenderedByContainerRenderLogic={})),function(t){t[t.MraidInMobiRenderLogic=2]="MraidInMobiRenderLogic",t[t.MraidRenderLogic=4]="MraidRenderLogic",t[t.Cm360ContainerRenderLogic=8]="Cm360ContainerRenderLogic",t[t.PageVisibilityRenderLogic=16]="PageVisibilityRenderLogic",t[t.DefaultRenderLogic=32]="DefaultRenderLogic",t[t.OmidRenderLogic=64]="OmidRenderLogic"}(e.RenderingMethodIndicator||(e.RenderingMethodIndicator={})),function(t){t.Load="load",t.Complete="complete"}(e.DomEvent||(e.DomEvent={})),function(t){t[t.Unknown=0]="Unknown",t[t.Creative=1]="Creative",t[t.Container=2]="Container"}(e.MeasuredElementType||(e.MeasuredElementType={})),function(t){t[t.defaultMeasuredElementExtractor=1]="defaultMeasuredElementExtractor",t[t.omidMeasuredElementExtractor=2]="omidMeasuredElementExtractor"}(e.MeasuredElementExtractorId||(e.MeasuredElementExtractorId={}))},652:function(t,e,n){var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.EventBusGlobal=e.EventBus=e.EventBusClass=e.DvEvent=void 0;var o=n(5191),a=n(708),s=n(4472),d=n(7526),p=function(){function t(){}return t.impressionServed="ImpressionServed",t.adSelected="0",t.adDestroy="1",t.adCandidateApproved="2",t.reportData="5",t.viewabilityIntervalData="6",t.boundariesViewabilityIntervalData="7",t.exposureData="8",t.adCandidateLocated="10",t.omidClickData="11",t.focusData="12",t.strictFocusData="13",t.abandonData="14",t.unloadData="15",t.adSizeData="16",t.firstClickOnAdElementData="17",t.firstHoverData="18",t.pauseData="19",t.resumeData="20",t.skipData="21",t.firstTouchData="22",t.volumeData="23",t.stopData="24",t.firstFocusIntoAdElementData="25",t.adImpressionData="26",t.adVideoMidpointData="27",t.adVideoStartData="28",t.adVideoFirstQuartileData="29",t.adVideoThirdQuartileData="30",t.adVideoCompleteData="31",t.delayAdSelection="32",t.rtsEventData="33",t.videoLoadedData="35",t.videoStartPlaying="36",t.mraidDefaultStateData="37",t.htmlRenderedData="38",t.adRenderedData="39",t.globalUnloadData="40",t.reserveAdLocator="41",t.globalKeyPressData="42",t.globalMouseMoveData="43",t.globalScrollData="44",t.globalOrientationChangeData="45",t.keyPressData="46",t.mouseMoveData="47",t.scrollData="48",t.orientationChangePortraitData="49",t.orientationchangeLandscapeData="50",t.skippableData="51",t.adSizeChangedData="52",t.pageHideEventPersisted="53",t.pageHideEventNonPersisted="54",t.bfCacheTestWithUnload="55",t.bfCacheTestWithoutUnload="56",t.browserBeforeUnloadEvent="57",t.browserUnloadEvent="58",t.pageShowEventPersisted="59",t.pageShowEventNonPersisted="60",t.visibilityChangeEventHidden="61",t}();e.DvEvent=p;var c=function(){function t(){var t=this;this.renderedImpressions={},this.markRenderedImpressions={},this.frameIds={},this.subscribersCallbacks={},this.previousEvents={},this.preRenderEvents={},this.subscriptionId=1,this.dispatchedCount={},this.eventStatusTable={},Object.keys(p).forEach((function(e){var n=Object.getOwnPropertyDescriptor(p,e).value;t.eventStatusTable[n]=0})),this.frameId=s.DvObject.getFrameId(o.WindowAdaptor.currentWindow()),this.previousEventsCapacity=1e3,this.excludeFrameId(this.frameId)}return t.prototype.excludeFrameId=function(t){this.frameIds[t]||(this.frameIds[t]=!0,this.addEventListener(p.adRenderedData,this.updateRenderedAd.bind(this),"excludeFrame",t))},t.prototype.addEventListener=function(t,e,n,r){var i;void 0===n&&(n=""),void 0===r&&(r=this.frameId);var o=this.addEventsListener(((i={})[t]=e,i),n,r);if(o&&o.length>0)return o[0]},t.prototype.addEventsListener=function(t,e,n){var r=this;void 0===e&&(e=""),void 0===n&&(n=this.frameId);var i=[];return this.mapToWrapperFunction(t),this.fireMultiplePreviousEvents(t,n),Object.keys(t).forEach((function(o){var a=t[o],s=r.subscribe(o,n,e,a);i.push(s)})),i},t.prototype.removeEventListener=function(t,e){var n=this;void 0===e&&(e=this.frameId),this.subscribersCallbacks[e]&&Object.keys(this.subscribersCallbacks[e]).forEach((function(r){n.subscribersCallbacks[e][r]=n.subscribersCallbacks[e][r].filter((function(e){return e.subscriptionId!=t}))}))},t.prototype.removeEventsListener=function(t,e){var n=this;void 0===e&&(e=this.frameId),t.forEach((function(t){return n.removeEventListener(t,e)}))},t.prototype.dispatchEvent=function(t,e){0==this.eventStatusTable[t]&&(this.eventStatusTable[t]=1),2==this.eventStatusTable[t]&&(this.eventStatusTable[t]=3),this.dispatchedCount[t]=this.dispatchedCount[t]?this.dispatchedCount[t]+1:1,this.publishEvents(this.frameId,t,e)},t.prototype.subscribe=function(t,e,n,r){if("function"==typeof r&&void 0!==t&&""!=t)return 0==this.eventStatusTable[t]&&(this.eventStatusTable[t]=2),1==this.eventStatusTable[t]&&(this.eventStatusTable[t]=3),this.subscriptionId++,this.subscribersCallbacks[e]=this.subscribersCallbacks[e]||{},this.subscribersCallbacks[e][t]=this.subscribersCallbacks[e][t]||[],this.subscribersCallbacks[e][t].push({func:r,subscriptionId:this.subscriptionId,actionName:n}),this.subscriptionId},t.prototype.publish=function(t,e,n){t&&e&&(this.frameIds[e]||this.renderedImpressions[e]?(this.renderedImpressions[e]&&!this.markRenderedImpressions[e]&&(this.markRenderedImpressions[e]=!0),this.publishHistoryRtnEvent(e),this.publishEvents(e,t,n)):this.storeToPreRenderEvent(e,t,n))},t.prototype.publishHistoryRtnEvent=function(t){var e=this,n=this.preRenderEvents[t];n&&Object.keys(n).forEach((function(r){return n[r].forEach((function(n){return e.publishEvents(t,r,n)}))})),this.preRenderEvents[t]={}},t.prototype.getTopDispatchedEvents=function(t){return void 0===t&&(t=Object.keys(this.dispatchedCount).length),Object.entries(this.dispatchedCount).sort((function(t,e){return e[1]-t[1]})).slice(0,t)},t.prototype.getDispatchedByStatus=function(t){return Object.entries(this.eventStatusTable).filter((function(e){var n=r(e,2);n[0];return n[1]==t})).map((function(t){var e=r(t,2),n=e[0];e[1];return n}))},t.prototype.updateRenderedAd=function(t){var e=t.uid;e&&(this.renderedImpressions[e]=!0,this.publishHistoryRtnEvent(e))},t.prototype.publishEvents=function(t,e,n){var r=this;this.storeToPreviousEvents(t,e,n),this.subscribersCallbacks[t]&&this.subscribersCallbacks[t][e]&&this.subscribersCallbacks[t][e].forEach((function(i){r.runSafely(i.func,n,t,e,i.actionName)}))},t.prototype.mapToWrapperFunction=function(t){Object.keys(t).forEach((function(e){var n=t[e];e&&"function"==typeof n?t[e]=function(t,e){n(e)}:delete t[e]}))},t.prototype.storeToPreRenderEvent=function(t,e,n){this.preRenderEvents[t]=this.preRenderEvents[t]||{},this.preRenderEvents[t][e]=this.preRenderEvents[t][e]||[],this.preRenderEvents[t][e].push(n)},t.prototype.storeToPreviousEvents=function(t,e,n){this.previousEvents[t]=this.previousEvents[t]||{},this.previousEvents[t][e]=this.previousEvents[t][e]||[],this.previousEvents[t][e].length<this.previousEventsCapacity&&this.previousEvents[t][e].push(n)},t.prototype.fireMultiplePreviousEvents=function(t,e){var n,r,o=this;if(this.previousEvents[e]){var a=Object.keys(t).reduce((function(n,r){var i=t[r];return(o.previousEvents[e][r]||[]).forEach((function(t){return n.push({callback:i,data:t})})),n}),[]).sort((function(t,e){return t.data.updateTime-e.data.updateTime}));try{for(var s=i(a),d=s.next();!d.done;d=s.next()){var p=d.value;this.runSafely(p.callback,p.data,e)}}catch(t){n={error:t}}finally{try{d&&!d.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}},t.prototype.runSafely=function(t,e,n,r,i){void 0===r&&(r=""),void 0===i&&(i="");try{t(n,e)}catch(t){a.MessageHandler.sendError(d.ClientErrorType.MeasurementError,t,"EBus "+r+" "+i)}},t}();e.EventBusClass=c,e.EventBus=new c,e.EventBusGlobal=new c},4516:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.InmobiWrapper=e.InmobiWrapperClass=void 0;var r=n(5191),i=function(){function t(){}return t.prototype.isSupported=function(){if(void 0!==r.WindowAdaptor.workingWindow().inmobi&&void 0!==r.WindowAdaptor.workingWindow().inmobi.InMobiVideoEventsBuffer)return this.inmobiApiObj=r.WindowAdaptor.workingWindow().inmobi,!0},t.prototype.addEventListenerWithHistory=function(t){this.isSupported()&&this.inmobiApiObj.InMobiVideoEventsBuffer.addVideoEventListener(t)},t}();e.InmobiWrapperClass=i,e.InmobiWrapper=new i},708:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=e.MessageHandlerClass=void 0;var r=n(4472),i=n(5191),o=n(6089),a=n(805),s=n(4747),d=n(652),p=n(7526),c=n(9817),u=n(5137),l=n(5351),v=n(7258),f=function(){function t(){this.waitingMessages={},this.reportedErrors={},this.messageDataObject={},this.eventListenersInitiated=!1,this.START_INTERVAL_INITIAL_VALUE=10,this.isFirstEventFired=!1}return t.prototype.sendMessage=function(t,e){void 0===e&&(e={isImportantMessage:!1,noConsolidation:!1});var n={isImportantMessage:"boolean"==typeof e?e:e.isImportantMessage,noConsolidation:"boolean"!=typeof e&&e.noConsolidation};this.initEventListeners(),this.impressionId=this.impressionId||r.DvObject.getImpressionId(i.WindowAdaptor.currentWindow()),s.Utilities.extend(t,this.waitingMessages),this.isImportantMessage=this.isImportantMessage||n.isImportantMessage,n.noConsolidation?this.sendWaitingMessages(!1):this.sendWaitingMessages()},t.prototype.appendTagUniqueKey=function(t){var e=r.DvObject.getTagUniqueKey();e&&(t.dvp_tukv=e)},t.prototype.sendMeasurementError=function(t,e,n,i){var o;void 0===n&&(n=""),void 0===i&&(i=null);var d=((o={})[a.ErrorDataMapping.timeMsUntilHasError]=s.Utilities.getTimeDiff(),o[a.ErrorDataMapping.notApplicableReason]=this.getJsErrorString(t,e,n),o[a.ErrorDataMapping.errorType]=t.id,o.jsver=s.Utilities.getVersion(),o.tgjsver=r.DvObject.getDvtpScriptVersion(),o);s.Utilities.extend(i,d),this.sendMessage(d)},t.prototype.appendIsOmid=function(t){u.OmidWrapper.isSupported()&&(t.dvp_iomd=1)},t.prototype.sendErrorSignal=function(t,e,n,d){var p;void 0===n&&(n=""),void 0===d&&(d=null);var c=this.getJsErrorString(t,e,n),u=v.DvTagDataObject.getServerPrefix(),l=v.DvTagDataObject.getErrorPath(),f=((p={ctx:818052,cmp:1619415,jsver:s.Utilities.getVersion(),tgjsver:r.DvObject.getDvtpScriptVersion(),napr:c})[a.ErrorDataMapping.errorType]=t.id,p);t.isLostImpression&&(f.dvp_isLostImp=1);try{f[a.TPSDataMapping.trafficScenarioType]=i.WindowAdaptor.getScenarioType()}catch(t){}f[a.TPSDataMapping.flavor]="0",this.appendIsOmid(f),this.appendTagUniqueKey(f),s.Utilities.extend(this.getClientDataString(),f),s.Utilities.extend(d,f);var h=""+u+l+"?"+v.DvTagDataObject.getGDPRAndGDPRConsentQueryStringPart()+s.Utilities.serializeObjectToQueryString(f,!1);o.BrowserAdaptor.sendBeacon(h.trim(),!0)},t.prototype.getClientDataString=function(){var t=v.DvTagDataObject.getClientData();return{ee_dp_ctx:t.ctx,ee_dp_cmp:t.cmp,ee_dp_sid:t.sid,ee_dp_plc:t.plc}},t.prototype.sendError=function(t,e,n,r){void 0===n&&(n=""),void 0===r&&(r=null),this.reportedErrors.hasOwnProperty(t.id)||(this.reportedErrors[t.id]=1,t.isLostImpression||t==p.ClientErrorType.FailedToSendEvent?this.sendErrorSignal(t,e,n,r):this.sendMeasurementError(t,e,n,r))},t.prototype.registerEventCall=function(t,e,n,r){var i=this;void 0===n&&(n=!0),s.Utilities.getTimeDiff()>12e5||(this.initEventListeners(),r=this.getEventConsolidationTimeout(r),e.eoid=l.EventIdGeneratorAdaptor.getNext(),this.consolidateMessageData(t,e),this.afterUnload||!n||isNaN(r)?this.sendDataToServer(t):o.BrowserAdaptor.setTimeout((function(){i.sendDataToServer(t)}),r))},t.prototype.getEventConsolidationTimeout=function(t){var e=t||r.DvObject.getConsolidationTimeout()||3e3;return this.restrictTimeoutMax?Math.min(e,this.restrictTimeoutMax):e},t.prototype.sendWaitingMessages=function(t,e){void 0===t&&(t=!0),s.Utilities.isEmpty(this.waitingMessages)||(this.impressionId?(!this.isImportantMessage&&r.DvObject.getFireOnlyImportantEvents()||this.registerEventCall(this.impressionId,this.waitingMessages,t,e),this.isImportantMessage=!1,this.waitingMessages={}):s.Utilities.getVisitTimeDiff()>4e3&&this.sendError(p.ClientErrorType.FailedToSendEvent,void 0,"ImpressionID is missing"))},t.prototype.firePreviousEvents=function(){this.impressionId=r.DvObject.getImpressionId(i.WindowAdaptor.currentWindow());var t=this.getIntervalAndSetMaxTimeout();this.sendWaitingMessages(!0,t)},t.prototype.getIntervalAndSetMaxTimeout=function(t){return void 0===t&&(t=this.START_INTERVAL_INITIAL_VALUE),!r.DvObject.isMobile()||c.BrowserDetector.getBrowserId()!=p.Browser.Safari&&c.BrowserDetector.getBrowserId()!=p.Browser.SafariWebView||(this.restrictTimeoutMax=t=1e3),u.OmidWrapper.isSupported()&&(this.restrictTimeoutMax=500),t},t.prototype.initEventListeners=function(){var t=this;this.eventListenersInitiated||(d.EventBus.addEventListener(d.DvEvent.impressionServed,(function(){t.firePreviousEvents()}),"MessageHandler"),d.EventBus.addEventListener(d.DvEvent.globalUnloadData,this.handleUnload.bind(this)),this.eventListenersInitiated=!0)},t.prototype.consolidateMessageData=function(t,e){this.messageDataObject[t]=this.messageDataObject[t]||{},s.Utilities.extend(e,this.messageDataObject[t])},t.prototype.createEventCallUrl=function(t,e,n){void 0===n&&(n=!1),void 0===this.doubleTagImp&&(this.doubleTagImp=r.DvObject.getDoubleTagImpressionID()||"");var i=this.doubleTagImp?"dup="+this.doubleTagImp+"&":"";return v.DvTagDataObject.resolveEventUrlPrefix(t)+"?impid="+t+"&"+i+"flavor=0&"+v.DvTagDataObject.getGDPRAndGDPRConsentQueryStringPart()+s.Utilities.serializeObjectToQueryString(e,n)},t.prototype.sendDataToServer=function(t){try{if(!s.Utilities.isEmpty(this.messageDataObject[t])){var e=this.createEventCallUrl(t,this.messageDataObject[t],u.OmidWrapper.isSupported());this.isFirstEventFired||(e+="&"+a.TPSDataMapping.timeToFirstUpdateReportMs+"="+(s.Utilities.getCurrentTime()-s.Utilities.getScriptLoadedMS()),this.isFirstEventFired=!0),this.afterUnload&&(e+="&"+a.TPSDataMapping.totalMeasurementExecTime+"="+(s.Utilities.getCurrentTime()-s.Utilities.getScriptLoadedMS())),o.BrowserAdaptor.sendBeacon(e),this.messageDataObject[t]=null}}catch(t){}},t.prototype.getJsErrorString=function(t,e,n){var r,i=t.message+"__";n&&n.length>0&&(i+=n+"__"),e&&(i+=": "+(e.message||""),e.stack&&(i+=e.stack.split("\n").map((function(t){return t.replace(/\(.*\)/,"")})).join(""))),i=i.replace(/\n/g,"").replace(/\r/g,"").replace(/\t/g,"").replace(/\|/g,"");try{r=encodeURIComponent(i).slice(0,500)}catch(t){}return r},t.prototype.handleUnload=function(){var t=this;this.afterUnload=!0,Object.keys(this.messageDataObject).forEach((function(e,n){t.sendDataToServer(e)}))},t}();e.MessageHandlerClass=f,e.MessageHandler=new f},3985:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.MraidWrapper=e.MraidWrapperClass=void 0;var r=n(5191),i=n(708),o=n(652),a=n(8245),s=n(9844),d=n(4747),p=function(){function t(){this.isMraidReady=!1,this.readyState=!1,this.maxIterations=20,this.errorReported=!1;var t=r.WindowAdaptor.workingWindow();this.setMraid(t),this.mraidObject&&this.readyCheck()}return t.prototype.getReadyState=function(){return this.readyState},t.prototype.isOperaMedia=function(){return"AdMarvel"==this.runMraidFunctionSafely("getVendor")},t.prototype.isAdColony=function(){var t=this.runMraidFunctionSafely("getVendor");return t&&"string"==typeof t&&"adcolony"==t.toLowerCase()},t.prototype.getIsMraidReady=function(){return this.isMraidReady||this.updateIsMraidReady()},t.prototype.isSupported=function(){return!!this.mraidObject},t.prototype.getIntegrationType=function(){return 2},t.prototype.runMraidFunctionSafely=function(t){try{return this.mraidObject[t]()}catch(t){}},t.prototype.runMraidRegisterSafely=function(t,e){try{e.toString=function(){return"func"+s.RandomUtils.getRandom16()},this.mraidObject.addEventListener(t,e)}catch(t){}},t.prototype.setMraid=function(t){this.mraidObject=r.WindowAdaptor.objectLookup(t,"mraid",this.maxIterations)},t.prototype.reportMraidLookup=function(t){var e=this;r.WindowAdaptor.isDomlessEnvironment()||(i.MessageHandler.sendMessage({dvp_mrdms:d.Utilities.getCurrentTime()}),this.mraidObject||null==r.WindowAdaptor.workingDocument().readyState||"complete"==r.WindowAdaptor.workingDocument().readyState||t.addEventListener("load",(function(n){r.WindowAdaptor.objectLookup(t,"mraid",e.maxIterations)&&i.MessageHandler.sendMessage({dvp_mrdfnd:1})})))},t.prototype.getMraid=function(){return this.mraidObject},t.prototype.reportEnvironmentDetails=function(){this.mraidEnvObjectCache=this.mraidEnvObjectCache||r.WindowAdaptor.objectLookup(r.WindowAdaptor.currentWindow(),"MRAID_ENV",this.maxIterations),this.mraidEnvObjectCache&&i.MessageHandler.sendMessage({dvp_mrdsdk:this.mraidEnvObjectCache.sdk,dvp_mrdsdkv:this.mraidEnvObjectCache.sdkVersion,dvp_mrdv:this.mraidEnvObjectCache.version,dvp_mrdapid:this.mraidEnvObjectCache.appId})},t.prototype.getAdViewablePercentage=function(){var t=this.runMraidFunctionSafely("isViewable");return null==t?null:t?100:0},t.prototype.readyCheck=function(){"loading"==this.runMraidFunctionSafely("getState")?this.runMraidRegisterSafely("ready",this.readyCallback.bind(this)):this.readyCallback(),this.runMraidRegisterSafely("stateChange",this.updateIsMraidReady.bind(this))},t.prototype.setReadyState=function(){this.readyState=!0,o.EventBus.dispatchEvent(o.DvEvent.mraidDefaultStateData,new a.EventData),i.MessageHandler.sendMessage({dvp_mrstt:1})},t.prototype.readyCallback=function(){this.setReadyState(),this.updateIsMraidReady(),this.registerToMraidErrorEvent()},t.prototype.updateIsMraidReady=function(){if(this.isMraidReady)return this.isMraidReady;var t=this.runMraidFunctionSafely("isViewable");return("default"==this.runMraidFunctionSafely("getState")||t)&&(this.isMraidReady=!0,this.readyState||this.setReadyState()),this.isMraidReady},t.prototype.registerToMraidErrorEvent=function(){var t=this;this.runMraidRegisterSafely("error",(function(e,n){t.errorReported||(i.MessageHandler.sendMessage({dvp_mrwer:"MraidWrapper:"+n+":"+e.substring(0,60)}),t.errorReported=!0)}))},t}();e.MraidWrapperClass=p,e.MraidWrapper=new p},8943:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidVerificationClientWrapper=void 0;var r=n(4472),i=n(7526),o=n(708),a=n(5137),s=n(4747),d="undefined"!=typeof $dv&&$dv||{},p=function(){function t(t){var e=this;this.onSessionEvent=function(t){switch(t.type){case"sessionStart":e.onSessionStart(t);break;case"sessionFinish":e.onSessionFinish(t);break;case"sessionError":e.onSessionError(t)}},this.isReady=!1,this.init(t),this.isSupported()&&this.registerSessionObserver()}return t.prototype.ready=function(t){this.isReady?t():this.readyCB=t},t.prototype.onSessionStart=function(t){this.isReady=!0,t=t||{},a.OmidWrapper.init(this.omidVCInstance,t,this.vendorKey),d.omidSessionData=t,d.omidSessionStartTime=(new Date).getTime(),"function"==typeof this.readyCB&&this.readyCB()},t.prototype.onSessionFinish=function(t){this.isReady=!1},t.prototype.onSessionError=function(t){this.isReady=!1;var e=((t=t||{}).data||{}).message||"onSessionError_Error";o.MessageHandler.sendError(i.ClientErrorType.OmidSessionError,{message:e})},t.prototype.registerSessionObserver=function(){this.omidVCInstance&&this.omidVCInstance.registerSessionObserver(this.onSessionEvent,this.vendorKey)},t.prototype.isSupported=function(){if(void 0===this.omidVCIsSupported)try{this.omidVCIsSupported=this.omidVCInstance.isSupported()}catch(t){this.omidVCIsSupported=!1}return this.omidVCIsSupported},t.prototype.setVendorKey=function(){var e=r.DvObject.getDvtpScriptUrl();if(this.vendorKey=t.DefaultVendorKey,e)try{this.vendorKey=s.Utilities.getParamValue(e,"vendor_key")||this.vendorKey}catch(e){this.vendorKey=t.DefaultVendorKey}},t.prototype.init=function(t){if(t){this.setVendorKey();try{this.omidVCInstance=new t,d.omidJsClient=this.omidVCInstance,d.omidVendorKey=this.vendorKey}catch(t){}}},t.VerificationClientVersion="1.2.6-iab634",t.DefaultVendorKey="doubleverify.com-omid",t}();e.OmidVerificationClientWrapper=p},5137:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidWrapper=e.OmidWrapperClass=void 0;var r=n(4472),i=n(1676),o=function(){function t(){this.omidDefaultVendorKey="doubleverify.com-omid";var t=r.DvObject.getDvObject();t&&(this.omidJsClient=t.omidJsClient,this.omidSessionData=t.omidSessionData,this.omidVendorKey=t.omidVendorKey||this.omidDefaultVendorKey,this.init(t.omidJsClient,t.omidSessionData,t.omidVendorKey))}return t.prototype.init=function(t,e,n){this.omidJsClient=t,this.omidSessionData=e,this.omidVendorKey=n||this.omidDefaultVendorKey},t.prototype.isSupported=function(){return this.omidJsClient&&this.omidJsClient.isSupported()},t.prototype.getIntegrationType=function(){var t=this.getOmidContext();return t&&t.environment&&"web"==t.environment.toLowerCase()?8:4},t.prototype.getSessionData=function(){return this.omidSessionData},t.prototype.addEventListener=function(t,e){if(this.omidJsClient)return this.omidJsClient.addEventListener(t,e)},t.prototype.registerSessionObserver=function(t){if(this.omidJsClient)return this.omidJsClient.registerSessionObserver(t,this.omidVendorKey)},t.prototype.setTimeout=function(t,e){if(this.omidJsClient)return this.omidJsClient.setTimeout(t,e)},t.prototype.clearTimeout=function(t){this.omidJsClient&&this.omidJsClient.clearTimeout(t)},t.prototype.setInterval=function(t,e){if(this.omidJsClient)return this.omidJsClient.setInterval(t,e)},t.prototype.clearInterval=function(t){this.omidJsClient&&this.omidJsClient.clearInterval(t)},t.prototype.getVerificationParameters=function(){var t,e=this.getSessionData();return e&&e.data&&(t=e.data.verificationParameters),t},t.prototype.sendUrl=function(t){this.omidJsClient&&this.omidJsClient.sendUrl(t)},t.prototype.injectJavaScriptResource=function(t,e,n){void 0===e&&(e=function(){}),void 0===n&&(n=function(){}),this.omidJsClient&&this.omidJsClient.injectJavaScriptResource(t,e,n)},t.prototype.getOmidNativePartnerName=function(){var t,e=this.getOmidContext();return e&&e.omidNativeInfo&&e.omidNativeInfo.partnerName&&(t=e.omidNativeInfo.partnerName),t},t.prototype.getOmidJSPartnerName=function(){var t,e=this.getOmidContext();return e&&e.omidJsInfo&&e.omidJsInfo.partnerName&&(t=e.omidJsInfo.partnerName),t},t.prototype.getOmidVendorKeyIndex=function(t){if(t)return t.replace(this.omidDefaultVendorKey,"")||"0"},t.prototype.getOmidContext=function(){var t,e=this.getSessionData()&&this.getSessionData().data;return e&&e.context&&(t=e.context),t},t.prototype.getOmidScenarioType=function(){var t=this.getOmidContext();return null==t?void 0:t.environment},t.prototype.getOmidAccessMode=function(){var t,e;return null!==(e=null===(t=this.getOmidContext())||void 0===t?void 0:t.accessMode)&&void 0!==e?e:null},t.prototype.getOmidAccessModeNumber=function(t){return new Map([[i.OmidAccessModeString.FULL,1],[i.OmidAccessModeString.DOMAIN,2],[i.OmidAccessModeString.LIMITED,3]]).get(t)},t}();e.OmidWrapperClass=o,e.OmidWrapper=new o},9844:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.RandomUtils=e.RandomUtilsClass=void 0;var r=n(5191),i=n(4747),o=function(){function t(){}return t.prototype.getRandom16=function(){return(i.Utilities.getCurrentTime()+""+Math.floor(1e6*Math.random())).substr(0,16)},t.prototype.getRandom32=function(){return i.Utilities.getCurrentTime().toString(36)+(this.getRandom24ByCrypto()||this.getRandom24())},t.prototype.getRandom24ByCrypto=function(){if(r.WindowAdaptor.isCryptoSupported()){var t=new Uint32Array(4);return crypto.getRandomValues(t),i.Utilities.arrayLikeToArray(t).map((function(t){return("00000000"+t.toString(36)).substr(-6)})).join("")}},t.prototype.getRandom24=function(){return(Math.random().toString(36)+"000000000000").substr(2,12)+(Math.random().toString(36)+"000000000000").substr(2,12)},t}();e.RandomUtilsClass=o,e.RandomUtils=new o},5532:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractRenderLogic=void 0;var r=n(5191),i=n(652),o=n(8245),a=n(708),s=n(4472),d=function(){function t(){this.wasAdRenderedCalled=!1}return t.prototype.publishAdRenderedDataAfterImpressionServed=function(){var t=s.DvObject.getDvObject();t.pubSub&&t.pubSub.excludeFrameId&&i.EventBus.addEventListener(i.DvEvent.impressionServed,(function(){s.DvObject.publishPubSubEvent(i.DvEvent.adRenderedData,s.DvObject.getFrameId(r.WindowAdaptor.currentWindow()),new o.AdRenderedEventData(s.DvObject.getImpressionId(r.WindowAdaptor.currentWindow())))}),"PreRenderLogic")},t.prototype.isAdRendered=function(){return this.wasAdRenderedCalled},t.prototype.adRendered=function(){this.wasAdRenderedCalled=!0,this.publishAdRenderedDataAfterImpressionServed()},t.fireRenderedEvent=function(){a.MessageHandler.sendMessage({prndr:0},!0)},t}();e.AbstractRenderLogic=d},9276:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Cm360ContainerRenderLogic=void 0;var o=n(2744),a=n(7258),s=n(7526),d=function(t){function e(){return t.call(this,new o.Cm360AdContainerInspectorFactory(e.tagAttributeName))||this}return i(e,t),e.prototype.isSupported=function(t){return a.DvTagDataObject.getIsCm360CreativeWrapping()&&t===s.DvTagType.Display},e.prototype.getRenderingMethodIndicator=function(){return 8},e.tagAttributeName="data-doubleverify-container",e}(n(8755).ContainerRenderLogic);e.Cm360ContainerRenderLogic=d},8755:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerRenderLogic=void 0;var o=n(5532),a=n(5191),s=n(708),d=n(805),p=function(t){function e(e){var n=t.call(this)||this;return n.waitingForWindowLoadEvent=!1,n.activeListeners=[],n.adContainerInspector=e.createAdContainerInspector(),n}return i(e,t),e.prototype.start=function(){var t,e,n,r=null===(t=this.adContainerInspector)||void 0===t?void 0:t.getContainer(),i=null===(e=this.adContainerInspector)||void 0===e?void 0:e.getDirectChildren().length,o=null===(n=this.adContainerInspector)||void 0===n?void 0:n.getDirectChildren(["img","iframe"]),a=this.findALoadedChild(o);r?0===i?this.determineAdNotRendered(4):0===o.length?this.waitForWindowToLoad():a?this.reportAdRenderedByLoadedChild(a):this.waitForTheFirstLoadableChildToLoad(o):this.determineAdNotRendered(2)},e.prototype.getNumberOfActiveListeners=function(){return this.activeListeners.length},e.prototype.reportAdRenderedByLoadedChild=function(t){var e=this.getReasonForRendered(t);this.determineAdRendered(e,t)},e.prototype.waitForWindowToLoad=function(){var t=this;this.waitingForWindowLoadEvent=!0,a.WindowAdaptor.workingWindow().addEventListener("load",(function(){return t.determineAdRendered(4)}))},e.prototype.reportAdNotRendered=function(t){var e;s.MessageHandler.sendMessage(((e={})[d.AdDataMappingToReport.reasonForNotRenderedByContainerRenderLogic]=t,e))},e.prototype.determineAdNotRendered=function(t){this.reportAdNotRendered(t),this.removeLoadEventListener()},e.prototype.determineAdRendered=function(t,e){void 0===e&&(e=null),this.reportAdRendered(t,e),this.removeLoadEventListener()},e.prototype.reportAdRendered=function(e,n){void 0===n&&(n=null),t.prototype.adRendered.call(this),o.AbstractRenderLogic.fireRenderedEvent(),this.reportRenderedReasonAndImageDimensions(e,n)},e.prototype.reportRenderedReasonAndImageDimensions=function(t,e){var n={};n[d.AdDataMappingToReport.reasonForRenderedByContainerRenderLogic]=t,1===t&&(n[d.AdContainerDataMapping.containerImageWidth]=e.width,n[d.AdContainerDataMapping.containerImageHeight]=e.height),s.MessageHandler.sendMessage(n)},e.prototype.removeLoadEventListener=function(){this.removeElemLoadEventListener(),this.waitingForWindowLoadEvent&&this.removeWindowLoadEventListener()},e.prototype.removeElemLoadEventListener=function(){var t=this;this.activeListeners.forEach((function(e){e.removeEventListener("load",(function(){return t.determineAdRendered(t.getReasonForRendered(e),e)}))})),this.activeListeners=[]},e.prototype.removeWindowLoadEventListener=function(){var t=this;a.WindowAdaptor.workingWindow().removeEventListener("load",(function(){return t.determineAdRendered(4)})),this.waitingForWindowLoadEvent=!1},e.prototype.getElementType=function(t){return t.tagName.toLowerCase()},e.prototype.getReasonForRendered=function(t){var e=this.getElementType(t);return"img"===e?1:"iframe"===e?2:null},e.prototype.waitForTheFirstLoadableChildToLoad=function(t){var e=this;t.filter((function(t){return"img"===e.getElementType(t)})).forEach((function(t){e.addLoadEventListener(t,1)})),t.filter((function(t){return"iframe"===e.getElementType(t)})).forEach((function(t){e.addLoadEventListener(t,2)}))},e.prototype.findALoadedChild=function(t){var e=this;return t.find((function(t){var n=e.getElementType(t);if("img"===n)return t.complete&&0!==t.naturalHeight;if("iframe"===n)try{var r=a.WindowAdaptor.getIframeWindow(t),i=a.WindowAdaptor.workingDocument(r),o=t.contentDocument||i;return"complete"===(null==o?void 0:o.readyState)}catch(t){}return!1}))},e.prototype.addLoadEventListener=function(t,e){var n=this;t.addEventListener("load",(function(){return n.determineAdRendered(e,t)})),this.activeListeners.push(t)},e}(o.AbstractRenderLogic);e.ContainerRenderLogic=p},3492:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultRenderLogic=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){t.prototype.adRendered.call(this)},e.prototype.isSupported=function(t){return!0},e.prototype.getRenderingMethodIndicator=function(){return 32},e}(n(5532).AbstractRenderLogic);e.DefaultRenderLogic=o},6935:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MraidInMobiRenderLogic=void 0;var o=n(3985),a=n(5532),s=n(5191),d=n(7526),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wasViewable=!1,e.maxIterations=20,e}return i(e,t),e.prototype.start=function(){o.MraidWrapper.getAdViewablePercentage()?t.prototype.adRendered.call(this):o.MraidWrapper.runMraidRegisterSafely("viewableChange",this.mraidViewableChangeUpdate.bind(this))},e.prototype.mraidViewableChangeUpdate=function(e){e&&!this.wasViewable&&(this.wasViewable=!0,t.prototype.adRendered.call(this),a.AbstractRenderLogic.fireRenderedEvent())},e.prototype.isSupported=function(t){return t==d.DvTagType.Display&&o.MraidWrapper.isSupported()&&s.WindowAdaptor.objectLookup(s.WindowAdaptor.currentWindow(),"imraid",this.maxIterations)&&s.WindowAdaptor.objectLookup(s.WindowAdaptor.currentWindow(),"inmobi",this.maxIterations)},e.prototype.getRenderingMethodIndicator=function(){return 2},e}(a.AbstractRenderLogic);e.MraidInMobiRenderLogic=p},2344:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MraidRenderLogic=void 0;var o=n(652),a=n(3985),s=n(5532),d=n(5191),p=n(6089),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMraidRendered=!1,e.isPageVisibilityRendered=!1,e.isPageVisibilitySupported=!1,e}return i(e,t),e.prototype.start=function(){this.isPageVisibilitySupported=p.BrowserAdaptor.isVisibilityChangeEventSupported(),this.checkMraidRender(),this.isPageVisibilitySupported&&this.checkPageVisibilityRender(),this.checkOverallRendered(!1)},e.prototype.checkMraidRender=function(){a.MraidWrapper.getReadyState()?this.isMraidRendered=!0:this.mraidDefaultStateDataEventHandler=o.EventBus.addEventListener(o.DvEvent.mraidDefaultStateData,this.mraidDefaultStateCallback.bind(this))},e.prototype.mraidDefaultStateCallback=function(){this.isMraidRendered=!0,this.mraidDefaultStateDataEventHandler&&o.EventBus.removeEventListener(this.mraidDefaultStateDataEventHandler),this.checkOverallRendered(!0)},e.prototype.checkPageVisibilityRender=function(){if("prerender"!=d.WindowAdaptor.getVisibilityState())this.isPageVisibilityRendered=!0;else{var t=p.BrowserAdaptor.getVisibilityPrefix()+"visibilitychange";p.BrowserAdaptor.addEventListener(t,this.visibilityChangeCallback.bind(this),d.WindowAdaptor.workingDocument())}},e.prototype.visibilityChangeCallback=function(){this.isPageVisibilityRendered||"prerender"!=d.WindowAdaptor.getVisibilityState()&&(this.isPageVisibilityRendered=!0,this.checkOverallRendered(!0))},e.prototype.checkOverallRendered=function(e){(!this.isPageVisibilitySupported&&this.isMraidRendered||this.isPageVisibilitySupported&&this.isPageVisibilityRendered&&this.isMraidRendered)&&(t.prototype.adRendered.call(this),e&&s.AbstractRenderLogic.fireRenderedEvent())},e.prototype.isSupported=function(t){return a.MraidWrapper.isSupported()},e.prototype.getRenderingMethodIndicator=function(){return 4},e}(s.AbstractRenderLogic);e.MraidRenderLogic=c},2871:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.OmidRenderLogic=void 0;var o=n(5532),a=n(5137),s=n(1676),d=n(8444),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wasRendered=!1,e}return i(e,t),e.prototype.isSupported=function(t){return a.OmidWrapper.isSupported()},e.prototype.getRenderingMethodIndicator=function(){return 64},e.prototype.start=function(){var t=this;a.OmidWrapper.addEventListener("impression",(function(e){return t.handleImpressionEvent(e)})),a.OmidWrapper.addEventListener("geometryChange",(function(e){return t.handleGeometryChangeEvent(e)}))},e.prototype.handleImpressionEvent=function(t){(!this.wasRendered&&this.checkIfImpressionTypeIndicatesRendered(t)||this.checkIfPercentageInViewLargerThanZero(t))&&(d.DiagnosticParamsSingleton.reportDiagnosticParam("omidRenderedFromImpressionEvent",1),this.updateThatAdIsRendered())},e.prototype.handleGeometryChangeEvent=function(t){!this.wasRendered&&this.checkIfPercentageInViewLargerThanZero(t)&&(d.DiagnosticParamsSingleton.reportDiagnosticParam("omidRenderedFromGeomChangePercLargerThanZero",1),this.updateThatAdIsRendered())},e.prototype.checkIfImpressionTypeIndicatesRendered=function(t){var e,n=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.impressionType;return!(!n||n!==s.OmidImpressionType.BEGIN_TO_RENDER&&n!==s.OmidImpressionType.ONE_PIXEL&&n!==s.OmidImpressionType.VIEWABLE)},e.prototype.checkIfPercentageInViewLargerThanZero=function(t){var e,n;return(null===(n=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.adView)||void 0===n?void 0:n.percentageInView)>0},e.prototype.updateThatAdIsRendered=function(){this.wasRendered=!0,t.prototype.adRendered.call(this),o.AbstractRenderLogic.fireRenderedEvent()},e}(o.AbstractRenderLogic);e.OmidRenderLogic=p},9574:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageVisibilityRenderLogic=void 0;var o=n(6089),a=n(5191),s=n(5532),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wasRendered=!1,e}return i(e,t),e.prototype.start=function(){if("prerender"!=a.WindowAdaptor.getVisibilityState())t.prototype.adRendered.call(this);else{var e=o.BrowserAdaptor.getVisibilityPrefix()+"visibilitychange";o.BrowserAdaptor.addEventListener(e,this.visibilitychangeCallback.bind(this),a.WindowAdaptor.workingDocument())}},e.prototype.visibilitychangeCallback=function(){this.wasRendered||"prerender"!=a.WindowAdaptor.getVisibilityState()&&(this.wasRendered=!0,t.prototype.adRendered.call(this),s.AbstractRenderLogic.fireRenderedEvent())},e.prototype.isSupported=function(t){return o.BrowserAdaptor.isVisibilityChangeEventSupported()},e.prototype.getRenderingMethodIndicator=function(){return 16},e}(s.AbstractRenderLogic);e.PageVisibilityRenderLogic=d},2709:function(t,e,n){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.RenderLogicFactory=e.RenderLogicFactoryClass=void 0;var i=n(6935),o=n(2344),a=n(9574),s=n(3492),d=n(7258),p=n(9276),c=n(2871),u=function(){function t(){}return t.prototype.getRenderLogic=function(){return this.selectedRenderLogic||(this.selectedRenderLogic=this.selectSupportedRenderLogic()),this.selectedRenderLogic},t.prototype.prioritizedRenderLogicImplementations=function(){return[c.OmidRenderLogic,i.MraidInMobiRenderLogic,o.MraidRenderLogic,p.Cm360ContainerRenderLogic,a.PageVisibilityRenderLogic,s.DefaultRenderLogic]},t.prototype.selectSupportedRenderLogic=function(){var t,e;try{try{for(var n=r(this.prioritizedRenderLogicImplementations()),i=n.next();!i.done;i=n.next()){var o=new(0,i.value),a=d.DvTagDataObject.getTagType();if(o.isSupported(a))return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}}catch(t){}return new s.DefaultRenderLogic},t}();e.RenderLogicFactoryClass=u,e.RenderLogicFactory=new u},2382:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.SafeFrameObject=e.SafeFrameObjectClass=void 0;var n=function(){function t(){}return t.prototype.isGeometricSupported=function(t){return t.$sf&&t.$sf.ext&&t.$sf.ext.geom&&t.$sf.ext.geom()&&t.$sf.ext.geom().win&&t.$sf.ext.geom().win.h>0&&t.$sf.ext.geom().win.w>0},t.prototype.isInviewSupported=function(t){return!!t.$sf&&!!t.$sf.ext&&!!t.$sf.ext.inViewPercentage},t.prototype.getViewport=function(t){if(this.isGeometricSupported(t)){var e=t.$sf.ext.geom();return{height:Math.floor(e.win.h),width:Math.floor(e.win.w)}}},t.prototype.getInViewPercentage=function(t){if(this.isInviewSupported(t))return t.$sf.ext.inViewPercentage()},t.prototype.getAssetVisibleDimension=function(t){var e={width:0,height:0,left:0,right:0,top:0,bottom:0},n=t.$sf.ext.geom();return e.width=parseInt(n.self.w),e.height=parseInt(n.self.h),n.par&&(e.top=parseInt(n.self.t)-parseInt(n.par.t),e.bottom=e.top+e.height,e.left=parseInt(n.self.l)-parseInt(n.par.l),e.right=e.left+e.width),e},t.prototype.isSafeFrameExists=function(t){try{return!!t.$sf}catch(t){}},t.prototype.getUrlReferrer=function(t){try{return t.$sf&&t.$sf.ext&&t.$sf.ext.hostURL&&t.$sf.ext.hostURL()}catch(t){}},t}();e.SafeFrameObjectClass=n,e.SafeFrameObject=new n},7083:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptDynamicFlags=void 0;var r=n(708),i=n(805),o=n(652),a=function(){function t(){this.impServed=!1,o.EventBus.addEventListener(o.DvEvent.impressionServed,this.handleImpressionServed.bind(this))}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getFlags=function(){return this.flags},t.prototype.turnOn=function(t){var e,n=this.flags;this.flags|=t,this.flags!==n&&this.impServed&&r.MessageHandler.sendMessage(((e={})[i.TPSDataMapping.scriptDynamicFlags]=this.flags,e))},t.prototype.isTurnedOn=function(t){return Boolean(this.flags&t)},t.prototype.handleImpressionServed=function(){var t;this.impServed=!0,r.MessageHandler.sendMessage(((t={})[i.TPSDataMapping.scriptDynamicFlags]=this.flags,t))},t}();e.ScriptDynamicFlags=a},5351:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.EventIdGeneratorAdaptor=e.SequenceIdGeneratorClass=void 0;var n=function(){function t(){this.sequenceId=1}return t.prototype.getNext=function(){return this.sequenceId++},t}();e.SequenceIdGeneratorClass=n,e.EventIdGeneratorAdaptor=new n},304:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.StandardSizes=e.StandardSizesClass=void 0;var r=n(7526),i=function(){function t(){this.DisplayStandardSizes=[{width:88,height:[31]},{width:100,height:[150]},{width:120,height:[20,60,90,240,600,800]},{width:125,height:[125]},{width:160,height:[600,800]},{width:168,height:[28]},{width:180,height:[150,160,600]},{width:184,height:[90]},{width:200,height:[90,112,200,446]},{width:215,height:[125]},{width:216,height:[36]},{width:220,height:[90]},{width:234,height:[60]},{width:240,height:[133,400]},{width:250,height:[60,250,300,360,600]},{width:270,height:[202,460]},{width:272,height:[220]},{width:275,height:[300]},{width:292,height:[30]},{width:300,height:[31,50,90,100,200,225,250,268,413,600,618,850,1050]},{width:310,height:[175]},{width:315,height:[300]},{width:320,height:[20,50,75,100,320,360,480]},{width:336,height:[280,600,850]},{width:350,height:[50,200]},{width:375,height:[20,60,150]},{width:400,height:[225]},{width:405,height:[303]},{width:415,height:[20]},{width:440,height:[225,300]},{width:468,height:[60]},{width:550,height:[310,480]},{width:580,height:[400]},{width:600,height:[400]},{width:610,height:[100]},{width:613,height:[460]},{width:640,height:[90,360,480]},{width:700,height:[400,500]},{width:728,height:[90,120]},{width:745,height:[90]},{width:750,height:[30,100,200]},{width:800,height:[600]},{width:900,height:[240]},{width:930,height:[180,600]},{width:950,height:[90]},{width:954,height:[60]},{width:960,height:[90]},{width:970,height:[30,66,90,250,415,550]},{width:980,height:[90,120]},{width:1e3,height:[125]},{width:1008,height:[150]},{width:1140,height:[200]},{width:1250,height:[155]},{width:1280,height:[100]},{width:1680,height:[900]}],this.sizeCompare=function(t,e){return t.width>e.width?1:t.width<e.width?-1:0},this.SpotXStandardSizes=[{width:320,height:[240]},{width:400,height:[300]},{width:450,height:[338]},{width:500,height:[375]},{width:600,height:[800]},{width:640,height:[360]},{width:854,height:[480]}].concat(this.DisplayStandardSizes).sort(this.sizeCompare),this.VideoStandardSizes=[{width:150,height:[90]},{width:270,height:[150]},{width:300,height:[150,340]},{width:320,height:[570]},{width:360,height:[100,640]},{width:375,height:[210,670]},{width:415,height:[740]},{width:420,height:[240]},{width:450,height:[250]},{width:480,height:[270]},{width:510,height:[290]},{width:580,height:[330]},{width:610,height:[340]},{width:670,height:[380]},{width:740,height:[410]},{width:770,height:[1020]},{width:780,height:[440]},{width:800,height:[450]},{width:900,height:[500]},{width:1020,height:[580,770]},{width:1280,height:[720,800]},{width:1330,height:[660]},{width:1370,height:[770]},{width:1440,height:[900]},{width:1540,height:[860]},{width:1920,height:[1080]}].concat(this.DisplayStandardSizes).sort(this.sizeCompare)}return t.prototype.getSizesTable=function(t){switch(t){case r.StandardSizeType.Display:return this.DisplayStandardSizes;case r.StandardSizeType.Video:return this.VideoStandardSizes;default:return this.SpotXStandardSizes}},t.prototype.getNearestAdSize=function(t,e,n){var r=this.getSizesTable(e);switch(n){case 5:return this.getNearestStandardAdSize(t,5,r);case 20:return this.getNearestStandardAdSize(t,20,r);default:return this.getNearestStandardAdSize(t,15,r)}},t.prototype.isStandardAdSize=function(t,e,n){return null!=this.getNearestAdSize(t,e,n)},t.prototype.getNearestStandardAdSize=function(t,e,n){var r=null;if(t&&t.width&&t.height)for(var i=t.width,o=t.height,a=n.length,s=0,d=0,p=Number.MAX_VALUE,c=Number.MAX_VALUE;d<a&&i+e>=n[d].width;){var u=Math.abs(i-n[d].width);if(u<=e){s=n[d].height.length;for(var l=0;l<s&&o+e>=n[d].height[l];){var v=Math.abs(o-n[d].height[l]);if(v<=e)if(u+v<p)c=n[d].width*n[d].height[l],p=u+v,r={width:n[d].width,height:n[d].height[l]};else if(u+v==p){var f=n[d].width*n[d].height[l];f<c&&(c=f,r={width:n[d].width,height:n[d].height[l]})}l++}}d++}return r},t}();e.StandardSizesClass=i,e.StandardSizes=new i},4747:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Utilities=e.UtilitiesClass=void 0;var r=n(9844),i=n(5191),o=function(){function t(){this.loadTime=this.getCurrentTime(),this.MAX_GET_URL_LENGTH=8040}return t.prototype.isExceedingMaxUrlLength=function(t){return t>this.MAX_GET_URL_LENGTH},t.prototype.getScriptLoadedMS=function(){return this.loadTime},t.prototype.setLoadVisitTime=function(){this.loadVisitTime=this.getCurrentTime()},t.prototype.getVersion=function(){return 3438},t.prototype.getCurrentTime=function(){return(Date.now||(new Date).getTime)()},t.prototype.getNavigationStartTime=function(t){var e=t?i.WindowAdaptor.windowTop():dvWindow;return e&&e.performance&&e.performance.timing&&e.performance.timing.navigationStart},t.prototype.getTimeDiff=function(t){return t||(t=this.getCurrentTime()),Math.abs(t-this.loadTime)},t.prototype.getVisitTimeDiff=function(){var t=this.getCurrentTime();return Math.abs(t-(this.loadVisitTime||t))},t.prototype.getTimeDiffNoAbs=function(t){return t||(t=this.getCurrentTime()),t-this.loadTime},t.prototype.merge=function(t,e){if(t&&e)return t.concat(e).filter((function(t,e,n){return n.indexOf(t)==e}))},t.prototype.isEmpty=function(t){return!t||0==Object.keys(t).length},t.prototype.isNullOrEmpty=function(t){return null==t||""===t},t.prototype.extend=function(t,e){t&&!this.isEmpty(t)&&e&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},t.prototype.times=function(t,e){t>0&&(e(),this.times(t-1,e))},t.prototype.mapData=function(t,e,n){var r=this;return void 0===n&&(n=!1),Object.keys(e).reduce((function(i,o){var a=e[o];return a&&!r.isNullOrEmpty(t[o])&&(i[a]=t[o],n&&delete e[o]),i}),{})},t.prototype.startsWith=function(t,e,n){return void 0===n&&(n=!1),t=n?t.toLowerCase():t,e=n?e.toLowerCase():e,0==t.indexOf(e,0)},t.prototype.deepComparison=function(t,e,n){var r=this,i=0;return t&&e?(Object.keys(n).filter((function(n){return!r.equal(t[n],e[n],!0)})).forEach((function(t){i|=n[t]})),i):-1},t.prototype.removeDuplicateValues=function(t,e){var n=this;t&&e&&Object.keys(t).filter((function(r){return n.isNullOrEmpty(t[r])||t[r]==e[r]})).forEach((function(e){return delete t[e]}))},t.prototype.equal=function(t,e,n){return void 0===n&&(n=!1),(t=n&&t&&t.toString().toLowerCase()||t)==(e=n&&e&&e.toString().toLowerCase()||e)||this.isNullOrEmpty(t)&&this.isNullOrEmpty(e)},t.prototype.getElementsDistance=function(t,e){var n=-1;if(t&&e)if(t==e)n=0;else{var r=this.getElementParentsList(t),i=this.getElementParentsList(e);if(r[0]!=i[0])n=-1;else{for(;r.length>0&&i.length>0&&r[0]==i[0];)r.shift(),i.shift();n=r.length+i.length}}else n=-1;return n},t.prototype.getElementParent=function(t){if(t)return t.parentNode},t.prototype.getElementParentsList=function(t){var e=[];if(t)for(var n=this.getElementParent(t);n;)e.unshift(n),n=this.getElementParent(n);return e},t.prototype.isInAppSupported=function(t){return t&&t.some((function(t){return 3==t}))},t.prototype.isCtvSupported=function(t){return t&&t.some((function(t){return 4==t}))},t.prototype.isLargeAd=function(t,e,n){return!(!t||n)&&t.height*t.width>=e},t.prototype.getIabVisiblePercentage=function(t,e){var n=t.percentage,r=t.offScreenPercentage;return null!=r&&e?r:n},t.prototype.isIabPageInFocus=function(t,e){return e?t.strictFocus:t.focus},t.prototype.isVideoElement=function(t){return t&&t.nodeName&&"video"==t.nodeName.toLocaleLowerCase()},t.prototype.appendCacheBuster=function(t,e){return this.appendParamToQueryString(t,e,r.RandomUtils.getRandom16())},t.prototype.appendParamToQueryString=function(t,e,n){var r="";return null!=t&&0==t.indexOf("http")&&(-1!=t.indexOf("?")?"&"!=t.slice(-1)&&(r="&"):r="?",t=""+t+r+e+"="+n),t},t.prototype.resolveMacros=function(t,e){var n=Object.keys(e).reduce((function(t,n){return t[n.toUpperCase()]=e[n],t}),{});return t.replace("[DV_PROTOCOL]",n.DV_PROTOCOL).replace("[PROTOCOL]",n.PROTOCOL).replace(/\[(.*?)\]/g,(function(t,e){var r=n[e];return e.indexOf("URL")>-1&&r?decodeURIComponent(r):(null==r&&(r="["+e+"]"),encodeURIComponent(r))}))},t.prototype.updateDynamicParamsFlags=function(t,e){t&&t.length>0&&e&&(e.dvf=t.filter((function(t){return!!t})).join(","))},t.prototype.getQueryString=function(t,n,r,i){var o=e.Utilities.mapData(t,i);return e.Utilities.extend(n,o),this.updateDynamicParamsFlags(r,o),this.serializeObjectToQueryString(o,!1)},t.prototype.serializeObjectToQueryString=function(t,e){return Object.keys(t).filter((function(e){return void 0!==t[e]})).map((function(n){return n+"="+(e?encodeURIComponent(t[n]):t[n])})).join("&").trim()},t.prototype.isQueryLengthBelowBrowserLimit=function(t,e,n,r,i){var o=!0;try{o=this.getQueryString(t,e,n,r).length+i.length<=7e3}catch(t){}return o},t.prototype.getElementVisiblePercentage=function(t,e){if(t&&e&&null!=e.height&&null!=e.width){if(this.checkIfElementOutOfViewport(t,e)||t.width<=0||t.height<=0)return 0;var n=this.getVisibleWidth(t,e),r=this.getVisibleHeight(t,e);return Math.round(n*r/(t.width*t.height)*100)}},t.prototype.checkIfElementOutOfViewport=function(t,e){return t.bottom<=0||t.bottom<=0||t.right<=0||t.top>=e.height||t.left>=e.width},t.prototype.getVisibleHeight=function(t,e){var n=t.height;return t.top<0?n=t.height+t.top:t.top+t.height>e.height&&(n=e.height-t.top),Math.min(n,e.height)},t.prototype.getVisibleWidth=function(t,e){var n=t.width;return t.left<0?n=t.width+t.left:t.left+t.width>e.width&&(n=e.width-t.left),Math.min(n,e.width)},t.prototype.arrayLikeToArray=function(t){if(t)return Array.prototype.slice.call(t)},t.prototype.DOMStringListToArray=function(t){var e=[];return t&&(e=Array.prototype.slice.call(t)),e},t.prototype.isHostTypeURL=function(t){try{var e=new URL(t);return this.isNullOrEmpty(e.pathname)||"/"==e.pathname}catch(t){}},t.prototype.getElementOffsetFromScreen=function(t){var e=0,n=0;try{if(t.getBoundingClientRect()){var r=t.getBoundingClientRect();e=r.left,n=r.top}for(t=t.parentElement;t;){if(t.tagName&&"iframe"===t.tagName.toLowerCase()&&t.getBoundingClientRect()){var i=t.getBoundingClientRect();e+=i.left,n+=i.top}t=t.parentElement}}catch(t){e=-1,n=-1}return{top:n,left:e}},t.prototype.isPercentageCriteriaPassed=function(t){return!(null==t||t>100||t<0)&&100*Math.random()<=t},t.prototype.getValBetweenMinAndMax=function(t,e,n){return t>e?t<n?t:n:e},t.prototype.isEmptyObject=function(t){return 0===Object.keys(t).length},t.prototype.objectValues=function(t){return Object.keys(t).map((function(e){return t[e]}))},t.prototype.getNumberSubType=function(t){return this.isNullOrEmpty(t)?4:isNaN(t)?3:isFinite(t)?t%1==0?1:2:5},t.prototype.logIfNotAnInteger=function(t,e,n){var r=this.getNumberSubType(t);1!=r&&(e[n]=r)},t.prototype.getParamValue=function(t,e){if(null!=t){var n=new RegExp("[\\?#&]("+e+")=([^&#?]*)","gi").exec(t);if(null!=n&&null!=n[2])return n[2]}return null},t.prototype.checkIfObjIsPartiallyInArray=function(t,e){return e.filter((function(e){var n=!0;return Object.keys(t).forEach((function(r){n=n&&e[r]===t[r]})),n})).length>0?t:{}},t.prototype.getRandom=function(){for(var t=1,e=Math.floor(10*Math.random())+1,n=0;n<e;++n)t*=Math.random();return t},t.prototype.generateGuid=function(){return(new Date).getTime()*this.getRandom()+""},t.prototype.logDvSignal=function(t){try{var e=i.WindowAdaptor.workingWindow().$logDvSignal;e&&"function"==typeof e&&e(t)}catch(t){}},t.prototype.extractElementType=function(t){var e;switch(null===(e=null==t?void 0:t.tagName)||void 0===e?void 0:e.toUpperCase()){case"IFRAME":return 1;case"SPAN":return 2;case"DIV":return 3;case"HTML":return 4;case"VIDEO":return 5;case"CANVAS":return 7;case"SVG":return 8;case"VIDEO-CANVAS":return 9;case"IMG":return 6;default:return 0}},t.prototype.isNumber=function(t){return"number"==typeof t&&isFinite(t)},t.prototype.convertToArray=function(t){return t&&t.length>0?Array.prototype.slice.call(t):[]},t.prototype.countBy=function(t){var e={};return t.forEach((function(t){e[t]=e[t]?e[t]+1:1})),e},t.prototype.getKeyWithHighestValue=function(t){return Object.keys(t).length>0?Object.keys(t).reduce((function(e,n){return t[e]>t[n]?e:n})):null},t.prototype.generateAdler32Hash=function(t){for(var e=1,n=0,r=0;r<t.length;r++)n+=e+=t.charCodeAt(r);return((n%=65521)<<16|(e%=65521))>>>0},t}();e.UtilitiesClass=o,e.Utilities=new o},4924:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackAdaptor=e.VideoPlaybackAdaptorClass=void 0;var r=n(5191),i=function(){function t(){}return t.prototype.getOvvObject=function(){return r.WindowAdaptor.currentWindow().$ovv||r.WindowAdaptor.workingWindow().$ovv},t.prototype.getADCObject=function(){return r.WindowAdaptor.workingWindow().ADCAdUnitEventManager},t}();e.VideoPlaybackAdaptorClass=i,e.VideoPlaybackAdaptor=new i},559:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.FlashOVVWrapper=void 0;var r=n(6089),i=n(4924),o=function(){function t(t){this.previousEvents=[],this.adVolume=null,this.callbacks={},this.viewabilityIntegrationType=1;var e=i.VideoPlaybackAdaptor.getOvvObject();if(e){this.player=this.findPlayer(t),e.subscribe(["AdSkippableStateChange","AdSkipped","AdUserClose","AdStarted","AdImpression","AdVideoStart","AdStopped","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdExpandedChange","AdPaused","AdPlaying","AdVolumeChange","AdClickThru"],t,this.eventHandler.bind(this),!0)}}return t.prototype.eventHandler=function(t,e){try{"AdVolumeChange"==e.eventName&&e.ovvArgs&&null!=e.ovvArgs.ovvData.volume&&this.setAdVolume(e.ovvArgs.ovvData.volume),this.publish(e.eventName)}catch(t){}},t.prototype.findPlayer=function(t){try{for(var e=r.BrowserAdaptor.getElementsByTagNameFromDocument("embed"),n=0;n<e.length;n++)if(e[n][t]||e[n]["onJsReady"+t])return e[n];var i=r.BrowserAdaptor.getElementsByTagNameFromDocument("object");for(n=0;n<i.length;n++)if(i[n][t]||i[n]["onJsReady"+t])return i[n]}catch(t){}return null},t.prototype.getPlayer=function(){return this.player},t.prototype.getSlot=function(){return this.player},t.prototype.getAdDuration=function(){},t.prototype.getAdSkippableState=function(){},t.prototype.getPreviousEvents=function(){return this.previousEvents},t.prototype.getAdVolume=function(){return this.adVolume},t.prototype.setAdVolume=function(t){this.adVolume=t},t.prototype.subscribe=function(t,e){this.callbacks[e]?this.callbacks[e].push(t):this.callbacks[e]=[t]},t.prototype.publish=function(t){if(this.previousEvents.push(t),this.callbacks[t])for(var e in this.callbacks[t])this.callbacks[t][e](t)},t.prototype.executeDVClientCallback=function(){},t}();e.FlashOVVWrapper=o},7223:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.DvVideoWrapper=void 0;var n=function(){function t(){this.subscriptionId=1,this.subscribers={},this.previousEvents={}}return t.prototype.subscribe=function(t,e,n){var r=this,i=[],o=function(i){t.some((function(t){return t==r.previousEvents[e][i].eventName}))&&n(e,a.previousEvents[e][i])},a=this;for(var s in this.previousEvents[e])o(s);for(var s in t)this.subscribers[t[s]+e]||(this.subscribers[t[s]+e]=[]),this.subscriptionId++,this.subscribers[t[s]+e].push({func:n,subscriptionId:this.subscriptionId}),i.push(this.subscriptionId);return i},t.prototype.unsubscribe=function(t){var e=this;t.forEach((function(t){Object.keys(e.subscribers).forEach((function(n){e.subscribers[n]=e.subscribers[n].filter((function(e){return e.subscriptionId!=t}))}))}))},t.prototype.publish=function(t,e,n){if(this.previousEvents[e]||(this.previousEvents[e]=[]),this.previousEvents[e].push(n),t&&e&&this.subscribers[t+e]instanceof Array)for(var r=0;r<this.subscribers[t+e].length;r++){var i=this.subscribers[t+e][r].func;i&&"function"==typeof i&&i(e,n)}},t}();e.DvVideoWrapper=n},2913:function(t,e,n){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.VpaidWrapper=e.VpaidWrapperClass=void 0;var i=n(7258),o=n(5191),a=n(6089),s=n(6603),d=n(7223),p=n(559),c=n(7526),u=n(708),l=n(137),v=function(){function t(){}return t.prototype.start=function(){try{var t={name:"VpaidWrapper",message:void 0};if(i.DvTagDataObject.getTagType()!=c.DvTagType.Video)return;this.currentWindow=o.WindowAdaptor.currentWindow(),this.adid=i.DvTagDataObject.getAdID(),this.adid?(this.dvVpaid=new d.DvVideoWrapper,this.vpaidWrapper=this.getVpaidWrapper(),this.vpaidWrapper?this.createAdAsset(this.adid)?this.subscribeToVpaidEvents(this.vpaidEventHandler.bind(this))?this.handlePreviousEvents():t.message="Failed to subscribe vpaid events":t.message="Failed to create ad asset":t.message="Failed to get vpaid wrapper"):t.message="Failed to get adid",t.message&&(this.dvVpaid=void 0,u.MessageHandler.sendMessage({dvp_vperr:t.message}))}catch(t){this.dvVpaid=void 0,u.MessageHandler.sendError(c.ClientErrorType.MeasurementError,t,"VPaidWrapper")}},t.prototype.getDvVpaid=function(){return this.dvVpaid},t.prototype.isSupported=function(){try{return"function"==typeof o.WindowAdaptor.workingWindow().getVPAIDAd||this.adid&&"function"==typeof o.WindowAdaptor.workingWindow()[this.adid]}catch(t){return!1}},t.prototype.getIntegrationType=function(){return 1},t.prototype.getVpaidWrapper=function(){try{if("function"==typeof o.WindowAdaptor.workingWindow()[this.adid]){var t=o.WindowAdaptor.workingWindow()[this.adid]();return t.viewabilityIntegrationType=2,t}return new p.FlashOVVWrapper(this.adid)}catch(t){return}},t.prototype.getPrevEvents=function(){return this.vpaidWrapper.getPreviousEvents?"function"==typeof this.vpaidWrapper.getPreviousEvents?this.vpaidWrapper.getPreviousEvents():this.vpaidWrapper.getPreviousEvents:[]},t.prototype.handlePreviousEvents=function(){var t,e,n=this.getPrevEvents();try{for(var i=r(n),o=i.next();!o.done;o=i.next()){var a=o.value;this.vpaidEventHandler(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.getAdVolume=function(){return this.vpaidWrapper.getAdVolume()},t.prototype.getAdMute=function(){var t=this.getPlayer();if(t){var e=t.muted;if(void 0===e)return 0;if("boolean"==typeof e)return Number(e)}return l.NOT_FOUND_OR_ERROR},t.prototype.vpaidEventHandler=function(t){if(this.dvVpaid){var e={eventName:t,eventTime:void 0,ovvArgs:{ovvData:{objLeft:void 0,objRight:void 0,objTop:void 0,objBottom:void 0,percentViewable:void 0,volume:this.getAdVolume(),muted:this.getAdMute(),adSkippableState:this.getAdSkippableState()}}};this.dvVpaid.publish(t,this.adid,e)}},t.prototype.subscribeToVpaidEvents=function(t){try{return this.vpaidWrapper.subscribe((function(){t("AdLoaded")}),"AdLoaded"),this.vpaidWrapper.subscribe((function(){t("AdImpression")}),"AdImpression"),this.vpaidWrapper.subscribe((function(){t("AdStopped")}),"AdStopped"),this.vpaidWrapper.subscribe((function(){t("AdError")}),"AdError"),this.vpaidWrapper.subscribe((function(){t("AdStarted")}),"AdStarted"),this.vpaidWrapper.subscribe((function(){t("AdSkipped")}),"AdSkipped"),this.vpaidWrapper.subscribe((function(){t("AdPaused")}),"AdPaused"),this.vpaidWrapper.subscribe((function(){t("AdSizeChange")}),"AdSizeChange"),this.vpaidWrapper.subscribe((function(){t("AdPlaying")}),"AdPlaying"),this.vpaidWrapper.subscribe((function(){t("AdExpandedChange")}),"AdExpandedChange"),this.vpaidWrapper.subscribe((function(){t("AdSkippableStateChange")}),"AdSkippableStateChange"),this.vpaidWrapper.subscribe((function(){t("AdLinearChange")}),"AdLinearChange"),this.vpaidWrapper.subscribe((function(){t("AdVideoStart")}),"AdVideoStart"),this.vpaidWrapper.subscribe((function(){t("AdUserAcceptInvitation")}),"AdUserAcceptInvitation"),this.vpaidWrapper.subscribe((function(){t("AdUserClose")}),"AdUserClose"),this.vpaidWrapper.subscribe((function(){t("AdUserMinimize")}),"AdUserMinimize"),this.vpaidWrapper.subscribe((function(){t("AdClickThru")}),"AdClickThru"),this.vpaidWrapper.subscribe((function(){t("AdInteraction")}),"AdInteraction"),this.vpaidWrapper.subscribe((function(){t("AdDurationChange")}),"AdDurationChange"),this.vpaidWrapper.subscribe((function(){t("AdRemainingTimeChange")}),"AdRemainingTimeChange"),this.vpaidWrapper.subscribe((function(){t("AdVolumeChange")}),"AdVolumeChange"),this.vpaidWrapper.subscribe((function(){t("AdVideoFirstQuartile")}),"AdVideoFirstQuartile"),this.vpaidWrapper.subscribe((function(){t("AdVideoMidpoint")}),"AdVideoMidpoint"),this.vpaidWrapper.subscribe((function(){t("AdVideoThirdQuartile")}),"AdVideoThirdQuartile"),this.vpaidWrapper.subscribe((function(){t("AdVideoComplete")}),"AdVideoComplete"),!0}catch(t){return!1}},t.prototype.getPlayer=function(){var t;try{t="function"==typeof this.vpaidWrapper.getPlayer?this.vpaidWrapper.getPlayer():this.vpaidWrapper.getPlayer,a.BrowserAdaptor.smartInstanceof(t,"HTMLElement",this.currentWindow)||(t=this.vpaidWrapper.getSlot())}catch(e){t=void 0}return t},t.prototype.getAdSkippableState=function(){var t;try{t="function"==typeof this.vpaidWrapper.getAdSkippableState?this.vpaidWrapper.getAdSkippableState():this.vpaidWrapper.adSkippableState}catch(t){}return t},t.prototype.getAdDuration=function(){var t;try{t="function"==typeof this.vpaidWrapper.getAdDuration?this.vpaidWrapper.getAdDuration():this.vpaidWrapper.adDuration}catch(t){}return t},t.prototype.getExecuteDVClientCallback=function(){if("function"==typeof this.vpaidWrapper.executeDVClientCallback)return this.vpaidWrapper.executeDVClientCallback},t.prototype.createAdAsset=function(t){var e=this.getPlayer(),n=this.getAdDuration(),r=this.getAdSkippableState();if(e){var i=this.getExecuteDVClientCallback(),o=new s.AdAsset(t,e,n,r,i);return this.dvVpaid.asset=o,this.dvVpaid.viewabilityIntegrationType=this.vpaidWrapper.viewabilityIntegrationType,!0}return!1},t}();e.VpaidWrapperClass=v,e.VpaidWrapper=new v},5191:function(t,e,n){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.WindowAdaptor=e.WindowAdaptorClass=void 0;var i=n(4747),o=n(6161),a=n(4472),s=n(137),d=function(){function t(){this.topWinAvailable=!0,this.maxIterations=1e3,this.trafficScenarioType=0}return t.prototype.currentWindow=function(){return dvWindow},t.prototype.currentDocument=function(){return document},t.prototype.workingWindow=function(){return a.DvObject.isInjectedAsSibling()?this.currentWindow():this.currentWindow().parent},t.prototype.workingDocument=function(t){var e;return void 0===t&&(t=this.workingWindow()),t&&(e=t.document),e},t.prototype.workingBody=function(t){var e;return void 0===t&&(t=this.workingDocument()),t&&(e=t.body),e},t.prototype.workingDocumentElement=function(){var t,e=this.workingDocument();return e&&(t=e.documentElement),t},t.prototype.windowTop=function(t){if(this.topWinAvailable||t)try{if(t)return this.currentWindow().top;if(this.currentWindow().top.document)return this.currentWindow().top}catch(t){this.topWinAvailable=!1}},t.prototype.isTop=function(t){return t==this.windowTop(!0)},t.prototype.documentTop=function(){var t,e=this.windowTop();return e&&(t=e.document),t},t.prototype.getWindowParent=function(t,e){try{if(e)return t.parent;if(t.parent.document)return t.parent}catch(t){}},t.prototype.windowName=function(){return this.currentWindow().name||(this.currentWindow().frameElement?this.currentWindow().frameElement.id:"")},t.prototype.getFrameElement=function(t){try{return t!==this.currentWindow()&&128==(128&this.getScenarioType())?null:t&&t.frameElement}catch(t){}},t.prototype.getIframeWindow=function(t){if(t)return t.contentWindow},t.prototype.getDefaultWindow=function(t){try{if(!t||!t.ownerDocument)return;return t.ownerDocument.defaultView}catch(t){}},t.prototype.getElementWindowDimensions=function(t){try{var e=this.getDefaultWindow(t);return e?{height:(n=e).innerHeight,width:n.innerWidth}:null}catch(t){}var n},t.prototype.isDomlessEnvironment=function(){return!1},t.prototype.isIOS=function(){try{var t=this.workingWindow().navigator;return(/iPhone|iPad|iPod|\(Apple TV|iOS|Coremedia|CFNetwork\/.*Darwin/i.test(t.userAgent)||t.vendor&&"apple, inc."===t.vendor.toLowerCase())&&!this.workingWindow().MSStream}catch(t){}},t.prototype.getWindowProtocol=function(){return s.HttpProtocol.Https},t.prototype.setTopAccessibleWindow=function(){var t=this.workingWindow();try{for(var e=0;!this.isTop(t)&&e<this.maxIterations;){var n=this.getWindowParent(t,!0);if(!n.document)break;t=n,e++}}catch(t){}this.topAccessibleWindow=t},t.prototype.getTopAccessibleWindow=function(){return this.topAccessibleWindow||this.setTopAccessibleWindow(),this.topAccessibleWindow},t.prototype.setScenarioType=function(){this.isTop(this.workingWindow())?this.trafficScenarioType|=1:this.isTop(this.getTopAccessibleWindow())?this.trafficScenarioType|=2:this.trafficScenarioType|=128,a.DvObject.isRestrictedAccess()&&(this.trafficScenarioType|=8),a.DvObject.isInjectedAsSibling()&&(this.trafficScenarioType|=16)},t.prototype.getScenarioType=function(){return this.trafficScenarioType||this.setScenarioType(),this.trafficScenarioType},t.prototype.objectLookup=function(t,e,n){try{var r=t[e];if(r)return r;if(!this.isTop(t)&&n>0)return this.objectLookup(this.getWindowParent(t,!0),e,n-1)}catch(t){}},t.prototype.getUserAgent=function(){return this.workingWindow().navigator&&this.workingWindow().navigator.userAgent},t.prototype.monitorScriptsPerformance=function(t,e){var n,o,a,s,d={};try{if(!t.performance||!t.performance.getEntries)return d;var p=t.performance.getEntries();try{for(var c=r(p),u=c.next();!u.done;u=c.next()){var l=u.value,v=l.name.match(/.*\/(.+?)\./);if(v&&v[1]){var f=v[1].replace(/\d+$/,""),h=e[f];if(h&&h.length){try{for(var y=(a=void 0,r(h)),g=y.next();!g.done;g=y.next()){var m=g.value;d[f+"_"+m]=Math.round(l[m])}}catch(t){a={error:t}}finally{try{g&&!g.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}if(delete e[f],i.Utilities.isEmpty(e))break}}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}}catch(t){}return d},t.prototype.monitorFrameScriptsPerformance=function(t,e){var n,o,a={};if(!t.frames||!t.frames.length)return a;try{for(var s=r(i.Utilities.arrayLikeToArray(t.frames)),d=s.next();!d.done;d=s.next()){var p=d.value;if(a=this.monitorScriptsPerformance(p,e),i.Utilities.isEmpty(e))return a}}catch(t){n={error:t}}finally{try{d&&!d.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}},t.prototype.getVisibilityState=function(){try{return this.workingDocument().visibilityState}catch(t){}},t.prototype.getNavigator=function(){return this.currentWindow().navigator},t.prototype.isCryptoSupported=function(){return"undefined"!=typeof crypto},t.prototype.isMessageChannelSupported=function(){return"undefined"!=typeof MessageChannel},t.prototype.isPostMessageSupported=function(t){return void 0===t&&(t=this.workingWindow()),t&&"function"==typeof t.postMessage},t.prototype.isNodeSupported=function(){return"undefined"!=typeof Node},t.prototype.getCurrentScript=function(){return this.currentDocument().currentScript},t.prototype.isPerformanceAPISupported=function(){var t=this.currentWindow();return!(!t.performance||"function"!=typeof t.performance.mark||"function"!=typeof t.performance.measure||"function"!=typeof t.performance.getEntriesByName)},t.prototype.getNumberOfCores=function(){if(this.getNavigator())return this.getNavigator().hardwareConcurrency},t}();e.WindowAdaptorClass=d;var p=a.DvObject.getDvObject(),c=p&&p.isDomlessEnvironment;e.WindowAdaptor=c?new o.WindowOmidAdaptorClass:new d},6161:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.WindowOmidAdaptorClass=e.WindowMock=void 0;var r=n(137),i=function(){function t(){}return t.prototype.getWindowMockInstance=function(){return{location:{protocol:"https:"},document:{body:{insertBefore:function(t,e){}},getElementById:function(t){},createElement:function(t){},querySelectorAll:function(t){}}}},t}();e.WindowMock=i;var o=function(){function t(){this.windowMock=dvWindow}return t.prototype.currentWindow=function(){return this.windowMock},t.prototype.currentDocument=function(){return this.currentWindow().document},t.prototype.workingWindow=function(){return this.currentWindow()},t.prototype.workingBody=function(){return this.currentWindow().document.body},t.prototype.workingDocument=function(){return this.currentDocument()},t.prototype.workingDocumentElement=function(){},t.prototype.windowTop=function(t){return this.currentWindow()},t.prototype.isTop=function(t){return!0},t.prototype.documentTop=function(){return this.currentDocument()},t.prototype.getWindowParent=function(t,e){},t.prototype.windowName=function(){return""},t.prototype.getIframeWindow=function(t){},t.prototype.getFrameElement=function(t){},t.prototype.getDefaultWindow=function(t){},t.prototype.isDomlessEnvironment=function(){return!0},t.prototype.isIOS=function(){return!0},t.prototype.getWindowProtocol=function(){return r.HttpProtocol.Https},t.prototype.getTopAccessibleWindow=function(){return this.workingWindow()},t.prototype.getScenarioType=function(){return 4},t.prototype.objectLookup=function(t,e,n){},t.prototype.getUserAgent=function(){},t.prototype.monitorScriptsPerformance=function(t,e){return{}},t.prototype.monitorFrameScriptsPerformance=function(t,e){return{}},t.prototype.getVisibilityState=function(){},t.prototype.getNavigator=function(){},t.prototype.isCryptoSupported=function(){return"undefined"!=typeof crypto},t.prototype.isMessageChannelSupported=function(){return!1},t.prototype.isPostMessageSupported=function(){return!1},t.prototype.isNodeSupported=function(){return"undefined"!=typeof Node},t.prototype.getCurrentScript=function(){},t.prototype.isPerformanceAPISupported=function(){return!1},t.prototype.getNumberOfCores=function(){},t}();e.WindowOmidAdaptorClass=o},1676:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ImpressionType=e.OmidCreativeType=e.OmidImpressionType=e.OmidMediaEventType=e.OmidAdEventType=e.OmidAccessModeString=e.OmidScenarioType=void 0;e.OmidScenarioType={APP:"app",WEB:"web"};e.OmidAccessModeString={FULL:"full",DOMAIN:"domain",LIMITED:"limited"};e.OmidCreativeType={UNKNOWN:"unknown",NATIVE_DISPLAY:"nativeDisplay",HTML_DISPLAY:"htmlDisplay",VIDEO:"video",AUDIO:"audio"};e.OmidAdEventType={IMPRESSION:"impression",LOADED:"loaded",GEOMETRY_CHANGE:"geometryChange",SESSION_START:"sessionStart",SESSION_ERROR:"sessionError",SESSION_FINISH:"sessionFinish",MEDIA:"media",VIDEO:"video",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction"};e.OmidMediaEventType={LOADED:"loaded",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction"};e.OmidImpressionType={DEFINED_BY_JAVASCRIPT:"definedByJavaScript",UNSPECIFIED:"unspecified",LOADED:"loaded",BEGIN_TO_RENDER:"beginToRender",ONE_PIXEL:"onePixel",VIEWABLE:"viewable",AUDIBLE:"audible",OTHER:"other",UNKNOWN:"unknown"};e.ImpressionType={DEFINED_BY_JAVASCRIPT:"definedByJavaScript",UNSPECIFIED:"unspecified",LOADED:"loaded",BEGIN_TO_RENDER:"beginToRender",ONE_PIXEL:"onePixel",VIEWABLE:"viewable",AUDIBLE:"audible",OTHER:"other"}},6456:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.AdColonyMethod=e.AdColonyMethodClass=void 0;var r=n(7526),i=n(3985),o=n(6089),a=function(){function t(){this.exposureChangeRegistered=!1}return t.prototype.isSupported=function(t){var e,n,r,o,a;try{if(!i.MraidWrapper.isSupported())return!1;var s=(a=i.MraidWrapper.runMraidFunctionSafely("getSDKVersion")).split(".");e=s[0],n=s[1],r=e>3||3==e&&n>=4,o=i.MraidWrapper.isAdColony()}catch(t){}return!(!r||!o)&&(t.mraidVersion=a.toString(),!0)},t.prototype.registerExposureChange=function(){this.exposureChangeRegistered||(i.MraidWrapper.runMraidRegisterSafely("exposureChange",this.handleExposureChangeEvent.bind(this)),this.exposureChangeRegistered=!0)},t.prototype.getAdCandidateAssets=function(t){if(i.MraidWrapper.getIsMraidReady())return this.registerExposureChange(),{viewportSize:this.getViewportSize(),screenSize:this.getScreenSize(),adGeometric:i.MraidWrapper.runMraidFunctionSafely("getDefaultPosition"),percentage:this.viewabilityPercentage,viewabilityCalculationType:this.getMethodId()}},t.prototype.getViewportSize=function(){return i.MraidWrapper.runMraidFunctionSafely("getScreenSize")},t.prototype.getScreenSize=function(){var t,e,n,r=this.getViewportSize();return r?(e=r.height,n=r.width):(e=(t=o.BrowserAdaptor.getScreenSize()).height,n=t.width),{height:e,width:n}},t.prototype.getMethodId=function(){return r.ViewabilityCalculationType.AdColonyMraid},t.prototype.destroyAdCandidateMethod=function(){},t.prototype.handleExposureChangeEvent=function(t){this.viewabilityPercentage=t},t}();e.AdColonyMethodClass=a,e.AdColonyMethod=new a},6136:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AmpIntersectionObserverMethod=e.AmpIntersectionObserverMethodClass=void 0;var o=n(6089),a=n(7526),s=n(5191),d=n(9817),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(t){var e=t.windowElement,n=d.BrowserDetector.getBrowserId()!=a.Browser.IE||parseInt(d.BrowserDetector.getBrowserVersion())>11,r=128==(128&s.WindowAdaptor.getScenarioType());return n&&r&&!(!e.context||!e.context.observeIntersection)},e.prototype.getAdCandidateAssets=function(t){var e=t.domElement,n=this.getContainerSize(t);this.init(t);var r=o.BrowserAdaptor.getBoundingClientRect(e),i=this.getAdViewablePercentage(t),a=this.getAdPosition(t);return{viewportSize:this.getViewportSize(t.windowElement),containerSize:n,screenSize:this.getScreenSize(),adGeometric:{x:a.left,y:a.top,width:r.width,height:r.height},percentage:i,viewabilityCalculationType:this.getMethodId()}},e.prototype.getViewportSize=function(t){return o.BrowserAdaptor.getOuterViewport(t)},e.prototype.getMethodId=function(){return a.ViewabilityCalculationType.AmpIntersectionObserver},e.prototype.destroyAdCandidateMethod=function(t){t.ampIntersectionObserverStopFunction&&t.ampIntersectionObserverStopFunction()},e.prototype.getAdViewablePercentage=function(t){return t.intersectionObserverData?100*t.intersectionObserverData.intersectionRatio:0},e.prototype.getAdPosition=function(t){if(!t.intersectionObserverData)return{top:0,left:0};var e=t.intersectionObserverData.boundingClientRect;return{top:e.top,left:e.left}},e.prototype.init=function(t){if(!t.ampIntersectionObserverStopFunction){var e=t.windowElement,n=this.visibilityChangeCallback.bind(this,t);t.ampIntersectionObserverStopFunction=e.context.observeIntersection(n)}},e.prototype.visibilityChangeCallback=function(t,e){e.forEach((function(e){return t.intersectionObserverData=e}))},e}(n(812).WebCalculationMethodBase);e.AmpIntersectionObserverMethodClass=p,e.AmpIntersectionObserverMethod=new p},2658:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){window.isReady=!1,window.animateFrameRate=0;var t=0,e=0,n=requestAnimationFrame||webkitRequestAnimationFrame,r=function(e){t++,n(r)};n(r),setInterval((function(){t<10&&n(r),window.animateFrameRate=t-e,e=t}),100),setTimeout((function(){window.isReady=!0}),250)}},5236:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GeometricMethod=e.GeometricMethodClass=void 0;var o=n(6089),a=n(5191),s=n(7526),d=n(4747),p=n(708),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){return!(128==(128&a.WindowAdaptor.getScenarioType()))},e.prototype.getAdCandidateAssets=function(t){var e=t.domElement,n=t.windowElement,r=this.getAssetVisibleDimension(e,n),i=this.getAssetPercentageInViewRelativeToDirectParent(e,n),o=this.getViewportSize(),a=this.getContainerSize(t),s=this.getOffScreenAssetVisibleDimension(r,n),p=this.getOffScreenViewportSize(n),c=d.Utilities.getElementVisiblePercentage(r,o);c&&i&&(c*=i);var u=d.Utilities.getElementVisiblePercentage(s,p);return{viewportSize:o,containerSize:a,screenSize:this.getScreenSize(),adGeometric:{y:r.top,x:r.left,width:r.width,height:r.height},percentage:c,offScreenPercentage:u,viewabilityCalculationType:this.getMethodId()}},e.prototype.getViewportSize=function(){return o.BrowserAdaptor.getInnerViewport()},e.prototype.getMethodId=function(){return s.ViewabilityCalculationType.Geometric},e.prototype.getBoundariesViewability=function(t){var e=t.domElement,n=this.getAssetVisibleDimension(e,t.windowElement),r=this.getViewportSize(),i={topLeft:!0,topRight:!0,bottomLeft:!0,bottomRight:!0};return(n.top<0||n.top>r.height)&&(i.topLeft=i.topRight=!1),(n.bottom<0||n.bottom>r.height)&&(i.bottomLeft=i.bottomRight=!1),(n.left<0||n.left>r.width)&&(i.bottomLeft=i.topLeft=!1),(n.right<0||n.right>r.width)&&(i.bottomRight=i.topRight=!1),i},e.prototype.getOffScreenViewportSize=function(t){var e={width:this.getViewportSize().width,height:this.getViewportSize().height},n=o.BrowserAdaptor.getViewportAssetsRelativeToScreen(t),r=o.BrowserAdaptor.getOuterViewport(t).height-e.height,i=n.top+r,a=o.BrowserAdaptor.getScreenSize();return n.left<0?e.width+=n.left:n.left>0&&n.left+e.width>a.width&&(e.width=a.width-n.left),i>0&&i+e.height>a.height&&(e.height=a.height-i),e},e.prototype.getAssetVisibleDimension=function(t,e){var n={width:0,height:0,left:0,right:0,top:0,bottom:0},r=a.WindowAdaptor.getWindowParent(e);try{if(t&&(n=this.getElementPositionRelativeToViewport(t,e),e!=r)){var i=this.getAssetVisibleDimension(e.frameElement,r);n.bottom=Math.min(n.bottom,i.bottom),n.top=Math.max(n.top,i.top),n.right=Math.min(n.right,i.right),n.left=Math.max(n.left,i.left),n.width=n.right-n.left,n.height=n.bottom-n.top}}catch(t){}return n},e.prototype.getAssetPercentageInViewRelativeToDirectParent=function(t,e){try{var n=this.getAssetVisibleDimension(t,e);if(t){var r=o.BrowserAdaptor.getBoundingClientRect(t),i=r.right-r.left,a=(r.bottom-r.top)*i;if(a<=0)return;return n.height*n.width/a}}catch(t){p.MessageHandler.sendError(s.ClientErrorType.MeasurementError,t,"percentage_in_view_geometric_calculation_err")}},e.prototype.getOffScreenAssetVisibleDimension=function(t,e){var n=o.BrowserAdaptor.getViewportAssetsRelativeToScreen(e).left,r={left:t.left,right:t.right,top:t.top,bottom:t.bottom,height:t.height,width:t.width};return n<0&&(r.left+=n,r.right+=n),r},e.prototype.getElementPositionRelativeToViewport=function(t,e){var n={left:0,right:0,top:0,bottom:0,width:0,height:0},r=a.WindowAdaptor.getWindowParent(e),i=o.BrowserAdaptor.getBoundingClientRect(t);return e!=r&&(n=this.getElementPositionRelativeToViewport(e.frameElement,r)),n={left:i.left+n.left,right:i.right+n.left,top:i.top+n.top,bottom:i.bottom+n.top,width:i.width,height:i.height}},e}(n(812).WebCalculationMethodBase);e.GeometricMethodClass=c,e.GeometricMethod=new c},9065:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.IntersectionObserverMethod=e.IntersectionObserverMethodClass=void 0;var o=n(6089),a=n(7526),s=n(5191),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.threshold=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],e}return i(e,t),e.prototype.isSupported=function(t){return 128==(128&s.WindowAdaptor.getScenarioType())&&this.isIntersectionObserverSupported(t.windowElement)},e.prototype.isIntersectionObserverSupported=function(t){return"IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype},e.prototype.getAdCandidateAssets=function(t){var e=t.domElement,n=this.getContainerSize(t);this.init(t);var r=o.BrowserAdaptor.getBoundingClientRect(e),i=this.getAdViewablePercentage(t),a=this.getAdPosition(t);return{viewportSize:this.getViewportSize(t.windowElement),containerSize:n,screenSize:this.getScreenSize(),adGeometric:{x:a.left,y:a.top,width:r.width,height:r.height},percentage:i,viewabilityCalculationType:this.getMethodId()}},e.prototype.getViewportSize=function(t){return o.BrowserAdaptor.getOuterViewport(t)},e.prototype.getMethodId=function(){return a.ViewabilityCalculationType.IntersectionObserver},e.prototype.destroyAdCandidateMethod=function(t){t.intersectionObserverObj&&t.intersectionObserverObj.unobserve(t.domElement)},e.prototype.getAdViewablePercentage=function(t){return t.intersectionObserverData&&t.intersectionObserverData.intersectionRatio?100*t.intersectionObserverData.intersectionRatio:0},e.prototype.getAdPosition=function(t){var e={top:0,left:0};return t.intersectionObserverData&&t.intersectionObserverData.intersectionRect&&(e={top:t.intersectionObserverData.intersectionRect.top,left:t.intersectionObserverData.intersectionRect.left}),e},e.prototype.init=function(t){if(!t.intersectionObserverObj){var e=t.domElement,n=this.visibilityChangeCallback.bind(this,t);t.intersectionObserverObj=new t.windowElement.IntersectionObserver(n,{threshold:this.threshold}),t.intersectionObserverObj.observe(e)}},e.prototype.visibilityChangeCallback=function(t,e){e.forEach((function(e){return t.intersectionObserverData=e}))},e}(n(812).WebCalculationMethodBase);e.IntersectionObserverMethodClass=d,e.IntersectionObserverMethod=new d},2119:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Mraid3Method=e.Mraid3MethodClass=void 0;var r=n(7526),i=n(3985),o=n(6089),a=function(){function t(){this.exposureChangeRegistered=!1}return t.prototype.isSupported=function(t){var e,n;try{e=(n=i.MraidWrapper.runMraidFunctionSafely("getVersion")).split(".")[0]}catch(t){}return!(!i.MraidWrapper.isSupported()||"3"!=e)&&(t.mraidVersion=n,!0)},t.prototype.registerExposureChange=function(){this.exposureChangeRegistered||(i.MraidWrapper.runMraidRegisterSafely("exposureChange",this.handleExposureChangeEvent.bind(this)),this.exposureChangeRegistered=!0)},t.prototype.handleExposureChangeEvent=function(t){this.viewabilityPercentage=t.exposedPercentage},t.prototype.getAdCandidateAssets=function(t){if(i.MraidWrapper.getIsMraidReady())return this.registerExposureChange(),{viewportSize:this.getViewportSize(),screenSize:this.getScreenSize(),adGeometric:i.MraidWrapper.runMraidFunctionSafely("getDefaultPosition"),percentage:null!=this.viewabilityPercentage?this.viewabilityPercentage:i.MraidWrapper.getAdViewablePercentage(),viewabilityCalculationType:this.getMethodId()}},t.prototype.getViewportSize=function(){return i.MraidWrapper.runMraidFunctionSafely("getScreenSize")},t.prototype.getScreenSize=function(){var t,e,n,r=this.getViewportSize();return r?(e=r.height,n=r.width):(e=(t=o.BrowserAdaptor.getScreenSize()).height,n=t.width),{height:e,width:n}},t.prototype.getMethodId=function(){return r.ViewabilityCalculationType.Mraid3},t.prototype.destroyAdCandidateMethod=function(){},t}();e.Mraid3MethodClass=a,e.Mraid3Method=new a},4270:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.MraidMethod=e.MraidMethodClass=void 0;var r=n(7526),i=n(3985),o=n(6089),a=function(){function t(){}return t.prototype.isSupported=function(t){return!!i.MraidWrapper.isSupported()&&(t.mraidVersion=i.MraidWrapper.runMraidFunctionSafely("getVersion"),!0)},t.prototype.getAdCandidateAssets=function(t){if(i.MraidWrapper.getIsMraidReady()){var e=i.MraidWrapper.runMraidFunctionSafely("getDefaultPosition"),n={height:(o=void 0===(r=e)?{}:r).height,width:o.width};return{viewportSize:this.getViewportSize(),containerSize:n,screenSize:this.getScreenSize(),adGeometric:i.MraidWrapper.runMraidFunctionSafely("getDefaultPosition"),percentage:i.MraidWrapper.getAdViewablePercentage(),viewabilityCalculationType:this.getMethodId()}}var r,o},t.prototype.getViewportSize=function(){return i.MraidWrapper.runMraidFunctionSafely("getScreenSize")},t.prototype.getScreenSize=function(){var t,e,n,r=this.getViewportSize();return r?(e=r.height,n=r.width):(e=(t=o.BrowserAdaptor.getScreenSize()).height,n=t.width),{height:e,width:n}},t.prototype.getMethodId=function(){return r.ViewabilityCalculationType.Mraid},t.prototype.destroyAdCandidateMethod=function(){},t}();e.MraidMethodClass=a,e.MraidMethod=new a},4995:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidMethod=e.OmidMethodClass=void 0;var r=n(7526),i=n(5137),o=n(6089),a=n(137),s=n(652),d=n(8245),p=n(708),c=n(4747),u=function(){function t(){}return t.prototype.isSupported=function(t){return i.OmidWrapper.isSupported()},t.prototype.getAdCandidateAssets=function(t){this.init(t);var e,n,r,i=t.omidViewport,o=t.omidContainerSize,p=0;if(t.omidAdView&&(e=t.omidAdView.percentageInView,n=t.omidAdView.geometry,r=t.omidAdView.reasons),Array.isArray(r)&&r.length){r.forEach((function(t){return p|=a.OmidGeometryReasonLog[t]}));var c=t.omidGeometryReasonsBitWise|p;p&&c!=t.omidGeometryReasonsBitWise&&(t.omidGeometryReasonsBitWise=c,s.EventBus.dispatchEvent(s.DvEvent.reportData,new d.AdCandidateEventData(t)))}return{viewportSize:i,screenSize:this.getScreenSize(null,t),adGeometric:n,percentage:e,viewabilityCalculationType:this.getMethodId(),containerSize:o}},t.prototype.getViewportSize=function(t,e){return e.omidViewport},t.prototype.getScreenSize=function(t,e){var n,r,i,a=this.getViewportSize(null,e);return a?(r=a.height,i=a.width):(r=(n=o.BrowserAdaptor.getScreenSize()).height,i=n.width),{height:r,width:i}},t.prototype.getMethodId=function(){return r.ViewabilityCalculationType.Omid},t.prototype.destroyAdCandidateMethod=function(){},t.prototype.init=function(t){var e=this;t.omidInitialized||(t.omidInitialized=!0,["geometryChange","impression"].forEach((function(n){return i.OmidWrapper.addEventListener(n,e.geometryChangeCallback.bind(e,t,n))})))},t.prototype.geometryChangeCallback=function(t,e,n){if(n&&n.data){var r=n.data;r.adView&&(t.omidAdView=r.adView,"geometryChange"===e&&!t.omidFirstAdSizeFromGeometryMs&&r.adView.geometry&&r.adView.geometry.width>0&&r.adView.geometry.height>0&&(t.omidFirstAdSizeFromGeometryMs=c.Utilities.getTimeDiff(),t.omidMeasuredElementType=this.extractMeasuredElementType(r.adView),t.omidContainerSize=this.extractContainerSize(n),p.MessageHandler.sendMessage({dvp_omfadsfgms:t.omidFirstAdSizeFromGeometryMs}))),r.viewport&&(t.omidViewport=r.viewport)}},t.prototype.extractContainerSize=function(t){var e;try{var n=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.adView,r=null==n?void 0:n.measuringElement,i=function(t){var e=void 0===t?{}:t;return{height:e.height,width:e.width}};if(r)return i(n.containerGeometry);var o=null==n?void 0:n.geometry;if(o)return i(o)}catch(t){}},t.prototype.extractMeasuredElementType=function(t){try{return!0===(null==t?void 0:t.measuringElement)?1:2}catch(t){return 0}},t}();e.OmidMethodClass=u,e.OmidMethod=new u},3655:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceBased=e.ResourceBasedClass=void 0;var o=n(6089),a=n(7526),s=n(5191),d=n(4747),p=n(137),c=n(5941),u=n(9817),l=n(2658),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){var t=(u.BrowserDetector.getBrowserId()==a.Browser.Safari||u.BrowserDetector.getBrowserId()==a.Browser.SafariWebView)&&!/^[3-8]/.test(u.BrowserDetector.getBrowserVersion())||(u.BrowserDetector.getBrowserId()==a.Browser.Chrome||u.BrowserDetector.getBrowserId()==a.Browser.ChromeWebView)&&parseInt(u.BrowserDetector.getBrowserVersion())>=50;return 128==(128&s.WindowAdaptor.getScenarioType())&&t},e.prototype.getAdCandidateAssets=function(t){t.resourceBasedBeacons||this.createFrameBeacons(t);var e,n=this.getContainerSize(t),r=t.domElement,i=o.BrowserAdaptor.getBoundingClientRect(r);if(this.checkBeaconsMechanism(t)){var a=t.resourceBasedBeacons[0];e=c.BeaconsAdaptor.getElementVisiblePercentageWithBeacons(t.resourceBasedBeacons,this.isBeaconViewable.bind(this,a))}return{viewportSize:this.getViewportSize(t.windowElement),containerSize:n,screenSize:this.getScreenSize(),adGeometric:{x:0,y:0,width:i.width,height:i.height},percentage:e,viewabilityCalculationType:this.getMethodId()}},e.prototype.getViewportSize=function(t){return o.BrowserAdaptor.getOuterViewport(t)},e.prototype.getMethodId=function(){return a.ViewabilityCalculationType.ResourceBased},e.prototype.destroyAdCandidateMethod=function(t){if(t.resourceBasedBeacons){var e=t.resourceBasedBeacons[0].parentElement,n=s.WindowAdaptor.workingDocument(t.windowElement);s.WindowAdaptor.workingBody(n).removeChild(e),t.resourceBasedBeacons=null}},e.prototype.getBoundariesViewability=function(t){t.resourceBasedBeacons||this.createFrameBeacons(t);var e={topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1};if(!this.checkBeaconsMechanism(t))return e;for(var n=t.resourceBasedBeacons[0],r=1;r<=4;r++){var i=t.resourceBasedBeacons[r];if(this.isBeaconViewable(n,i))switch(r){case 1:e.topLeft=!0;break;case 2:e.topRight=!0;break;case 3:e.bottomLeft=!0;break;case 4:e.bottomRight=!0}}return e},e.prototype.isBeaconViewable=function(t,e){var n=s.WindowAdaptor.getIframeWindow(t).animateFrameRate;return s.WindowAdaptor.getIframeWindow(e).animateFrameRate-n>p.BeaconConstants.FRAME_RATE_VIEW_THRESHOLD},e.prototype.createFrameBeacons=function(t){t.resourceBasedBeacons=[];var e=s.WindowAdaptor.workingDocument(t.windowElement),n=o.BrowserAdaptor.createElement("div");s.WindowAdaptor.workingBody(e).appendChild(n);var r=[];d.Utilities.times(p.BeaconConstants.TOTAL_BEACONS,(function(){var t=o.BrowserAdaptor.createElement("iframe");t.width=p.BeaconConstants.JS_BEACON_SIZE.toString(),t.height=p.BeaconConstants.JS_BEACON_SIZE.toString(),t.style.position="absolute",t.frameBorder="0",t.style.visibility="hidden",n.appendChild(t);var e=t.contentDocument.createElement("script");e.innerHTML="("+l.default.toString()+")()",t.contentDocument.body.appendChild(e),r.push(t)})),t.resourceBasedBeacons=r,c.BeaconsAdaptor.positionBeacons(t.domElement,r,p.BeaconConstants.JS_BEACON_SIZE)},e.prototype.checkBeaconsMechanism=function(t){if(!t.resourceBasedBeacons||0==t.resourceBasedBeacons.length)return!1;var e=t.resourceBasedBeacons[0],n=s.WindowAdaptor.getIframeWindow(e),r=n.animateFrameRate;return n.isReady&&r<p.BeaconConstants.FRAME_RATE_CONTROL_THRESHOLD},e}(n(812).WebCalculationMethodBase);e.ResourceBasedClass=v,e.ResourceBased=new v},4780:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScreenGeometricMethod=e.ScreenGeometricMethodClass=void 0;var o=n(6089),a=n(7526),s=n(9817),d=n(5191),p=n(4747),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(t){var e=t.windowElement,n=128==(128&d.WindowAdaptor.getScenarioType()),r=s.BrowserDetector.getBrowserId()==a.Browser.IE&&null!=e.screenTop&&null!=e.screenLeft,i=s.BrowserDetector.getBrowserId()==a.Browser.Firefox&&null!=e.mozInnerScreenX&&null!=e.mozInnerScreenY;return n&&(r||i)},e.prototype.getAdCandidateAssets=function(t){var e=t.domElement,n=this.getViewportSize(t.windowElement),r=this.getContainerSize(t),i={width:0,height:0,left:0,right:0,top:0,bottom:0},a=o.BrowserAdaptor.getViewportAssetsRelativeToScreen(t.windowElement),s=o.BrowserAdaptor.getIframeAssetsRelativeToScreen(t.windowElement),d=s.left-a.left,c=s.top-a.top,u=o.BrowserAdaptor.getBoundingClientRect(e);i.left=d+u.left,i.right=d+u.right,i.top=c+u.top,i.bottom=c+u.bottom,i.width=u.width,i.height=u.height;var l=p.Utilities.getElementVisiblePercentage(i,n);return{viewportSize:this.getViewportSize(t.windowElement),containerSize:r,screenSize:this.getScreenSize(),adGeometric:{x:i.left,y:i.top,width:i.width,height:i.height},percentage:l,viewabilityCalculationType:this.getMethodId()}},e.prototype.getViewportSize=function(t){return o.BrowserAdaptor.getOuterViewport(t)},e.prototype.getMethodId=function(){return a.ViewabilityCalculationType.ScreenGeometric},e}(n(812).WebCalculationMethodBase);e.ScreenGeometricMethodClass=c,e.ScreenGeometricMethod=new c},812:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCalculationMethodBase=void 0;var r=n(5191),i=n(6089),o=function(){function t(){}return t.prototype.getContainerSize=function(t){try{return r.WindowAdaptor.getElementWindowDimensions(t.domElement)}catch(t){}},t.prototype.getScreenSize=function(){return i.BrowserAdaptor.getScreenSize()},t.prototype.destroyAdCandidateMethod=function(t){},t}();e.WebCalculationMethodBase=o},9422:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenAdsDataCollector=void 0;var o=n(584),a=n(4472),s=n(6089),d=n(5191),p=n(7258),c=n(4747),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){return!(d.WindowAdaptor.isDomlessEnvironment()||128==(128&d.WindowAdaptor.getScenarioType()))},e.prototype.startCollectData=function(t){var e=0;try{var n=p.DvTagDataObject.isSellerTag(),r=c.Utilities.isPercentageCriteriaPassed(5),i=a.DvObject.isCTV()||a.DvObject.isMobileApp()||t.supportedDeliveryType.some((function(t){return 3==t||4==t}));e=!r||n||i||!t.domElement?0:s.BrowserAdaptor.isAdElementHidden(t.domElement)}catch(t){e=-1}t.hiddenAdsIndicator=e},e.prototype.stopCollectData=function(t){},e}(o.BaseAdDataCollector);e.HiddenAdsDataCollector=u},2163:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AutoplayDataCollector=void 0;var o=n(584),a=n(7258),s=n(7526),d=n(2335),p=n(652),c=n(2318),u=n(718),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){return a.DvTagDataObject.getTagType()==s.DvTagType.Video},e.prototype.startCollectData=function(t){var e=p.EventBus.addEventListener(p.DvEvent.videoStartPlaying,this.checkIsAutoplay.bind(this));t.autoplayEventSubscriptionIds.push(e)},e.prototype.stopCollectData=function(t){p.EventBus.removeEventListener(t.autoplayEventSubscriptionIds[0])},e.prototype.getSupportedAutoplayMethods=function(t){return[d.DetectAutoplayByAutoplayAttribute,c.DetectAutoplayByTime,u.DetectAutoplayByJWPlayer].filter((function(e){return e.isSupported(t)}))},e.prototype.checkIsAutoplay=function(t){var e=t.adCandidate;if(void 0===e.autoplayDetectionMethod){var n=e,r=this.getSupportedAutoplayMethods(e);n.autoplayDetectionMethod=0,r.forEach((function(t){t.isAutoplayed(e)&&(n.autoplayDetectionMethod=n.autoplayDetectionMethod|t.getMethodId())}))}},e}(o.BaseAdDataCollector);e.AutoplayDataCollector=l},2335:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.DetectAutoplayByAutoplayAttribute=e.DetectAutoplayByAutoplayAttributeClass=void 0;var r=n(4747),i=n(6089),o=function(){function t(){}return t.prototype.isSupported=function(t){return t&&r.Utilities.isVideoElement(t.domElement)},t.prototype.getMethodId=function(){return 1},t.prototype.isAutoplayed=function(t){return i.BrowserAdaptor.getAttribute(t.domElement,"autoplay")||!1},t}();e.DetectAutoplayByAutoplayAttributeClass=o,e.DetectAutoplayByAutoplayAttribute=new o},718:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.DetectAutoplayByJWPlayer=e.DetectAutoplayByJWPlayerClass=void 0;var r=n(5191),i=function(){function t(){}return t.prototype.isSupported=function(){return"function"==typeof r.WindowAdaptor.workingWindow().jwplayer},t.prototype.getMethodId=function(){return 2},t.prototype.isAutoplayed=function(){var t=!1,e=r.WindowAdaptor.workingWindow().jwplayer(),n=e&&e.getConfig&&e.getConfig();return n&&(t=n.autostart),t},t}();e.DetectAutoplayByJWPlayerClass=i,e.DetectAutoplayByJWPlayer=new i},2318:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.DetectAutoplayByTime=e.DetectAutoplayByTimeClass=void 0;var r=n(4747),i=n(6089),o=function(){function t(){this.isAutoplayedTimeThreshold=1e3}return t.prototype.isSupported=function(){return!0},t.prototype.getMethodId=function(){return 4},t.prototype.isAutoplayed=function(t){var e=i.BrowserAdaptor.getNavigationStartTime(),n=!1;return e&&(n=t.videoStartTime-r.Utilities.getTimeDiff(e)<=this.isAutoplayedTimeThreshold),n},t}();e.DetectAutoplayByTimeClass=o,e.DetectAutoplayByTime=new o},584:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseAdDataCollector=void 0;var r=n(652),i=function(){function t(){var t;this.isSupported()&&r.EventBus.addEventsListener(((t={})[r.DvEvent.adCandidateApproved]=this.startCollectDataWrapper.bind(this),t[r.DvEvent.adDestroy]=this.stopCollectDataWrapper.bind(this),t))}return t.prototype.startCollectDataWrapper=function(t){this.startCollectData(t.adCandidate)},t.prototype.stopCollectDataWrapper=function(t){this.stopCollectData(t.adCandidate)},t}();e.BaseAdDataCollector=i},9998:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseDataCollector=void 0;var n=function(){this.isSupported()&&this.startCollectData()};e.BaseDataCollector=n},8109:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseGlobalDataCollector=void 0;var r=n(652),i=function(){function t(){var t;this.isSupported()&&(this.startCollectData(),r.EventBus.addEventsListener(((t={})[r.DvEvent.adCandidateApproved]=this.registerToGlobalEvent.bind(this),t)))}return t.prototype.processAdDataWrapper=function(t){this.processAdData(t.adCandidate)},t.prototype.registerToGlobalEvent=function(t){r.EventBus.addEventListener(this.getGlobalEventName(),this.processAdDataWrapper.bind(this,t))},t}();e.BaseGlobalDataCollector=i},7312:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BoundariesViewabilityDataCollector=void 0;var o=n(3655),a=n(5236),s=n(652),d=n(8245),p=n(584),c=n(5137),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){return!c.OmidWrapper.isSupported()},e.prototype.startCollectData=function(t){if(t.supportedDeliveryType.some((function(t){return 2==t}))){var e=this.getSupportedMethod(t);if(!e)return;s.EventBus.addEventListener(s.DvEvent.viewabilityIntervalData,this.handleViewabilityData.bind(this,e))}},e.prototype.stopCollectData=function(t){o.ResourceBased.destroyAdCandidateMethod(t)},e.prototype.getArea=function(t){if(t&&t.width&&t.height)return t.width*t.height},e.prototype.handleViewabilityData=function(t,e){var n=e.adCandidate,r=e.relevantData,i=this.getArea(r.adGeometric),o=this.getArea(r.viewportSize);i&&o&&i<o||this.publishAdBoundariesViewabilityData(t,n)},e.prototype.getSupportedMethod=function(t){return[a.GeometricMethod,o.ResourceBased].filter((function(e){return e.isSupported(t)}))[0]},e.prototype.publishAdBoundariesViewabilityData=function(t,e){var n=t.getBoundariesViewability(e);s.EventBus.dispatchEvent(s.DvEvent.boundariesViewabilityIntervalData,new d.AdCandidateEventData(e,{boundariesViewability:n}))},e}(p.BaseAdDataCollector);e.BoundariesViewabilityDataCollector=u},5439:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionAdSizeDataCollector=void 0;var o=n(652),a=n(584),s=n(8245),d=n(5137),p=n(6089),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.interval=100,e}return i(e,t),e.prototype.isSupported=function(){return!d.OmidWrapper.isSupported()},e.prototype.startCollectData=function(t){var e=this;t.adSizeIntervalId=p.BrowserAdaptor.setInterval((function(){try{e.handleAdSize(t)}catch(t){}}),this.interval)},e.prototype.handleAdSize=function(t){var e=t.domElement,n={width:e.clientWidth,height:e.clientHeight};n.width&&n.height&&this.reportData(t,{adSize:n})},e.prototype.reportData=function(t,e){o.EventBus.dispatchEvent(o.DvEvent.adSizeData,new s.AdCandidateEventData(t,e))},e.prototype.stopCollectData=function(t){p.BrowserAdaptor.clearInterval(t.adSizeIntervalId)},e}(a.BaseAdDataCollector);e.InteractionAdSizeDataCollector=c},8158:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionEventDataCollector=void 0;var o,a=n(652),s=n(6089),d=n(584),p=n(8245),c=n(5137),u=n(5191),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.interactionEventSubscriptionMap={click:{dvEventToDispatch:a.DvEvent.firstClickOnAdElementData,elementToListenTo:"adCandidate"},mouseover:{dvEventToDispatch:a.DvEvent.firstHoverData,elementToListenTo:"adCandidate"},touchstart:{dvEventToDispatch:a.DvEvent.firstTouchData,elementToListenTo:"adCandidate"},blur:{dvEventToDispatch:a.DvEvent.firstFocusIntoAdElementData,elementToListenTo:"topAccessibleWindow",condition:function(t){return t.domElement===u.WindowAdaptor.workingDocument().activeElement}}},e}return i(e,t),e.prototype.isSupported=function(){return!c.OmidWrapper.isSupported()},e.prototype.startCollectData=function(t){var e=this;Object.keys(this.interactionEventSubscriptionMap).forEach((function(n){var r=e.getElementToListenTo(n,t),i=e.handleElementEvent.bind(e,t,n);t.domEvents[n]=i,s.BrowserAdaptor.addEventListener(n,i,r)}))},e.prototype.getElementToListenTo=function(t,e){return"topAccessibleWindow"===this.interactionEventSubscriptionMap[t].elementToListenTo?u.WindowAdaptor.getTopAccessibleWindow():e.domElement},e.prototype.handleElementEvent=function(t,e){var n=this.interactionEventSubscriptionMap[e].condition;n&&!n(t)||(a.EventBus.dispatchEvent(this.interactionEventSubscriptionMap[e].dvEventToDispatch,new p.AdCandidateEventData(t)),this.removeEventListener(e,t))},e.prototype.stopCollectData=function(t){var e=this;Object.keys(this.interactionEventSubscriptionMap).forEach((function(n){e.removeEventListener(n,t)}))},e.prototype.removeEventListener=function(t,e){var n=this.getElementToListenTo(t,e);s.BrowserAdaptor.removeEventListener(t,e.domEvents[t],n)},e}(d.BaseAdDataCollector);e.InteractionEventDataCollector=l,function(t){t.AdCandidate="adCandidate",t.TopAccessibleWindow="topAccessibleWindow"}(o||(o={}))},5314:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionUnloadDataCollector=void 0;var o=n(6089),a=n(5191),s=n(652),d=n(4747),p=n(4472),c=n(8245),u=n(5137),l=n(8109),v=n(7083),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.startCollectData=function(){this.registerToDomEnvironment(),this.registerToOmidEnvironment(),this.timeoutId=o.BrowserAdaptor.setTimeout(this.reportDueToTimeout.bind(this),84e4)},e.prototype.getGlobalEventName=function(){return s.DvEvent.globalUnloadData},e.prototype.processAdData=function(t){var e=d.Utilities.getTimeDiff();t.timeUntilUnloadMs=e,t.timeUntilUnloadMsParam=e,s.EventBus.dispatchEvent(s.DvEvent.unloadData,new c.AdCandidateEventData(t)),s.EventBus.dispatchEvent(s.DvEvent.reportData,new c.AdCandidateEventData(t)),t.wasAdStopped=!0},e.prototype.isSupported=function(){return!0},e.prototype.shouldSubscribeUnload=function(){return!v.ScriptDynamicFlags.getInstance().isTurnedOn(131072)},e.prototype.getSubscribedEvents=function(){return this.shouldSubscribeUnload()?["beforeunload","pagehide","unload"]:["beforeunload","pagehide"]},e.prototype.registerToDomEnvironment=function(){this.domEvents={},s.EventBus.addEventListener(s.DvEvent.impressionServed,this.registerToVisibilityChange.bind(this),"InteractionUnloadDataCollector"),this.getSubscribedEvents().forEach(this.registerUnloadEvent.bind(this))},e.prototype.registerUnloadEvent=function(t){var e=this.handleUnload.bind(this);this.domEvents[t]=e,[a.WindowAdaptor.workingWindow(),a.WindowAdaptor.currentWindow()].forEach((function(n){o.BrowserAdaptor.addEventListener(t,e,n)}))},e.prototype.registerToOmidEnvironment=function(){u.OmidWrapper.isSupported()&&u.OmidWrapper.registerSessionObserver(this.handleOmidUnload.bind(this))},e.prototype.reportDueToTimeout=function(){this.timeMsUntilUnload||this.handleUnload()},e.prototype.registerToVisibilityChange=function(){var t=this.handleUnloadForVisibilityChange.bind(this);if(p.DvObject.isMobile()&&o.BrowserAdaptor.isVisibilityChangeEventSupported()){this.lastVisibilityState=a.WindowAdaptor.currentDocument().visibilityState;var e=o.BrowserAdaptor.getVisibilityPrefix()+"visibilitychange";o.BrowserAdaptor.addEventListener(e,t,a.WindowAdaptor.workingDocument()),this.domEvents[e]=t}},e.prototype.handleUnloadForVisibilityChange=function(){var t=a.WindowAdaptor.currentDocument().visibilityState;this.lastVisibilityState!=t&&"hidden"===t&&this.handleUnload(),this.lastVisibilityState=t},e.prototype.isMaxTimePassed=function(){var t=d.Utilities.getTimeDiff();return!(!this.timeMsUntilUnload&&t<12e5)||(this.timeMsUntilUnload=t,!1)},e.prototype.handleUnload=function(){this.isMaxTimePassed()||this.unloadFired||(s.EventBus.dispatchEvent(this.getGlobalEventName(),new c.EventData),this.unloadFired=!0)},e.prototype.handleOmidUnload=function(t){"sessionFinish"===t.type&&this.handleUnload()},e}(l.BaseGlobalDataCollector);e.InteractionUnloadDataCollector=f},2689:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.OmidInteractionDataCollector=void 0;var o=n(652),a=n(584),s=n(8245),d=n(5137),p=n(137),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){return d.OmidWrapper.isSupported()},e.prototype.startCollectData=function(t){var e=this;Object.keys(p.OmidEvents).forEach((function(n){return d.OmidWrapper.addEventListener(n,e.handleOmidEvent.bind(e,n,t))}))},e.prototype.handleOmidEvent=function(t,e,n){var r;if("adUserInteraction"===t)"click"===(null===(r=null==n?void 0:n.data)||void 0===r?void 0:r.interactionType)&&o.EventBus.dispatchEvent(o.DvEvent.omidClickData,new s.AdCandidateEventData(e))},e.prototype.stopCollectData=function(t){},e}(a.BaseAdDataCollector);e.OmidInteractionDataCollector=c},2105:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionKeyPressDataCollector=void 0;var o=n(8109),a=n(652),s=n(5191),d=n(6089),p=n(8245),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){return!0},e.prototype.getGlobalEventName=function(){return a.DvEvent.globalKeyPressData},e.prototype.startCollectData=function(){var t=s.WindowAdaptor.workingWindow(),e=s.WindowAdaptor.getTopAccessibleWindow();d.BrowserAdaptor.addEventListener("keypress",this.handleKeyPressEvent.bind(this),t),e!=t&&d.BrowserAdaptor.addEventListener("keypress",this.handleKeyPressEvent.bind(this),e)},e.prototype.handleKeyPressEvent=function(){a.EventBus.dispatchEvent(this.getGlobalEventName(),new p.EventData)},e.prototype.processAdData=function(t){a.EventBus.dispatchEvent(a.DvEvent.keyPressData,new p.AdCandidateEventData(t))},e}(o.BaseGlobalDataCollector);e.PageInteractionKeyPressDataCollector=c},3308:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionMouseMoveDataCollector=void 0;var o=n(8109),a=n(652),s=n(6089),d=n(8245),p=n(5191),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){return!0},e.prototype.getGlobalEventName=function(){return a.DvEvent.globalMouseMoveData},e.prototype.startCollectData=function(){var t=p.WindowAdaptor.workingWindow(),e=p.WindowAdaptor.getTopAccessibleWindow();s.BrowserAdaptor.addEventListener("mousemove",this.handleMouseMoveEvent.bind(this),t),s.BrowserAdaptor.addEventListener("touchmove",this.handleMouseMoveEvent.bind(this),t),e!=t&&(s.BrowserAdaptor.addEventListener("mousemove",this.handleMouseMoveEvent.bind(this),e),s.BrowserAdaptor.addEventListener("touchmove",this.handleMouseMoveEvent.bind(this),e))},e.prototype.handleMouseMoveEvent=function(){a.EventBus.dispatchEvent(this.getGlobalEventName(),new d.EventData)},e.prototype.processAdData=function(t){a.EventBus.dispatchEvent(a.DvEvent.mouseMoveData,new d.AdCandidateEventData(t))},e}(o.BaseGlobalDataCollector);e.PageInteractionMouseMoveDataCollector=c},2577:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionOrientationChangedDataCollector=void 0;var o=n(8109),a=n(652),s=n(8245),d=n(6089),p=n(5191),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){return void 0!==d.BrowserAdaptor.getOrientation()},e.prototype.getGlobalEventName=function(){return a.DvEvent.globalOrientationChangeData},e.prototype.startCollectData=function(){var t=p.WindowAdaptor.workingWindow();d.BrowserAdaptor.addEventListener("orientationchange",this.handleOrientationChangeEvent.bind(this),t)},e.prototype.handleOrientationChangeEvent=function(){a.EventBus.dispatchEvent(this.getGlobalEventName(),new s.EventData)},e.prototype.processAdData=function(t){90==Math.abs(d.BrowserAdaptor.getOrientation())?a.EventBus.dispatchEvent(a.DvEvent.orientationChangePortraitData,new s.AdCandidateEventData(t)):a.EventBus.dispatchEvent(a.DvEvent.orientationchangeLandscapeData,new s.AdCandidateEventData(t))},e}(o.BaseGlobalDataCollector);e.PageInteractionOrientationChangedDataCollector=c},7795:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionScrollDataCollector=void 0;var o=n(8109),a=n(652),s=n(8245),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){return!0},e.prototype.getGlobalEventName=function(){return a.DvEvent.globalScrollData},e.prototype.startCollectData=function(){a.EventBus.addEventListener(a.DvEvent.viewabilityIntervalData,this.handleViewabilityIntervalDataEvent.bind(this))},e.prototype.handleViewabilityIntervalDataEvent=function(t){var e=t.relevantData,n=e.adGeometric;e.adGeometric&&(this.adGeometric?this.adGeometric.y==n.y&&this.adGeometric.x==n.x||(this.adGeometric=n,a.EventBus.dispatchEvent(this.getGlobalEventName(),new s.EventData)):this.adGeometric=n)},e.prototype.processAdData=function(t){a.EventBus.dispatchEvent(a.DvEvent.scrollData,new s.AdCandidateEventData(t))},e}(o.BaseGlobalDataCollector);e.PageInteractionScrollDataCollector=d},6826:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FocusDataCollector=void 0;var o=n(652),a=n(6089),s=n(5191),d=n(584),p=n(8245),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){return!0},e.prototype.startCollectData=function(t){var e=t.domEvents,n=this.handleFocus.bind(this,t);if(this.handleFocus(t),a.BrowserAdaptor.isVisibilityChangeEventSupported()){var r=a.BrowserAdaptor.getVisibilityPrefix()+"visibilitychange";a.BrowserAdaptor.addEventListener(r,n,s.WindowAdaptor.workingDocument(t.windowElement)),e[r]=n}},e.prototype.handleFocus=function(t){try{var e=a.BrowserAdaptor.hasFocus();o.EventBus.dispatchEvent(o.DvEvent.focusData,new p.AdCandidateEventData(t,{focus:e}))}catch(t){}},e.prototype.stopCollectData=function(t){if(a.BrowserAdaptor.isVisibilityChangeEventSupported()){var e=a.BrowserAdaptor.getVisibilityPrefix()+"visibilitychange";a.BrowserAdaptor.removeEventListener(e,t.domEvents[e],s.WindowAdaptor.workingDocument(t.windowElement))}},e}(d.BaseAdDataCollector);e.FocusDataCollector=c},8634:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageEventsDataCollector=void 0;var o=n(652),a=n(5191),s=n(6089),d=n(9998),p=n(8245),c=n(7083),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){return!a.WindowAdaptor.isDomlessEnvironment()},e.prototype.startCollectData=function(){s.BrowserAdaptor.addEventListener("pagehide",this.handlePersistedEvent(o.DvEvent.pageHideEventPersisted,o.DvEvent.pageHideEventNonPersisted).bind(this),a.WindowAdaptor.workingWindow()),this.shouldMonitorBrowserEvents()&&(s.BrowserAdaptor.addEventListener("pageshow",this.handlePersistedEvent(o.DvEvent.pageShowEventPersisted,o.DvEvent.pageShowEventNonPersisted).bind(this),a.WindowAdaptor.workingWindow()),s.BrowserAdaptor.addEventListener("beforeunload",this.handleBrowserEvent(o.DvEvent.browserBeforeUnloadEvent).bind(this),a.WindowAdaptor.workingWindow()),s.BrowserAdaptor.addEventListener("visibilitychange",this.handleVisibilityChangeEvent.bind(this),a.WindowAdaptor.workingWindow()),this.shouldMonitorUnloadEvent()&&s.BrowserAdaptor.addEventListener("unload",this.handleBrowserEvent(o.DvEvent.browserUnloadEvent).bind(this),a.WindowAdaptor.workingWindow()))},e.prototype.shouldMonitorBrowserEvents=function(){var t=c.ScriptDynamicFlags.getInstance();return t.isTurnedOn(131072)||t.isTurnedOn(65536)},e.prototype.shouldMonitorUnloadEvent=function(){return c.ScriptDynamicFlags.getInstance().isTurnedOn(65536)},e.prototype.handlePersistedEvent=function(t,e){return function(n){var r=(null==n?void 0:n.persisted)?t:e;o.EventBus.dispatchEvent(r,new p.EventData)}},e.prototype.handleBrowserEvent=function(t){return function(){o.EventBus.dispatchEvent(t,new p.EventData)}},e.prototype.handleVisibilityChangeEvent=function(){var t;"hidden"===(null===(t=a.WindowAdaptor.workingWindow().document)||void 0===t?void 0:t.visibilityState)&&o.EventBus.dispatchEvent(o.DvEvent.visibilityChangeEventHidden,new p.EventData)},e}(d.BaseDataCollector);e.PageEventsDataCollector=u},2333:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.StrictFocusDataCollector=void 0;var o=n(652),a=n(6089),s=n(5191),d=n(584),p=n(8245),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){return!0},e.prototype.startCollectData=function(t){this.handleFocus(t),s.WindowAdaptor.windowTop()&&(t.strictFocusInterval=a.BrowserAdaptor.setInterval(this.handleFocus.bind(this,t),200))},e.prototype.handleFocus=function(t){try{var e=null==a.BrowserAdaptor.hasStrictFocus()||a.BrowserAdaptor.hasStrictFocus();o.EventBus.dispatchEvent(o.DvEvent.strictFocusData,new p.AdCandidateEventData(t,{focus:e}))}catch(t){}},e.prototype.stopCollectData=function(t){a.BrowserAdaptor.clearInterval(t.strictFocusInterval)},e}(d.BaseAdDataCollector);e.StrictFocusDataCollector=c},6022:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackDataCollector=void 0;var o=n(584),a=n(2834),s=n(3626),d=n(3863),p=n(6731),c=n(7258),u=n(652),l=n(7526),v=n(8245),f=n(5110),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){return c.DvTagDataObject.getTagType()==l.DvTagType.Video},e.prototype.startCollectData=function(t){t.videoPlaybackIndicator=t.videoPlaybackIndicatorDvp=0,t.videoPlayback=this.getSupportedVideoPlayback(t),t.videoPlayback&&(t.videoPlayback.startCollectData(t),t.videoPlaybackIndicator=t.videoPlaybackIndicatorDvp=t.videoPlayback.getIndicator(),u.EventBus.dispatchEvent(u.DvEvent.reportData,new v.AdCandidateEventData(t)))},e.prototype.stopCollectData=function(t){t.videoPlayback&&t.videoPlayback.stopCollectData(t)},e.prototype.getSupportedVideoPlayback=function(t){return[s.VideoPlaybackByOmid,p.VideoPlaybackByAdColonyVpaid,d.VideoPlaybackByVpaid,f.VideoPlaybackByInmobi,a.VideoPlaybackByHtml5].filter((function(e){return e.isSupported(t)}))[0]},e}(o.BaseAdDataCollector);e.VideoPlaybackDataCollector=h},6731:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackByAdColonyVpaid=e.VideoPlaybackByAdColonyVpaidClass=void 0;var r=n(4924),i=n(652),o=n(8245),a=function(){function t(){this.vpaidEventMapping={AdImpression:i.DvEvent.adImpressionData,AdVideoComplete:i.DvEvent.adVideoCompleteData,AdVideoFirstQuartile:i.DvEvent.adVideoFirstQuartileData,AdVideoMidpoint:i.DvEvent.adVideoMidpointData,AdVideoStart:i.DvEvent.adVideoStartData,AdVideoThirdQuartile:i.DvEvent.adVideoThirdQuartileData,AdPaused:i.DvEvent.pauseData,AdPlaying:i.DvEvent.resumeData,AdVolumeChange:i.DvEvent.volumeData}}return t.prototype.isSupported=function(){return this.adc=r.VideoPlaybackAdaptor.getADCObject(),!!this.adc},t.prototype.getIndicator=function(){return 4},t.prototype.startCollectData=function(t){var e=this;Object.keys(this.vpaidEventMapping).forEach((function(n){e.adc.subscribe(n,e.handleVpaidEvent.bind(e,n,t))}))},t.prototype.stopCollectData=function(t){},t.prototype.getVpaidVolume=function(t){return isNaN(t)?null:t},t.prototype.handleVpaidEvent=function(t,e,n){var r;if("AdVolumeChange"==t){if(!n)return;var a=this.getVpaidVolume(n.deviceVolume),s=null!=a?a:this.getVpaidVolume(n.volume);null!=s&&-1!=s&&(r={volume:s})}i.EventBus.dispatchEvent(this.vpaidEventMapping[t],new o.AdCandidateEventData(e,r))},t}();e.VideoPlaybackByAdColonyVpaidClass=a,e.VideoPlaybackByAdColonyVpaid=new a},2834:function(t,e,n){var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackByHtml5=e.VideoPlaybackByHtml5Class=void 0;var o=n(652),a=n(8245),s=n(6089),d=n(4747),p=function(){function t(){this.html5EventMapping={playing:o.DvEvent.adVideoStartData,pause:o.DvEvent.pauseData,play:o.DvEvent.resumeData,volumechange:o.DvEvent.volumeData,ended:o.DvEvent.adVideoCompleteData},this.quartileEvents=[o.DvEvent.adVideoFirstQuartileData,o.DvEvent.adVideoMidpointData,o.DvEvent.adVideoThirdQuartileData,o.DvEvent.adVideoCompleteData],this.eventsToReportOnlyOnce=i([o.DvEvent.adVideoCompleteData,o.DvEvent.adVideoStartData],r(this.quartileEvents))}return t.prototype.isSupported=function(t){return d.Utilities.isInAppSupported(t.supportedDeliveryType)&&d.Utilities.isVideoElement(t.domElement)},t.prototype.getIndicator=function(){return 2},t.prototype.startCollectData=function(t){var e=this,n=this.updateAdPlaybackTime.bind(this,t);s.BrowserAdaptor.addEventListener("timeupdate",n,t.domElement),t.domEvents.timeupdate=n,Object.keys(this.html5EventMapping).forEach((function(n){var r=e.handleHtml5Event.bind(e,t,e.html5EventMapping[n]);s.BrowserAdaptor.addEventListener(n,r,t.domElement),t.domEvents[n]=r}))},t.prototype.stopCollectData=function(t){Object.keys(this.html5EventMapping).forEach((function(e){s.BrowserAdaptor.removeEventListener(e,t.domEvents[e],t.domElement)})),s.BrowserAdaptor.removeEventListener("timeupdate",t.domEvents.timeupdate,t.domElement)},t.prototype.updateAdPlaybackTime=function(t){var e=t.domElement;if(e.duration){e.currentTime&&!t.videoPlaybackHtml5AdPlaybackTimeInitialized&&(t.videoPlaybackHtml5AdPlaybackTimeInitialized=!0,this.publishEvents(o.DvEvent.resumeData,t));var n=e.duration/4;if(e.currentTime>=t.videoPlaybackHtml5QuartileId*n){var r=this.quartileEvents[t.videoPlaybackHtml5QuartileId-1];this.publishEvents(r,t),t.videoPlaybackHtml5QuartileId++}}},t.prototype.handleHtml5Event=function(t,e){var n,r=t.domElement;e==o.DvEvent.volumeData&&(n={volume:r.volume}),this.publishEvents(e,t,n)},t.prototype.publishEvents=function(t,e,n){this.eventsToReportOnlyOnce.some((function(e){return e==t}))&&e.videoPlaybackHtml5Events.some((function(e){return e==t}))||(t==o.DvEvent.adVideoCompleteData&&this.stopCollectData(e),e.videoPlaybackHtml5Events.push(t),o.EventBus.dispatchEvent(t,new a.AdCandidateEventData(e,n)))},t}();e.VideoPlaybackByHtml5Class=p,e.VideoPlaybackByHtml5=new p},5110:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackByInmobi=e.VideoPlaybackByInmobiClass=void 0;var r=n(652),i=n(8245),o=n(4747),a=n(4516),s=function(){function t(){this.inmobiEventMapping={AdLoaded:r.DvEvent.videoLoadedData,AdVideoComplete:r.DvEvent.adVideoCompleteData,AdVideoFirstQuartile:r.DvEvent.adVideoFirstQuartileData,AdVideoMidpoint:r.DvEvent.adVideoMidpointData,AdVideoStart:r.DvEvent.adVideoStartData,AdVideoThirdQuartile:r.DvEvent.adVideoThirdQuartileData,AdPaused:r.DvEvent.pauseData,AdPlaying:r.DvEvent.resumeData,AdVolumeChange:r.DvEvent.volumeData}}return t.prototype.isSupported=function(){return a.InmobiWrapper.isSupported()},t.prototype.getIndicator=function(){return 5},t.prototype.startCollectData=function(t){a.InmobiWrapper.addEventListenerWithHistory(this.handleInmobiEvent.bind(this,t))},t.prototype.stopCollectData=function(t){},t.prototype.handleInmobiEvent=function(t,e){if(e&&this.inmobiEventMapping[e.type]){var n,a={};if("AdVolumeChange"==e.type&&e.detail)null!=(n=o.Utilities.isNullOrEmpty(e.detail.adVolume)||isNaN(e.detail.adVolume)?null:e.detail.adVolume)&&-1!=n&&(a={volume:n});if("AdLoaded"==e.type&&e.detail&&e.detail.duration&&e.detail.duration>0)t.adDuration=Math.round(e.detail.duration),o.Utilities.logIfNotAnInteger(t.adDuration,t,"adDurationDataValidation"),null!=(n=o.Utilities.isNullOrEmpty(e.detail.volume)||isNaN(e.detail.volume)?null:e.detail.volume)&&-1!=n&&(a={volume:n});r.EventBus.dispatchEvent(this.inmobiEventMapping[e.type],new i.AdCandidateEventData(t,a))}},t}();e.VideoPlaybackByInmobiClass=s,e.VideoPlaybackByInmobi=new s},3626:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackByOmid=e.VideoPlaybackByOmidClass=void 0;var r=n(652),i=n(8245),o=n(5137),a=function(){function t(){this.omidEventMapping={impression:r.DvEvent.adImpressionData,complete:r.DvEvent.adVideoCompleteData,firstQuartile:r.DvEvent.adVideoFirstQuartileData,midpoint:r.DvEvent.adVideoMidpointData,start:r.DvEvent.adVideoStartData,thirdQuartile:r.DvEvent.adVideoThirdQuartileData,pause:r.DvEvent.pauseData,resume:r.DvEvent.resumeData,skipped:r.DvEvent.skipData,volumeChange:r.DvEvent.volumeData,loaded:null}}return t.prototype.isSupported=function(){return o.OmidWrapper.isSupported()},t.prototype.getIndicator=function(){return 3},t.prototype.startCollectData=function(t){var e=this;Object.keys(this.omidEventMapping).forEach((function(n){o.OmidWrapper.addEventListener(n,e.omidEventCallback.bind(e,t,n))}))},t.prototype.stopCollectData=function(t){},t.prototype.omidEventCallback=function(t,e,n){var o;if("start"==e||"volumeChange"==e&&n&&n.data){var a=isNaN(n.data.videoPlayerVolume)?null:n.data.videoPlayerVolume,s=isNaN(n.data.deviceVolume)?null:n.data.deviceVolume,d=void 0;null!=a&&null!=s?d=a*s:null!=a?d=a:null!=s&&(d=s),null!=d&&-1!=d&&(o={volume:d})}"start"==e&&n&&n.data&&(t.videoLength=n.data.videoDuration,r.EventBus.dispatchEvent(this.omidEventMapping.volumeChange,new i.AdCandidateEventData(t,o))),null==t.omidPlaybackStartIndicator&&(t.omidPlaybackStartIndicator=-1),"loaded"==e&&(t.omidPlaybackStartIndicator=this.getOmidPlaybackStartIndicator(n)),this.omidEventMapping[e]&&r.EventBus.dispatchEvent(this.omidEventMapping[e],new i.AdCandidateEventData(t,o))},t.prototype.getOmidPlaybackStartIndicator=function(t){return t&&t.data&&null!=t.data.autoPlay?t.data.autoPlay?1:2:0},t}();e.VideoPlaybackByOmidClass=a,e.VideoPlaybackByOmid=new a},3863:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackByVpaid=e.VideoPlaybackByVpaidClass=void 0;var r=n(7258),i=n(652),o=n(8245),a=n(2913),s=n(4747),d=function(){function t(){this.MUTED=1,this.NO_VOLUME=0,this.vpaidEventMapping={AdImpression:i.DvEvent.adImpressionData,AdLoaded:i.DvEvent.videoLoadedData,AdVideoComplete:i.DvEvent.adVideoCompleteData,AdVideoFirstQuartile:i.DvEvent.adVideoFirstQuartileData,AdVideoMidpoint:i.DvEvent.adVideoMidpointData,AdVideoStart:i.DvEvent.adVideoStartData,AdVideoThirdQuartile:i.DvEvent.adVideoThirdQuartileData,AdUserClose:i.DvEvent.abandonData,AdPaused:i.DvEvent.pauseData,AdPlaying:i.DvEvent.resumeData,AdSkipped:i.DvEvent.skipData,AdStopped:i.DvEvent.stopData,AdVolumeChange:i.DvEvent.volumeData,AdSkippableStateChange:i.DvEvent.skippableData}}return t.prototype.isSupported=function(){return this.adID=r.DvTagDataObject.getAdID(),this.vpaid=a.VpaidWrapper.getDvVpaid(),!!this.adID&&!!this.vpaid&&a.VpaidWrapper.isSupported()},t.prototype.getIndicator=function(){return 1},t.prototype.startCollectData=function(t){t.videoPlaybackByVpaidEventSubscriptionIds=this.vpaid.subscribe(Object.keys(this.vpaidEventMapping),this.adID,this.handleVpaidEvent.bind(this,t));var e=this.vpaid.asset&&this.vpaid.asset.adDuration;e&&e>0&&e<180&&(t.adDuration=Math.round(1e3*e),s.Utilities.logIfNotAnInteger(t.adDuration,t,"adDurationDataValidation"),t.adDurationCalculationType=1),this.vpaid.asset&&this.vpaid.asset.adSkippable&&(t.adSkippableMs=s.Utilities.getTimeDiff())},t.prototype.stopCollectData=function(t){this.vpaid.unsubscribe(t.videoPlaybackByVpaidEventSubscriptionIds)},t.prototype.handleVpaidEvent=function(t,e,n){if(n&&n.eventName){var r=n.eventName;if(this.vpaidEventMapping[r]){var a,d=n.ovvArgs&&n.ovvArgs.ovvData;if(d){if("AdVolumeChange"==n.eventName||"AdVideoStart"==n.eventName){var p=d.muted===this.MUTED?this.NO_VOLUME:s.Utilities.isNullOrEmpty(d.volume)||isNaN(d.volume)?null:d.volume;null!=p&&-1!=p&&(p<0?t.vpaidVolumeLessThanZero=p:p?t.vpaidVolumeGreaterThanZero=(t.vpaidVolumeGreaterThanZero||0)+1:t.vpaidVolumeEqualToZero=(t.vpaidVolumeEqualToZero||0)+1,a={volume:p}),"AdVolumeChange"===n.eventName&&void 0===t.volumeChanged&&(t.volumeChanged=1),"AdVideoStart"===n.eventName&&void 0===t.adStartedVolume&&null!==p&&(t.adStartedVolume=p),"AdVideoStart"===n.eventName&&void 0===t.adStartedMuted&&null!==d.muted&&void 0!==d.muted&&(t.adStartedMuted=d.muted)}if("AdSkippableStateChange"==n.eventName){var c=s.Utilities.isNullOrEmpty(d.adSkippableState)?null:d.adSkippableState;null!=c&&(a={adSkippable:c})}}i.EventBus.dispatchEvent(this.vpaidEventMapping[r],new o.AdCandidateEventData(t,a))}}},t}();e.VideoPlaybackByVpaidClass=d,e.VideoPlaybackByVpaid=new d},2742:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.ViewabilityDataCollector=void 0;var s=n(3655),d=n(5236),p=n(9065),c=n(4780),u=n(652),l=n(8245),v=n(7258),f=n(6136),h=n(7526),y=n(4270),g=n(584),m=n(4995),b=n(4747),w=n(6089),E=n(6456),D=n(708),S=n(2119),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.isSupported=function(){return!0},e.prototype.startCollectData=function(t){u.EventBus.addEventListener(u.DvEvent.adVideoCompleteData,this.adVideoComplete.bind(this)),this.viewabilityInterval=v.DvTagDataObject.getTagType()==h.DvTagType.Video?200:100;var e=t.viewabilityCalculationMethod||this.getSupportedMethod(t);e&&(t.viewabilityCalculationMethod=e,t.viewabilityCalculationType=e.getMethodId(),this.publishAdViewabilityData(t),t.viewabilityIntervalId=w.BrowserAdaptor.setInterval(this.publishAdViewabilityData.bind(this,t),this.viewabilityInterval))},e.prototype.stopCollectData=function(t){this.stopViewabilityInterval(t)},e.prototype.adVideoComplete=function(t){this.stopViewabilityInterval(t.adCandidate)},e.prototype.stopViewabilityInterval=function(t){t.viewabilityIntervalId&&(w.BrowserAdaptor.clearInterval(t.viewabilityIntervalId),t.viewabilityCalculationMethod&&t.viewabilityCalculationMethod.destroyAdCandidateMethod(t),t.viewabilityIntervalId=void 0)},e.prototype.getSupportedMethod=function(t){var e,n=[m.OmidMethod];return b.Utilities.isInAppSupported(t.supportedDeliveryType)?e=a(a([],o(n)),[E.AdColonyMethod,S.Mraid3Method,y.MraidMethod]):(e=[d.GeometricMethod,p.IntersectionObserverMethod,f.AmpIntersectionObserverMethod,s.ResourceBased,c.ScreenGeometricMethod],b.Utilities.isCtvSupported(t.supportedDeliveryType)||(e=a([m.OmidMethod],o(e)))),e.filter((function(e){return e.isSupported(t)}))[0]},e.prototype.publishAdViewabilityData=function(t){try{var e=t.viewabilityCalculationMethod.getAdCandidateAssets(t);e&&u.EventBus.dispatchEvent(u.DvEvent.viewabilityIntervalData,new l.AdCandidateEventData(t,e)),this.checkIfElementAttachedToDocoment(t)}catch(t){D.MessageHandler.sendError(h.ClientErrorType.MeasurementError,t)}},e.prototype.checkIfElementAttachedToDocoment=function(t){t.timeMsUntilAdNotAttached||w.BrowserAdaptor.isElementAttachedToDocument(t.domElement)||(t.timeMsUntilAdNotAttached=b.Utilities.getTimeDiff(),u.EventBus.dispatchEvent(u.DvEvent.reportData,new l.AdCandidateEventData(t)))},e}(g.BaseAdDataCollector);e.ViewabilityDataCollector=_},3564:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AdCandidateData=void 0;var n=function(){function t(t){this.state=1,this.priority=1,this.domEvents={},this.wasAdStopped=!1,this.isPaused=!1,this.videoPlaybackHtml5QuartileId=1,this.videoPlaybackHtml5Events=[],this.playingTimeStamps=[],this.lastVideoIsPlayingStatus=!1,this.volumeDurationQuartileId=1,this.IABAdViewableForXSecondsViewedTime=0,this.iabViewablitiyTimeToCheck=[5,10,15],this.IABAdViewableForXSecondsdurationRequirement=5e3,this.boundariesViewed={topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1},this.iabViewedTime=0,this.iabVideoQuartileId=1,this.iabVideoQuartileViewed=0,this.videoFullQuartileViewabilityId=1,this.videoFullQuartileAudibleId=1,this.notViewableReasonWasInFocus=!1,this.notViewableReasonWasInViewPort=!1,this.notViewableReasonConsecutiveViewTime=0,this.notViewableReasonCumulativeViewTime=0,this.notViewableReasonWasViewed=!1,this.notViewableReasonVideoPlayed=!1,this.customViewedTime=0,this.customStandardViewedTime=0,this.customAdvertiserStandardViewedTime=0,this.kmeStartMeasure=!1,this.kmeConditionsFailed=!1,this.groupMViewedTime=0,this.groupMV4DisplayViewedTime=0,this.groupMV4VideoReachExtensionViewedTime=0,this.groupMV4VideoNativeViewedTime=0,this.groupMV4DisplayViewedTimeLog=0,this.pmxViewedTime=0,this.videoBucketsQuartileId=1,this.viewabilityIntervalDataCalled=!1,this.autoplayEventSubscriptionIds=[],this.videoPlaybackByVpaidEventSubscriptionIds=[],this.domElement=t}return t.prototype.markAdQuartile=function(t,e){switch(e){case 1:this.exposureFirstQuartileBitwise=this.exposureFirstQuartileBitwise|t;break;case 2:this.exposureSecondQuartileBitwise=this.exposureSecondQuartileBitwise|t;break;case 3:this.exposureThirdQuartileBitwise=this.exposureThirdQuartileBitwise|t;break;case 4:this.exposureFourthQuartileBitwise=this.exposureFourthQuartileBitwise|t}},t}();e.AdCandidateData=n},1407:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CeltraDomAdData=void 0;var o=function(t){function e(e,n,r,i){var o=t.call(this,n,r,i)||this;return o.celtraTagSearchMethod=e,o.domElement=n,o.depth=r,o.isFullyLoaded=i,o}return i(e,t),e}(n(2304).DomAdData);e.CeltraDomAdData=o},805:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.TPSDataMapping=e.RTSDataMapping=e.AdDataMappingToReport=e.AdContainerDataMapping=e.ExposureDataMapping=e.ErrorDataMapping=e.PerformanceMetricsDataMapping=e.EngagementDataMapping=void 0,e.EngagementDataMapping={engagementMeasurementStatus:"engms",isEngagementEligible:"engisel",adCandidatesLocatorMethods:"msrcanlm",numberOfAdCandidates:"msrcannum"},e.PerformanceMetricsDataMapping={tagLoadTimeMs:"tltms",tagExecTimeMs:"tetms",measurementScriptLoadTimeMs:"msltms",measurementScriptExecTimeMs:"msetms",visitLoadTimeMs:"vltms",visitExecTimeMs:"vetms",scriptExecIndicator:"sei"},e.ErrorDataMapping={timeMsUntilHasError:"ishems",notApplicableReason:"napr",errorType:"cerrt"},e.ExposureDataMapping={isViewabilityEligible:"isvelg",viewabilityIntegrationType:"vit"},e.AdContainerDataMapping={totalNumOfImageElements:"dvp_ime",numOfDirectImgElements:"dvp_dcime",numOfDirectIframeElements:"dvp_dcife",numOfDirectDivElements:"dvp_dcde",numOfDirectOtherElements:"dvp_dcoe",mostPopularDirectElementNotImgOrIframe:"dvp_mpdce",containerImageWidth:"dvp_cimw",containerImageHeight:"dvp_cimh"},e.AdDataMappingToReport={timeMsUntilAdMeasured:"ismms",unadjustedTimeMsUntilAdMeasured:"isumms",isViewabilityEligible:"isvelg",notViewableReason:"nvr",groupMTimeMsUntilAdMeasured:"isgmmims",groupMV4TimeMsUntilAdMeasured:"isgmv4mims",adElementType:"elmtp",measuredElementType:"metp",measuredElementExtractorId:"meeid",largestChildElementHeight:"lceh",largestChildElementWidth:"lcew",viewabilityDisplayBucketsUnloadTime:"isbxdms",b0:"b0",b1:"b1",b2:"b2",b3:"b3",b4:"b4",b5:"b5",b6:"b6",b7:"b7",b8:"b8",b9:"b9",b10:"b10",b11:"b11",napt:"napt",isq1ms:"isq1ms",q1b0:"q1b0",q1b1:"q1b1",q1b2:"q1b2",q1b3:"q1b3",q1b4:"q1b4",q1b5:"q1b5",q1napt:"q1napt",isq2ms:"isq2ms",q2b0:"q2b0",q2b1:"q2b1",q2b2:"q2b2",q2b3:"q2b3",q2b4:"q2b4",q2b5:"q2b5",q2napt:"q2napt",isq3ms:"isq3ms",q3b0:"q3b0",q3b1:"q3b1",q3b2:"q3b2",q3b3:"q3b3",q3b4:"q3b4",q3b5:"q3b5",q3napt:"q3napt",isq4ms:"isq4ms",q4b0:"q4b0",q4b1:"q4b1",q4b2:"q4b2",q4b3:"q4b3",q4b4:"q4b4",q4b5:"q4b5",q4napt:"q4napt",q1ad:"q1ad",q2ad:"q2ad",q3ad:"q3ad",q4ad:"q4ad",maxVideoVolume:"avmax",minVideoVolume:"avmin",adHeight:"adhgt",adWidth:"adwdth",normalizedAdWidth:"norwdth",normalizedAdHeight:"norhgt",accumulativeTimeOrientationLandscape:"tmsl",accumulativeTimeOrientationPortrait:"tmsp",isEngagementEligible:"engisel",avgViewableShareOfScreen:"vsos",shareOfScreenNotMeasuredReason:"dvp_vsosnmr",shareOfScreenReadFromViewportReport:"dvp_vsosrfvp",viewPortMetaTagWidth:"dvp_mvpw",viewPortMetaTagHeight:"dvp_mvph",viewPortMetaTagInitialScale:"dvp_mvpis",viewPortMetaTagScalable:"dvp_mvpiss",minViewportWidth:"dvp_minvpw",minViewportHeight:"dvp_minvph",maxViewportWidth:"dvp_maxvpw",maxViewportHeight:"dvp_maxvph",accumulativeTimeInFocus:"attif",looseFocusFalseBucket:"lffb",looseFocusTrueBucket:"lftb",strictFocusFalseBucket:"sffb",strictFocusTrueBucket:"sftb",adDuration:"vad",adDurationCalculationType:"dvp_vadt",omidPlaybackStartIndicator:"omap",adVideoTimeLine:"vattp",timeUntilUnloadMs:"dvp_unl",timeUntilUnloadMsParam:"tuums",depth:"msrdp",locatorMethods:"naral",viewabilityCalculationType:"vct",viewportHeight:"vphgt",viewportWidth:"vpwdth",adContainerHeight:"chgt",adContainerWidth:"cwdth",isInvalidContainerSize:"invcs",screenHeight:"scrhgt",screenWidth:"scrwdth",startPercentage:"strp",adVisibleOnload:"advisonl",rBV1PassedMs:"isrbpms",timeMsUntilAdViewed:"isiabvms",unadjustedTimeMsUntilAdViewed:"isuiabvms",groupMTimeMsUntilAdViewed:"isgmpims",groupMV4DisplayTimeMsUntilAdViewed:"isgmv4dpims",groupMV4DisplayTimeMsUntilAdViewedLog:"dvp_gmv4p",pmxTimeMsUntilAdViewed:"ispmxpms",customTimeMsUntilAdViewed:"iscvmvms",customStandardTimeMsUntilAdViewed:"iscspms",kmeTimeMsUntilAdViewed:"isbvmvms",customAdvertiserStandardType:"cavst",customAdvertiserStandardTimeMsUntilAdViewed:"iscavspms",videoPlaybackIndicatorDvp:"dvp_vpb",videoPlaybackIndicator:"vpm",isVideoPreRendered:"prplyd",timeMsUntilVideoPlayed:"dvp_plydms",groupMV4VideoReachExtensionTimeMsUntilAdViewed:"isgmv4vrpims",groupMV4VideoNativeTimeMsUntilAdViewed:"isgmv4vnpims",timeMsUntilAdAudibleAndViewableOnCompletionMs:"qcmpiabva",lastTimeMsVolumeMute:"admutems",timeMsUntilVolumeMeasured:"isavmms",q1vpend:"q1vpend",q2vpend:"q2vpend",q3vpend:"q3vpend",q4vpend:"q4vpend",q1ps:"q1ps",q2ps:"q2ps",q3ps:"q3ps",q4ps:"q4ps",q1iabvms:"q1iabvms",q2iabvms:"q2iabvms",q3iabvms:"q3iabvms",q4iabvms:"q4iabvms",exposureFirstQuartileBitwise:"q1ei",exposureSecondQuartileBitwise:"q2ei",exposureThirdQuartileBitwise:"q3ei",exposureFourthQuartileBitwise:"q4ei",adSkippedTime:"isadskippedms",adSkippableMs:"adskippblems",initialOrientationType:"inor",timeMsUntilTouch:"engtchms",timeMsUntilHover:"enghvms",timeMsUntilClick:"engclkms",timeMsUntilAdSizeIncrease:"engsincms",timeMsUntilAdSizeDecrease:"engsdcms",timeMsUntilAdLocated:"engalms",timeMsUntilFocusIn:"engifcsms",timeMsUntilFocusOut:"engofcsms",clickMeasurementMethod:"dvp_ces",timeMsUntilMouseMove:"engmsmvms",timeMsUntilKeyPress:"engkpssms",timeMsUntilScroll:"engscrlms",timeMsUntilOrientationChangeToPortrait:"engocptms",timeMsUntilOrientationChangeToLandscape:"engoclpms",timeMsUntilVolumeIncrease:"engvlincms",timeMsUntilVolumeDecrease:"engvldcms",timeMsUntilVolumeUnMute:"engvlumms",timeMsUntilVolumeMute:"engvlmtms",timeMsUntilPause:"engvpsdms",timeMsUntilResume:"engvrsmms",timeMsUntilSkip:"engvskpms",timeMsUntilAbandon:"engvabnms",engagementAudienceDisengaged:"dvp_engaud",engagementAudienceEngaged:"dvp_engaud",engagementAudienceNoEngagement:"dvp_engaud",engagementAudienceInterested:"dvp_engaud",videoViewabilityIntervalDataAdSizeMethod:"dvp_vvasm",videoViewabilityIntervalDataAdSize:"dvp_vvas",preVideoAdLoaded:"dvp_in1",preVideoAdStarted:"dvp_in2",preVideoAdImpression:"dvp_in3",preVideoAdStopped:"dvp_in4",autoplayDetectionMethod:"dvp_autpm",mraidVersion:"dvp_mraidver",hiddenAdsIndicator:"dvp_hdnAd",adEngagement:"dvp_adEng",pageEngagement:"dvp_pageEng",noEngagement:"dvp_noEng",volumeChanged:"dvp_volch",adStartedVolume:"dvp_svlm",adStartedMuted:"dvp_smut",vpaidVolumeLessThanZero:"dvp_vpvlz",vpaidVolumeGreaterThanZero:"dvp_vpvgz",vpaidVolumeEqualToZero:"dvp_vpvez",maxVolumeLessThanZero:"dvp_mvltz",maxVolumeGreaterThanZero:"dvp_mvgrz",maxVolumeEqualToZero:"dvp_mvez",quartile1Volume:"dvp_q1v",quartile2Volume:"dvp_q2v",quartile3Volume:"dvp_q3v",quartile4Volume:"dvp_q4v",omidEvents:"omev",omidGeometryReasonsBitWise:"dvp_omgr",omidTimeMsUntilStartSession:"dvp_omstsms",omidTimeMsUntilImpression:"dvp_omimms",omidTimeMsUntilStartVideo:"dvp_omstms",omidTimeMsUntilEndVideo:"dvp_omensms",omidContainerGeometryHeight:"dvp_ocgh",omidContainerGeometryWidth:"dvp_ocgw",omidMeasuringElement:"dvp_ome",omidCreativeVsContainerIndicator:"dvp_omcvc",omidImpressionType:"omit",omidUnknownImpressionType:"dvp_omuit",omidCreativeType:"omct",omidUnknownCreativeType:"dvp_omuct",omidRenderLogicLog:"dvp_orll",omidWebClientEnvironmentLog:"dvp_omdwbclenv",omidEnvironmentDvp:"dvp_omdenv",omidAdSessionType:"omdsessiontype",omidPartnerName:"dvp_omdnpn",omidPartnerVersion:"dvp_omdnpv",omidJSImplementer:"dvp_omdjsimp",omidJSServiceVersion:"dvp_omdjssv",omidJSSessionClientVersion:"dvp_omdjsscv",omidJSPartnerName:"dvp_omdjspn",omidJSPartnerVersion:"dvp_omdjspv",omidCustomReferenceData:"dvp_omdcrd",shareOfScreenLastDevicePixelRatio:"dvp_dpr",devicePixelRatioChanged:"dvp_sosdprc",screenSizeChanged:"dvp_sosssc",adSizeChanged:"dvp_sosadc",timeMsUntilAdNotAttached:"dvp_anatd",q1vpendDataValidation:"dvp_valq1vpend",q2vpendDataValidation:"dvp_valq2vpend",q3vpendDataValidation:"dvp_valq3vpend",q4vpendDataValidation:"dvp_valq4vpend",adDurationDataValidation:"dvp_valvad",percentageDataValidation:"dvp_valpct",viewportWidthDataValidation:"dvp_valvpwdth",viewportHeightDataValidation:"dvp_valvphgt",reasonForRenderedByContainerRenderLogic:"dvp_rfrcl",reasonForNotRenderedByContainerRenderLogic:"dvp_rfnrcl"},e.RTSDataMapping={timeMsUntilAdMeasured:"IABMeasuredImpression",timeMsUntilAdViewed:"IABViewableImpression",groupMTimeMsUntilAdMeasured:"GroupMMeasuredImpression",groupMTimeMsUntilAdViewed:"GroupMPassedImpression",groupMV3TimeMsUntilAdViewed:"GroupMV3StandardPassedImpression",groupMV4TimeMsUntilAdViewed:"GroupMV4StandardPassedImpression",customTimeMsUntilAdViewed:"CustomViewabilityViewable",q1iabvms:"VideoQuartile1ViewableIAB",q2iabvms:"VideoQuartile2ViewableIAB",q3iabvms:"VideoQuartile3ViewableIAB",q4iabvms:"VideoQuartile4ViewableIAB",iabv5:"IABAdViewable5Seconds",iabv10:"IABAdViewable10Seconds",iabv15:"IABAdViewable15Seconds",pmxTimeMsUntilAdMeasured:"PMXStandardMeasuredImpression",pmxTimeMsUntilAdViewed:"PMXStandardPassedImpression",groupMV4DisplayTimeMsUntilAdViewed:"GroupMV4DisplayStandardPassedImpression",groupMV4VideoReachExtensionTimeMsUntilAdViewed:"GroupMV4VideoReachExtensionStandardPassedImpression",groupMV4VideoNativeTimeMsUntilAdViewed:"GroupMV4VideoNativeStandardPassedImpression",engagementAudienceDisengaged:"EngagementAudienceDisengaged",engagementAudienceEngaged:"EngagementAudienceEngaged",engagementAudienceNoEngagement:"EngagementAudienceNoEngagement",engagementAudienceInterested:"EngagementAudienceInterested",adEngagement:"AdInteraction",pageEngagement:"DeviceInteraction",noEngagement:"NoInteraction"},e.TPSDataMapping={checksum:"jurtd",flavor:"flvr",timeToMeasureMs:"ttmms",timeToFirstReportMs:"ttfrms",timeToFirstUpdateReportMs:"ttfurm",totalMeasurementExecTime:"tmet",browserId:"brid",browserVersion:"brver",browserIdUserAgent:"bridua",browserDetectionSource:"bds",trafficScenarioType:"tstype",isPreRender:"prndr",eparams:"eparams",windowDepth:"srcurlD",additionalUrlDepth:"aUrlD",isSsl:"ssl",diffSsl:"dvp_diffSSL",isMraid:"ismraid",isOvv:"isovv",prePlayed:"prplyd",supplySource:"sup",dvtp_src_fetchStart:"dfs",dvtp_src_duration:"ddur",uid:"uid",callbackName:"jsCallback",tagVersion:"dvtagver",nativeUserAgent:"navUa",postMessageSupported:"htmlmsging",isChrome:"chro",historySize:"hist",innerHeight:"winh",innerWidth:"winw",outerHeight:"wouh",outerWidth:"wouw",screenHeight:"scah",screenWidth:"scaw",queuePageID:"qpgid",crawlerUrl:"curl",isScriptInHeadLocation:"dvp_isOnHead",scriptVersion:"jsver",dvtpScriptVersion:"tgjsver",idcResults:"vavbkt",idcError:"dvp_idcerr",idcVersion:"lvvn",browserSignatureFamilyBits:"bsig",browserSignatureBits:"usig",hijackedDeviceSignatureBits:"hdsig",browserFeatures:"m1",referrerDepth:"refD",referrerUrl:"referrer",referrerUrlExtractedFromSafeFrame:"urlsrc",safeFrameExists:"sfe",widgetCount:"fwc",cookieLength:"fcl",domainLookupTime:"flt",documentElementCount:"fec",iframeCount:"fcifrms",historyLength:"brh",omidVendorKey:"dvp_omvk",omidEnvironment:"omdenv",omidWebEnvironmentLog:"dvp_omdwbenv",omidAdSessionType:"omdsessiontype",omidAppId:"omdappid",omidPartnerVersion:"dvp_omdnpv",omidAppLibraryVersion:"dvp_omdalv",omidJSServiceVersion:"dvp_omdjssv",omidJSSessionClientVersion:"dvp_omdjsscv",omidJSPartnerName:"dvp_omdjspn",omidJSPartnerVersion:"dvp_omdjspv",omidDeviceType:"dvp_omddt",omidDeviceOSVersion:"dvp_omddosv",omidDeviceOS:"dvp_omddos",omidCustomReferenceData:"dvp_omdcrd",omidContentUrl:"omcurl",omidSupports:"dvp_omdsupp",omidAccessMode:"omacm",scriptDynamicFlags:"sdf",omidTagsCounter:"dvp_tgco",eparamsLength:"dvp_epl",vastWrapperUrl:"wrapperurl",numberOfCores:"noc",hasTouchPad:"touch",navigatorPlatform:"nav_pltfrm",ctx:"ctx",cmp:"cmp",ipos:"ipos",sid:"sid",plc:"plc",adid:"adid",crt:"crt",btreg:"btreg",btadsrv:"btadsrv",adsrv:"adsrv",advid:"advid",num:"num",pid:"pid",crtname:"crtname",unit:"unit",chnl:"chnl",scusrid:"scusrid",tagtype:"tagtype",sr:"sr",dt:"dt",dup:"dup",app:"app",dvvidver:"dvvidver",turl:"turl",icall:"icall",dv_callback:"dv_callback",useragent:"useragent",xff:"xff",timecheck:"timecheck",tvcp:"tvcp",vssd:"vssd",apifw:"apifw",vstvr:"vstvr",seltag:"seltag",sadv:"sadv",ord:"ord",litm:"litm",scrt:"scrt",invs:"invs",splc:"splc",adu:"adu",spos:"spos",c1:"c1",c2:"c2",c3:"c3",c4:"c4",c5:"c5",c6:"c6",c7:"c7",c8:"c8",c9:"c9",c10:"c10",c11:"c11",c12:"c12",c13:"c13",c14:"c14",c15:"c15",native:"native",gmnpo:"gmnpo",isdvvid:"isdvvid",vpaidPlayerUrl:"dvpx_asuri",msrapi:"msrapi",bsimpid:"bsimpid",auctionid:"auctionid",vermemid:"vermemid",source:"source",buymemid:"buymemid",anadvid:"anadvid",ioid:"ioid",cpgid:"cpgid",cpid:"cpid",sellerid:"sellerid",pubid:"pubid",advcode:"advcode",iocode:"iocode",cpgcode:"cpgcode",cpcode:"cpcode",pubcode:"pubcode",prcpaid:"prcpaid",auip:"auip",auua:"auua",prr:"prr",iframe:"iframe",gdpr:"gdpr",gdpr_consent:"gdpr_consent",errorURL:"errorURL",auprice:"auprice",ppid:"ppid",audeal:"audeal",auevent:"auevent",auadv:"auadv",aucmp:"aucmp",aucrtv:"aucrtv",auorder:"auorder",ausite:"ausite",auplc:"auplc",auxch:"auxch",audvc:"audvc",aulitem:"aulitem",auadid:"auadid",pltfrm:"pltfrm",aufilter1:"aufilter1",aufilter2:"aufilter2",autt:"autt",aubndl:"aubndl",supportedIntegrations:"mib"}},8444:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.DiagnosticParamsSingleton=e.DiagnosticParams=void 0;var r=n(708),i=n(9594),o=function(){function t(){}return t.prototype.getAbbreviationByName=function(t){return"ee_dp_"+i.diagnosticParamsMetaData[t].Abbreviation},t.prototype.reportDiagnosticParam=function(t,e){var n,i=this.getAbbreviationByName(t);r.MessageHandler.sendMessage(((n={})[i]=e,n))},t}();e.DiagnosticParams=o,e.DiagnosticParamsSingleton=new o},9594:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.diagnosticParamsMetaData=void 0,e.diagnosticParamsMetaData={unitTest:{Abbreviation:"ut",Author:"Dekel Binyamin",DateOfCreation:"28/11/22",TimeToConsiderDeprecation:"28/11/32",Type:"boolean",FeatureUsedFor:"unit test",Description:"fake meta data for unit tests",PossibleValues:"0 | 1"},omidRenderedFromImpressionEvent:{Abbreviation:"omrie",Author:"Adi Avinun",DateOfCreation:"6/9/22",TimeToConsiderDeprecation:"1/10/23",Type:"boolean",FeatureUsedFor:"Omid Render Logic",Description:"Reports true if the ad was decided to be rendered because of an omid impression event",PossibleValues:"0 | 1"},omidRenderedFromGeomChangePercLargerThanZero:{Abbreviation:"omrge",Author:"Adi Avinun",DateOfCreation:"6/9/22",TimeToConsiderDeprecation:"1/10/23",Type:"boolean",FeatureUsedFor:"Omid Render Logic",Description:"Reports true if the ad was decided to be rendered because of an omid geometry event + percentage in view was larger than zero",PossibleValues:"0 | 1"},cvcMethodId:{Abbreviation:"cvcmeeid",Author:"Dekel Binyamin",DateOfCreation:"27/11/22",TimeToConsiderDeprecation:"27/01/23",Type:"number",FeatureUsedFor:"Creative vs Container",Description:"Reports the method used to identify creative or container",PossibleValues:"0 | 1"}}},2304:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.DomAdData=void 0;var n=function(t,e,n){this.domElement=t,this.depth=e,this.isFullyLoaded=n};e.DomAdData=n},8245:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AdRenderedEventData=e.ReserveAdLocatorData=e.DelayTimerData=e.AdCandidateEventData=e.EventData=void 0;var o=n(4747),a=function(t){this.updateTime=t||o.Utilities.getTimeDiff()};e.EventData=a;var s=function(t){function e(e,n){void 0===n&&(n={});var r=t.call(this,n.updateTime)||this;return r.adCandidate=e,r.relevantData=n,r.updateTime=n.updateTime||r.updateTime,n.updateTime=r.updateTime,r}return i(e,t),e}(a);e.AdCandidateEventData=s;var d=function(t){function e(e){var n=t.call(this)||this;return n.delayTimeMS=e,n}return i(e,t),e}(a);e.DelayTimerData=d;var p=function(t){function e(e){var n=t.call(this)||this;return n.adPriority=e,n}return i(e,t),e}(a);e.ReserveAdLocatorData=p;var c=function(t){function e(e){var n=t.call(this)||this;return n.uid=e,n}return i(e,t),e}(a);e.AdRenderedEventData=c},3581:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.TPSData=void 0;var r=n(4747),i=function(){this.tagVersion="6.1.src",this.scriptVersion=r.Utilities.getVersion(),this.trafficScenarioType=0,this.additionalParams={},this.dvpParamsFlags=[]};e.TPSData=i},6608:function(t,e,n){n(4117);var r=n(1759),i=n(8943),o=n(4747),a=n(4472),s=n(708),d=n(6089);n(1613);var p=n(652),c=n(7258),u=n(2913),l=n(2181),v=n(4054),f=n(6826),h=n(1545),y=n(3045),g=n(2896),m=n(1267),b=n(2689),w=n(2813),E=n(2690),D=n(5661),S=n(5228),_=n(5866),A=n(1855),T=n(3654),O=n(9548),C=n(7447),M=n(2254),V=n(8518),P=n(5684),I=n(6384),B=n(870),j=n(4515),L=n(1696),R=n(5314),x=n(7920),k=n(2742),W=n(8317),U=n(6735),N=n(8800),F=n(2333),z=n(773),H=n(7318),G=n(4530),q=n(5175),Q=n(7355),K=n(2377),J=n(8154),X=n(4900),Y=n(823),Z=n(6225),$=n(1437),tt=n(4150),et=n(1136),nt=n(3476),rt=n(5716),it=n(6552),ot=n(2976),at=n(7679),st=n(7702),dt=n(2178),pt=n(726),ct=n(6374),ut=n(5185),lt=n(7047),vt=n(3885),ft=n(4579),ht=n(4992),yt=n(389),gt=n(8092),mt=n(7265),bt=n(1504),wt=n(5913),Et=n(7274),Dt=n(1442),St=n(7312),_t=n(4604),At=n(8365),Tt=n(5439),Ot=n(9729),Ct=n(8973),Mt=n(5245),Vt=n(5677),Pt=n(6022),It=n(8818),Bt=n(542),jt=n(7178),Lt=n(8245),Rt=n(6768),xt=n(6216),kt=n(5078),Wt=n(8399),Ut=n(4353),Nt=n(7245),Ft=n(4023),zt=n(4137),Ht=n(6526),Gt=n(3855),qt=n(4953),Qt=n(4109),Kt=n(6808),Jt=n(6625),Xt=n(6785),Yt=n(9349),Zt=n(519),$t=n(1051),te=n(7010),ee=n(6856),ne=n(7838),re=n(3994),ie=n(4817),oe=n(12),ae=n(7205),se=n(3308),de=n(2105),pe=n(8380),ce=n(1202),ue=n(7234),le=n(7795),ve=n(2577),fe=n(9122),he=n(7094),ye=n(9422),ge=n(5290),me=n(1723),be=n(6916),we=n(5368),Ee=n(8163),De=n(4921),Se=n(8067),_e=n(5049),Ae=n(2709),Te=n(5584),Oe=n(4441),Ce=n(5413),Me=n(8495),Ve=n(462),Pe=n(9558),Ie=n(2163),Be=n(2339),je=n(7526),Le=n(6635),Re=n(1054),xe=n(5497),ke=n(9402),We=n(3985),Ue=n(5137),Ne=n(2274),Fe=n(3186),ze=n(9848),He=n(6430),Ge=n(4730),qe=n(1650),Qe=n(7306),Ke=n(4450),Je=n(8087),Xe=n(2744),Ye=n(2355),Ze=n(3581),$e=(n(6286),n(5191),n(8158)),tn=n(2552),en=n(4432),nn=n(8634),rn=n(5717),on=n(7083);t.exports=function(){function t(){var t=a.DvObject.getImpressionId(dvWindow);a.DvObject.setImpressionId(t),s.MessageHandler.firePreviousEvents(),s.MessageHandler.sendMessage({msrjs:o.Utilities.getVersion()}),p.EventBus.dispatchEvent(p.DvEvent.impressionServed,new Lt.EventData)}function e(){var t=[u.VpaidWrapper,We.MraidWrapper,Ue.OmidWrapper];return[new Rt.DvParamsCollector,new xe.ParamUrlExtractionMethodCollector,new xt.BrowserCollector,new kt.TrafficScenarioCollector,new l.PreRenderCollector,new Xt.MraidCollector,new ie.OmidContextCollector,new re.TpsApiTypeCollector,new Jt.SslCollector,new Yt.SupplySourceCollector,new oe.ReferrerCollector,new Ft.WindowPropertiesCollector,new Wt.StrCollector,new Ut.VideoParamsCollector,new Nt.IOSMapleCollector,new zt.DomScriptCollector,new Ht.ScriptsPerformanceCollector,new Gt.UserCollector,new qt.BrowserSignatureCollector,new Le.InjectionDetectionCodeCollector,new Re.HijackedDeviceSignatureCollector,new Qt.BrowserFeaturesCollector,new Kt.AttributeCollector,new we.VpaidPlayerUrlCollector,new ae.VastUrlCollector,new Oe.HardwareFeaturesCollector,new ze.SupportedIntegrationsCollector(t)]}function n(){new rn.PageEventsLoggerBL,new Qe.OmidLoggerBL,new Ke.OmidImpressionEventInfoBL,new _t.ExposureCompatibilityIndicator,new Ne.EligibilityCompatibilityIndicator,new dt.AdSelectorLogger,new Fe.AdElementInfoExtractorBL,new tn.CreativeVsContainerBL,new en.AdDomElementObserverBL,new z.ExposureBL,new It.AdSizeBL,new ke.AdContainerSizeBL,new ct.PMXDisplayViewabilityBL,new rt.PMXVideoViewabilityBL,new yt.IabNotViewReasonsViewabilityBL,new H.IabDisplayViewabilityBL,new G.IabVideoViewabilityBL,new ut.IabVideoQuartileViewabilityBL,new Te.VideoQuartileFullOnScreenBL,new Ee.VideoFullQuartileAudibleBL,new Ot.IabDisplayViewabilityForXSecondsBL,new Ct.IabVideoViewabilityForXSecondsBL,new J.GroupMDisplayViewabilityBL,new X.GroupMVideoViewabilityBL,new it.GroupMV4NonMobileDisplayViewabilityBL,new Dt.GroupMV4MobileDisplayViewabilityBL,new at.GroupMV4VideoNativeViewabilityBL,new ot.GroupMV4VideoReachExtensionViewabilityBL,new et.CustomDisplayViewabilityBL,new mt.CustomStandardDisplayViewabilityBL,new nt.CustomVideoViewabilityBL,new bt.CustomStandardVideoViewabilityBL,new Be.CustomAdvertiserViewabilityStandardBL,new ft.KMEVideoViewabilityBL,new Y.BucketsDisplayViewabilityBL,new Z.BucketsVideoViewabilityBL,new ht.EndQuartileViewabilityBL,new pt.RbViewabilityBL,new lt.ViewabilityStartPercentageBL,new vt.QuartileBucketsVolumeBL,new q.ReportAdManagerRTS,new gt.JsCallbackBL,new Et.MobileOrientationBL,new jt.FocusBucketsBL,new Je.Cm360Logger(new Xe.Cm360AdContainerInspectorFactory("data-doubleverify-container")),new Ye.RenderingMethodLogger,new He.PerformanceMetricsBL,new Se.ViewableShareOfScreenBL,new At.EngagementCompatibilityIndicator,new h.AdSelector,new w.AdLocatedBL,new Vt.VideoMarkImpressionAsRenderedBL,new tt.VideoStoppedBL,new me.VideoSkippableBL,new $.VideoCompleteBL,new K.VideoLengthBL,new wt.VolumeBL,new E.InteractionHoverBL,new D.InteractionTouchBL,new S.InteractionClickBL,new _.InteractionVolumeBL,new A.InteractionPauseBL,new T.InteractionResumeBL,new O.InteractionSkipBL,new C.InteractionAbandonBL,new V.InteractionFocusBL,new M.InteractionAdSizeBL,new pe.PageInteractionKeyPressBL,new ce.PageInteractionMouseMoveBL,new ue.PageInteractionScrollBL,new fe.PageInteractionOrientationChangeLandscapeBL,new he.PageInteractionOrientationChangePortraitBL,new ge.EngagementReportRtsBL,new v.ReportAdManagerTPS,new Ge.DataTransparencyBL,new Bt.NormalizedAdSizeBL}function an(){if(o.Utilities.isPercentageCriteriaPassed(1)){var t=o.Utilities.isPercentageCriteriaPassed(50)?65536:131072;on.ScriptDynamicFlags.getInstance().turnOn(t)}new f.FocusDataCollector,new F.StrictFocusDataCollector,new k.ViewabilityDataCollector,new St.BoundariesViewabilityDataCollector,new $e.InteractionEventDataCollector,new b.OmidInteractionDataCollector,new Tt.InteractionAdSizeDataCollector,new Pt.VideoPlaybackDataCollector,new ye.HiddenAdsDataCollector,new Ie.AutoplayDataCollector,new nn.PageEventsDataCollector,new R.InteractionUnloadDataCollector,new se.PageInteractionMouseMoveDataCollector,new de.PageInteractionKeyPressDataCollector,new le.PageInteractionScrollDataCollector,new ve.PageInteractionOrientationChangedDataCollector}function sn(){c.DvTagDataObject.start(),Ae.RenderLogicFactory.getRenderLogic().start(),u.VpaidWrapper.start();var t,n=e(),r=(t=n,[new Zt.TPSDataCollector(t),new te.MeasureGdpr,new ee.MeasureGdprV2,new $t.GlobalVariablesInjection]),i=new Ze.TPSData;return r.forEach((function(t){try{t.isSupported(i)&&t.executePhase(i)}catch(e){s.MessageHandler.sendError(je.ClientErrorType.VisitLogicError,e,t.toString())}})),i}function dn(){var t;n(),new De.ShareOfScreenResearchBL,an(),[(t=o.Utilities.isPercentageCriteriaPassed(10))?new Pe.CustomRegexAdLocator:new P.RegexAdLocator,t?new Ve.CustomMediaplexAdLocator:new j.MediaplexAdLocator,new L.FindClassAdLocator,new I.IntegratedCeltraAdLocator,new B.NonIntegratedCeltraAdLocator,new x.ParentWindowAdLocator,new W.NearestAdAdLocator,new U.SpotXAdLocator,new Ce.DfaAdLocator,t?new Me.CustomSellerAdLocator:new st.SellerAdLocator,new m.InAppDefaultAdLocator,new g.NonInAppVpaidVideoAdLocator,new Q.InAppVpaidVideoAdLocator,new y.InAppHtml5VideoAdLocator,new be.InmobiVideoAdLocator,new N.IframeFallbackAdLocator,new Mt.OmidAdLocator,new qe.Cm360AdLocator].forEach((function(t){return t.start()})),new _e.CollectIframeFallbackData}function pn(t){!function(){if(c.DvTagDataObject.getIsCm360CreativeWrapping()&&c.DvTagDataObject.getTagType()===je.DvTagType.Display){var t=c.DvTagDataObject.getCm360ContainerId(),e=d.BrowserAdaptor.getElementById(t);e&&d.BrowserAdaptor.setElementStyle(e,"visibility","")}}(),function(t){var e=new ne.ScriptsInjection;e.isSupported()&&e.executePhase(t),un=!0}(t),dn()}function cn(){var e,n,r;if(function(){var t=$dv.omidJsClient,e=$dv.omidSessionData,n=$dv.isDomlessEnvironment,r=$dv.isFrameSupported,i=$dv.tags,o=$dv.tagsCounter,a=$dv.omidSessionStartTime,s=$dv.omidVendorKey,d=$dv.tagData,p=$dv.restrictedAccess,c=$dv.pubSub,u=$dv.isPubSubEval,l=$dv.sharedUniqueKey,v=$dv.dvGetOmidVerificationClient;$dv={dvGetOmidVerificationClient:v,omidJsClient:t,omidSessionData:e,isDomlessEnvironment:n,isFrameSupported:r,tags:i,tagsCounter:o,omidSessionStartTime:a,omidVendorKey:s,tagData:d,restrictedAccess:p,pubSub:c,isPubSubEval:u,sharedUniqueKey:l}}(),e=a.DvObject.getFrameId(dvWindow),n=a.DvObject.getImpressionId(dvWindow),(r=a.DvObject.getDvObject()).isPubSubEval||n||(r.pubSub=p.EventBusGlobal,r.isPubSubEval=!0),r.pubSub.excludeFrameId&&r.pubSub.excludeFrameId(e),r.pubSub.subscribe(p.DvEvent.impressionServed,e,"DVM_impressionServed",t),"undefined"==typeof MutationObserver&&s.MessageHandler.sendMessage({dvp_nmobs:1}),d.BrowserAdaptor.isBrowserSupported()){var i=sn();c.DvTagDataObject.getIsMonitoring()&&pn(i)}}var un=!1;try{a.DvObject.setDvGetOmidVerificationClient(r);var ln=new i.OmidVerificationClientWrapper(r());ln.isSupported()?(u.VpaidWrapper.isSupported()&&s.MessageHandler.sendMessage({dvp_omovp:1}),We.MraidWrapper.isSupported()&&s.MessageHandler.sendMessage({dvp_omomr:1}),ln.ready(cn)):cn()}catch(t){un?s.MessageHandler.sendError(je.ClientErrorType.PostMeasuredGlobalMainError,t):s.MessageHandler.sendError(je.ClientErrorType.PreMeasuredGlobalMainError,t)}}},5049:function(t,e,n){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CollectIframeFallbackData=void 0;var i=n(652),o=n(7526),a=n(4472),s=n(5191),d=n(708),p=n(6089),c=function(){function t(){this.htmlSampleRate=.1,i.EventBus.addEventListener(i.DvEvent.adSelected,this.collectIframeData.bind(this))}return t.prototype.collectIframeData=function(t){var e=t.adCandidate,n=a.DvObject.getImpressionId(s.WindowAdaptor.currentWindow());if(e&&e.domElement&&e.locatorMethods==o.LocatorMethods.DisplayIframeFallback){var r=s.WindowAdaptor.workingDocumentElement();100*Math.random()<=this.htmlSampleRate&&this.uploadHtml(r.outerHTML,n);var i={};this.iframeElementsTagsStatistics(r,i);var p="";Object.keys(i).forEach((function(t){return p+=t+":"+i[t]+","})),d.MessageHandler.registerEventCall(n,{dvp_itg:p})}},t.prototype.uploadHtml=function(t,e){var n=new Date,r=n.getDate()>9?n.getDate().toString():"0"+n.getDate().toString(),i=n.getFullYear(),o=n.getMonth()>9?n.getMonth().toString():"0"+n.getMonth().toString(),a=new XMLHttpRequest;a.open("PUT","https://d23xwq4myz19mk.cloudfront.net/htmldata/iframefallback/"+i+r+o+"/"+s.WindowAdaptor.workingWindow().location.hostname+"/"+e+"_iframefallback_data.html",!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),a.setRequestHeader("x-amz-acl","public-read"),a.send(t)},t.prototype.iframeElementsTagsStatistics=function(t,e){var n,i;if(t.hasChildNodes()){var o=p.BrowserAdaptor.getElementChildren(t);try{for(var a=r(o),s=a.next();!s.done;s=a.next()){var d=s.value;e.hasOwnProperty(d.nodeName)?e[d.nodeName]++:e[d.nodeName]=1,this.iframeElementsTagsStatistics(d,e)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}}},t}();e.CollectIframeFallbackData=c},7306:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.OmidLoggerBL=void 0;var o=n(5137),a=n(1676),s=n(9056),d=n(652),p=n(4747),c=n(4472),u=n(137),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderEventTypes={IMPRESSION_EVENT:1,GEOMETRY_CHANGE_AD_DIM:2,GEOMETRY_CHANGE_PCT_IN_VIEW:4,IMPRESSION_EVENT_PCT_IN_VIEW:8},e}return i(e,t),e.prototype.isSupported=function(){return o.OmidWrapper.isSupported()},e.prototype.getEventsAndCallbacksToRegister=function(){var t,e=this;return(t={})[d.DvEvent.adCandidateApproved]=function(t){return e.adCandidateApproved(t)},t},e.prototype.init=function(){},e.prototype.adCandidateApproved=function(t){var e=this;o.OmidWrapper.registerSessionObserver((function(n){return e.omidSessionEventHandler(t,n)})),p.Utilities.objectValues(a.OmidAdEventType).filter((function(t){return t!==a.OmidAdEventType.MEDIA&&t!==a.OmidAdEventType.VIDEO})).forEach((function(n){o.OmidWrapper.addEventListener(n,(function(n){return e.omidEventHandler(n,t)}))}))},e.prototype.omidEventHandler=function(t,e){try{switch(t.type){case a.OmidAdEventType.IMPRESSION:this.handleImpressionEvent(t,e);break;case a.OmidAdEventType.GEOMETRY_CHANGE:this.handleGeometricChangeEvent(t,e);break;case a.OmidAdEventType.START:this.handleStartEvent(t,e);break;case a.OmidAdEventType.COMPLETE:this.handleCompleteEvent(t,e)}this.onTriggeredOmidEvent(e,t.type)}catch(t){}},e.prototype.handleImpressionEvent=function(t,e){var n,r,i=0;(i|=this.renderEventTypes.IMPRESSION_EVENT,null===(r=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.adView)||void 0===r?void 0:r.percentageInView)&&(i|=t.data.adView.percentageInView>0?this.renderEventTypes.IMPRESSION_EVENT_PCT_IN_VIEW:0);e.adCandidate.omidRenderLogicLog|=i},e.prototype.handleStartEvent=function(t,e){e.adCandidate.omidTimeMsUntilStartVideo=p.Utilities.getTimeDiff()},e.prototype.handleCompleteEvent=function(t,e){e.adCandidate.omidTimeMsUntilEndVideo=p.Utilities.getTimeDiff()},e.prototype.geometricChangeRenderTrigger=function(t){var e,n,r=0;if(null===(n=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.adView)||void 0===n?void 0:n.geometry){var i=t.data.adView.geometry.width>0&&t.data.adView.geometry.height>0,o=t.data.adView.percentageInView>0;(o||i)&&(r|=i?this.renderEventTypes.GEOMETRY_CHANGE_AD_DIM:0,r|=o?this.renderEventTypes.GEOMETRY_CHANGE_PCT_IN_VIEW:0)}return r},e.prototype.handleGeometricChangeEvent=function(t,e){e.adCandidate.omidRenderLogicLog|=this.geometricChangeRenderTrigger(t),this.extractAdViewabilityInfo(t,e)},e.prototype.extractAdViewabilityInfo=function(t,e){var n,r=(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.adView)||{},i=r.containerGeometry,o=r.measuringElement;if(i){var a=i.height,s=i.width;e.adCandidate.omidContainerGeometryHeight=a,e.adCandidate.omidContainerGeometryWidth=s}e.adCandidate.omidMeasuringElement=this.mapOmidMeasuringElement(o),e.adCandidate.omidCreativeVsContainerIndicator=this.getCreativeVsContainerIndicator(i)},e.prototype.getCreativeVsContainerIndicator=function(t){return p.Utilities.isNullOrEmpty(t)?2:1},e.prototype.mapOmidMeasuringElement=function(t){return p.Utilities.isNullOrEmpty(t)?0:t?1:2},e.prototype.omidSessionEventHandler=function(t,e){if(null==e?void 0:e.type){if(e.type===a.OmidAdEventType.SESSION_START)this.omidSessionStartEventHandler(t,e);this.onTriggeredOmidEvent(t,e.type)}},e.prototype.omidSessionStartEventHandler=function(t,e){var n,r,i,o;c.DvObject.getDvObject().omidSessionStartTime&&(t.adCandidate.omidTimeMsUntilStartSession=p.Utilities.getTimeDiffNoAbs(c.DvObject.getDvObject().omidSessionStartTime));var a=e.data;(null==a?void 0:a.context)&&(t.adCandidate.omidJSSessionClientVersion=null===(r=null===(n=null==a?void 0:a.context)||void 0===n?void 0:n.omidJsInfo)||void 0===r?void 0:r.sessionClientVersion,t.adCandidate.omidJSPartnerVersion=null===(o=null===(i=a.context)||void 0===i?void 0:i.omidJsInfo)||void 0===o?void 0:o.partnerVersion)},e.prototype.onTriggeredOmidEvent=function(t,e){(t.adCandidate.omidEvents&u.OmidEvents[e])!=u.OmidEvents[e]&&(t.adCandidate.omidEvents|=u.OmidEvents[e],this.reportData(t))},e.prototype.reportData=function(t){d.EventBus.dispatchEvent(d.DvEvent.reportData,t)},e}(s.BaseAdBL);e.OmidLoggerBL=l},1051:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalVariablesInjection=void 0;var r=n(7698),i=n(5191),o=n(4747),a=n(7258),s=n(708),d=n(805),p=n(4472),c=n(5351),u=n(7526),l=n(137),v=n(6089),f=function(){function t(){}return t.prototype.isSupported=function(){return!0},t.prototype.executePhase=function(t){var e=this,n=p.DvObject.getDvObject(),o=new r.DvBackwardCompatibilityClass;n.dvObjType=n.dvObjType||o.dvObjType,n.resolveMacros=n.resolveMacros||o.resolveMacros,n.registerEventCall=n.registerEventCall||o.registerEventCall,n.createEventCallUrl=n.createEventCallUrl||o.createEventCallUrl,n.getWorkingWindow=n.getWorkingWindow||o.getWorkingWindow,n.getMraid=n.getMraid||o.getMraid,n.messages=n.messages||o.messages,n.domUtilities=n.domUtilities||o.domUtilities,n.pubSub=n.pubSub||o.pubSub,n.CommonData=n.CommonData||o.CommonData,n.tags=n.tags||o.tags,n.sendBeacon=v.BrowserAdaptor.sendBeacon.bind(v.BrowserAdaptor),"undefined"==typeof window&&(window=dvWindow);var a=i.WindowAdaptor.workingWindow(),s=i.WindowAdaptor.currentWindow();a._dv_win=a,s._dv_win=a;var d=c.EventIdGeneratorAdaptor;a[t.callbackName]=function(n,r,i,o){e.generateCallback(t,n,r,i,o,d)}},t.prototype.toString=function(){return"GlobalInjection"},t.prototype.extractHostname=function(t){var e=t.indexOf("//")+2,n=t.indexOf("/",e);return t.substring(e,n)},t.prototype.generateCallback=function(t,e,n,r,c,v){try{if(!i.WindowAdaptor.isDomlessEnvironment()){var f=i.WindowAdaptor.currentDocument();p.DvObject.setVisitReadyState(f.readyState)}e.tags[r]={},e.tags[r].type="monitoring",e.tags[r].beginVisitCallbackTS=o.Utilities.getCurrentTime(),e.tags[r].eventIdGenerator=v,e.tags[r].set=function(t){o.Utilities.extend(t,e.tags[r])},e.tags[r].getTimeDiff=function(){return o.Utilities.getCurrentTime()-p.DvObject.getDvObject().tags[r].beginVisitCallbackTS},e.tags[r].tagElement=a.DvTagDataObject.getDVScript(),e.tags[r].ServerPublicDns=this.extractHostname(a.DvTagDataObject.getServerPrefix()),a.DvTagDataObject.setServerPrefix("https://"+c+"/"),e.tags[r].ServerPublicDns=c,p.DvObject.setImpressionId(r),$uid=r;var h=a.DvTagDataObject.getCaseSensitiveParams();e.tags[r].set(h);var y=o.Utilities.mapData(t,d.TPSDataMapping);o.Utilities.extend(t.additionalParams,y),e.tags[r].set(y),e.tags[r].uid=r,e.tags[r].dv_protocol=l.HttpProtocol.Https;var g=i.WindowAdaptor.monitorScriptsPerformance(n,{visit:["duration"]});g.visit_duration&&s.MessageHandler.sendMessage({vdur:g.visit_duration})}catch(t){s.MessageHandler.sendError(u.ClientErrorType.TagCommunicationError,t)}},t}();e.GlobalVariablesInjection=f},7010:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.MeasureGdpr=void 0;var r=n(6089),i=n(5191),o=n(708),a=function(){function t(){var t=this;this.cmpCallbacks={},this.getConsentDataCallback=function(e,n){try{var r=i.WindowAdaptor.currentWindow(),a=i.WindowAdaptor.workingDocument();r.performance.mark("dv_gdpr_end"),r.performance.measure("dv_gdpr","dv_gdpr_start","dv_gdpr_end");var s=r.performance.getEntriesByName("dv_gdpr");if(s.length>0){var d=s[0];isNaN(d.duration)||o.MessageHandler.sendMessage({dvp_gdDur:Math.round(d.duration),dvp_gdDome:"complete"==a.readyState?"1":"0",dvp_gdDoms:t.gdprIsDocumentCompleted,dvp_gdSucc:n?"1":"0"},!0)}}catch(e){t.sendGdprError("9")}},this.handleCmpReturn=function(e){try{var n="string"==typeof e.data?JSON.parse(e.data):e.data;if(n.__cmpReturn){var r=n.__cmpReturn,i=t.cmpCallbacks[r.callId];i?(i(r.returnValue,r.success),delete t.cmpCallbacks[r.callId]):t.sendGdprError("6")}}catch(t){}}}return t.prototype.isSupported=function(){return!i.WindowAdaptor.isDomlessEnvironment()&&i.WindowAdaptor.isPerformanceAPISupported()},t.prototype.executePhase=function(t){this.gdprIsDocumentCompleted="complete"==i.WindowAdaptor.workingDocument().readyState?"1":"0",this.gdprPerformanceMark();var e=this.locateCmpApi();if(e&&"1"!=e)this.sendGdprError(e);else if(this.cmpFrame)if(this.cmpIsFunctionCall)this.invokeCmpCommandByFunction("getConsentData",null,this.getConsentDataCallback);else{if(!i.WindowAdaptor.isPostMessageSupported())return void this.sendGdprError("2");this.addEventListenerForCmpResponses(),this.invokeCmpCommandByPostMessage("getConsentData",null,this.getConsentDataCallback)}},t.prototype.toString=function(){return"MesasureGdpr"},t.prototype.locateCmpApi=function(){for(var t,e=i.WindowAdaptor.currentWindow();!this.cmpFrame;){try{this.cmpIsFunctionCall="function"==typeof e.__cmp,(this.cmpIsFunctionCall||e.frames.__cmpLocator)&&(this.cmpFrame=e,t="1")}catch(e){t="3"}try{if(i.WindowAdaptor.isTop(e))break;e=i.WindowAdaptor.getWindowParent(e,!0)}catch(e){t="8";break}}return t},t.prototype.addEventListenerForCmpResponses=function(){r.BrowserAdaptor.addEventListener("message",this.handleCmpReturn,i.WindowAdaptor.currentWindow())},t.prototype.invokeCmpCommandByFunction=function(t,e,n){try{this.cmpFrame.__cmp(t,e,n)}catch(t){this.sendGdprError("4")}},t.prototype.invokeCmpCommandByPostMessage=function(t,e,n){var r=Math.random().toString(),i={__cmpCall:{command:t,parameter:e,callId:r}};this.cmpCallbacks[r]=n;try{this.cmpFrame.postMessage(i,"*")}catch(t){this.sendGdprError("5")}},t.prototype.gdprPerformanceMark=function(){i.WindowAdaptor.currentWindow().performance.mark("dv_gdpr_start")},t.prototype.sendGdprError=function(t){o.MessageHandler.sendMessage({dvp_gdpr_Error:t},!0)},t}();e.MeasureGdpr=a},6856:function(t,e,n){var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.MeasureGdprV2=void 0;var i=n(6089),o=n(5191),a=n(708),s=function(){function t(){var t=this;this.DV_VENDOR_ID=126,this.tcfCallbacks={},this.getConsentDataCallback=function(e,n){try{var i=o.WindowAdaptor.currentWindow(),s=o.WindowAdaptor.workingDocument();i.performance.mark("dv_gdpr_v2_end"),i.performance.measure("dv_gdpr_v2","dv_gdpr_v2_start","dv_gdpr_v2_end");var d=r(i.performance.getEntriesByName("dv_gdpr_v2"),1)[0];d&&d.duration&&a.MessageHandler.sendMessage({dvp_gdv2_Func:t.tcfapiIsFunctionCall?"1":"0",dvp_gdv2_Applies:e?e.gdprApplies?"1":"0":"-1",dvp_gdv2_Succ:n?"1":"0",dvp_gdv2_Dur:Math.round(d.duration),dvp_gdv2_Doms:t.gdprIsDocumentCompletedStart,dvp_gdv2_Dome:"complete"==s.readyState?"1":"0"},!0)}catch(e){t.sendGdprV2Error("9")}},this.handleTcfMessage=function(e){try{var n=("string"==typeof e.data?JSON.parse(e.data):e.data).__tcfapiReturn;if(n){var r=t.tcfCallbacks[n.callId];r?(r(n.returnValue,n.success),delete t.tcfCallbacks[n.callId]):t.sendGdprV2Error("6")}}catch(t){}}}return t.prototype.isSupported=function(){return!o.WindowAdaptor.isDomlessEnvironment()&&o.WindowAdaptor.isPerformanceAPISupported()},t.prototype.executePhase=function(t){this.gdprIsDocumentCompletedStart="complete"==o.WindowAdaptor.workingDocument().readyState?"1":"0",this.gdprV2PerformanceMark();var e=this.locateTcfFrame();if(e&&"1"!=e)this.sendGdprV2Error(e);else if(this.tcfFrame)if(this.tcfapiIsFunctionCall)this.invokeTcfCommandByFunction("getTCData",[this.DV_VENDOR_ID],this.getConsentDataCallback);else{if(!o.WindowAdaptor.isPostMessageSupported())return void this.sendGdprV2Error("2");this.addEventListenerForTcfResponses(),this.invkoeTcfCommandByPostMessage("getTCData",[this.DV_VENDOR_ID],this.getConsentDataCallback)}},t.prototype.toString=function(){return"MesasureGdprV2"},t.prototype.locateTcfFrame=function(){for(var t,e=o.WindowAdaptor.currentWindow();!this.tcfFrame;){try{this.tcfapiIsFunctionCall="function"==typeof e.__tcfapi,(this.tcfapiIsFunctionCall||e.frames.__tcfapiLocator)&&(this.tcfFrame=e,t="1")}catch(e){t="3"}try{if(o.WindowAdaptor.isTop(e))break;e=o.WindowAdaptor.getWindowParent(e,!0)}catch(e){t="8";break}}return t},t.prototype.addEventListenerForTcfResponses=function(){i.BrowserAdaptor.addEventListener("message",this.handleTcfMessage,o.WindowAdaptor.currentWindow())},t.prototype.invokeTcfCommandByFunction=function(t,e,n){try{this.tcfFrame.__tcfapi(t,2,n,e)}catch(t){this.sendGdprV2Error("4")}},t.prototype.invkoeTcfCommandByPostMessage=function(t,e,n){var r=Math.random().toString(),i={__tcfapiCall:{command:t,parameter:e,version:2,callId:r}};this.tcfCallbacks[r]=n;try{this.tcfFrame.postMessage(i,"*")}catch(t){this.sendGdprV2Error("5")}},t.prototype.gdprV2PerformanceMark=function(){o.WindowAdaptor.currentWindow().performance.mark("dv_gdpr_v2_start")},t.prototype.sendGdprV2Error=function(t){a.MessageHandler.sendMessage({dvp_gdv2_Error:t},!0)},t}();e.MeasureGdprV2=s},7838:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptsInjection=void 0;var r=n(4747),i=n(805),o=n(6089),a=n(5191),s=n(708),d=n(7258),p=n(7526),c=n(4472),u=n(7083),l=function(){function t(){this.onLoad=function(){r.Utilities.setLoadVisitTime(),c.DvObject.getImpressionId(null)||s.MessageHandler.sendError(p.ClientErrorType.InvalidVisitResponseError,void 0,void 0)}}return t.prototype.isSupported=function(){return!0},t.prototype.appendPerformanceMetrics=function(t){var e=c.DvObject.getTagLoadedMS(),n=r.Utilities.getScriptLoadedMS(),i=r.Utilities.getCurrentTime();t.timeToMeasureMs=n-e,t.timeToFirstReportMs=i-n},t.prototype.appendScriptDynamicFlags=function(t){var e=u.ScriptDynamicFlags.getInstance().getFlags();e&&e>0&&(t.scriptDynamicFlags=e)},t.prototype.getReleventServerPrefix=function(t){var e,n=null===(e=d.DvTagDataObject.getParamValue("vidreg"))||void 0===e?void 0:e.toLowerCase();return n&&{ue:!0,uw:!0,eu:!0,as:!0}[n]?"https://tpsc-video-"+n+".doubleverify.com/":d.DvTagDataObject.getServerPrefix()},t.prototype.buildTpsQueryString=function(t){var e=r.Utilities.getQueryString(t,t.additionalParams,t.dvpParamsFlags,i.TPSDataMapping),n=["gdpr","gdpr_consent"].filter((function(e){return!t[e]}));n.length&&(e=n.map((function(t){return t+"="})).join("&")+"&"+e);return e+="&"+i.TPSDataMapping.checksum+"="+r.Utilities.generateAdler32Hash(e)},t.prototype.executePhase=function(t){var e=Math.floor(Date.now()*Math.random());t.additionalParams||(t.additionalParams={}),t.additionalParams.dvp_tuid=e,t.flavor="0";var n=this.getReleventServerPrefix(t);t.errorURL=n+d.DvTagDataObject.getErrorPath(),this.appendScriptDynamicFlags(t),this.appendPerformanceMetrics(t);var i=this.buildTpsQueryString(t),s=""+n+d.DvTagDataObject.getInitPath()+"?"+i,p=a.WindowAdaptor.currentDocument(),u=a.WindowAdaptor.getCurrentScript()||p.body,l={tuid:e,cmp:t.cmp,ctx:t.ctx,sid:t.sid,plc:t.plc,vurll:s.length,protocol:c.DvObject.getProtocol()},v=this.errorFunction.bind(this,l),f="TPSCall";c.DvObject.isRestrictedAccess()&&(f+="_"+c.DvObject.getTagUniqueKey()),c.DvObject.setVisitInjectedMS(r.Utilities.getCurrentTime()),o.BrowserAdaptor.addScriptAsync(s,u,f,!1,v,this.onLoad),r.Utilities.logDvSignal(s)},t.prototype.toString=function(){return"ScriptsInjection"},t.prototype.errorFunction=function(t){var e=t.vurll,n=t.protocol,i=r.Utilities.isExceedingMaxUrlLength(e)?p.ClientErrorType.VisitRequestError:p.ClientErrorType.VisitResponseError,o={dvp_vurll:e,dvp_protocol:n};s.MessageHandler.sendError(i,void 0,void 0,o)},t}();e.ScriptsInjection=l},9848:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.SupportedIntegrationsCollector=void 0;var n=function(){function t(t){this.integrations=t}return t.prototype.isSupported=function(){return!0},t.prototype.collectData=function(t){var e=0;this.integrations.forEach((function(t){t.isSupported()&&(e|=Number(t.getIntegrationType()))})),t.supportedIntegrations=e,0!=e&&(t.additionalParams.dvp_mib=e)},t.prototype.toString=function(){return"SupportedIntegrations"},t}();e.SupportedIntegrationsCollector=n},6216:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserCollector=void 0;var r=n(9817),i=n(5191),o=function(){function t(){}return t.prototype.isSupported=function(){return!i.WindowAdaptor.isDomlessEnvironment()},t.prototype.collectData=function(t){var e=r.BrowserDetector.getBrowserId();null!=e&&(t.browserDetectionSource=1),t.browserId=e,t.browserVersion=r.BrowserDetector.getBrowserVersion(),t.browserIdUserAgent=r.BrowserDetector.getBrowserIdUserAgent()},t.prototype.toString=function(){return"Browser"},t}();e.BrowserCollector=o},4137:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.DomScriptCollector=void 0;var r=n(5191),i=n(7258),o=function(){function t(){}return t.prototype.isSupported=function(){return!r.WindowAdaptor.isDomlessEnvironment()},t.prototype.collectData=function(t){this.isScriptInHeadPosition()&&(t.isScriptInHeadLocation=1)},t.prototype.toString=function(){return"DomScript"},t.prototype.isScriptInHeadPosition=function(){var t=i.DvTagDataObject.getDVScript();return t&&t.parentElement&&"HEAD"==t.parentElement.tagName},t}();e.DomScriptCollector=o},6768:function(t,e,n){var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.DvParamsCollector=void 0;var o=n(7258),a=n(4747),s=n(4472),d=function(){function t(){this.tpsParams=["ctx","cmp","ipos","sid","plc","adid","crt","btreg","btadsrv","adsrv","advid","num","pid","crtname","unit","chnl","uid","scusrid","tagtype","sr","dt","dup","app","dvvidver","turl","icall","dv_callback","useragent","xff","timecheck","seltag","sadv","ord","litm","scrt","invs","splc","adu","spos","c1","c2","c3","c4","c5","c6","c7","c8","c9","c10","c11","c12","c13","c14","c15","native","gmnpo","isdvvid","msrapi","bsimpid","prr","iframe","gdpr","gdpr_consent","tvcp","vssd","apifw","vstvr","auprice","ppid","audeal","auevent","auadv","aucmp","aucrtv","auorder","ausite","auplc","auxch","audvc","aulitem","auadid","pltfrm","aufilter1","aufilter2","autt","auip","aubndl"],this.aspParams=["auctionid","vermemid","source","buymemid","anadvid","ioid","cpgid","cpid","sellerid","pubid","advcode","iocode","cpgcode","cpcode","pubcode","prcpaid","auip","auua"]}return t.prototype.isSupported=function(){return!0},t.prototype.collectData=function(t){var e=s.DvObject.getDvtpScriptVersion();t.dvtpScriptVersion=e,t.collectDataStartTime=a.Utilities.getCurrentTime();var n=o.DvTagDataObject.getCaseSensitiveParams();if(!a.Utilities.isEmpty(n)){var d=o.DvTagDataObject.getLowerCaseParams();this.tpsParams.forEach((function(e){a.Utilities.isNullOrEmpty(d[e])||(t[e]=d[e])})),this.aspParams.forEach((function(e){a.Utilities.isNullOrEmpty(n[e])||(t[e]=n[e],t.additionalParams["dvp_"+e]=n[e])}));var p=i(i([],r(this.tpsParams)),r(this.aspParams));Object.keys(n).filter((function(t){return!a.Utilities.isNullOrEmpty(n[t])&&-1===p.indexOf(t)})).forEach((function(e){var r=n[e];a.Utilities.startsWith(e,"dvpx_",!0)&&(r=encodeURIComponent(r)),t.additionalParams[e]=r}))}},t.prototype.toString=function(){return"DvParams"},t}();e.DvParamsCollector=d},6635:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.InjectionDetectionCodeCollector=void 0;var r=n(5191),i=function(){function t(){this.results=[]}return t.prototype.isSupported=function(){return!r.WindowAdaptor.isDomlessEnvironment()},t.prototype.collectData=function(t){try{this.ancestorsInjectionDetection(),t.idcResults=this.results.join(",")}catch(e){t.idcResults="-999",t.idcError=e.message||"unknown"}t.idcVersion=28},t.prototype.toString=function(){return"InjectionDetectionCodeCollector"},t.prototype.ancestorsInjectionDetection=function(){for(var t=r.WindowAdaptor.workingWindow(),e=0;e<10&&(this.detectInjections(t),!r.WindowAdaptor.isTop(t))&&(t=r.WindowAdaptor.getWindowParent(t));e++);},t.prototype.detectInjections=function(t){this.addInjector(t,null!=t.AZSD,9),this.addInjector(t,t.location.hostname!=t.encodeURIComponent(t.location.hostname),10),this.addInjector(t,null!=t.cascadeWindowInfo,11),this.addInjector(t,null!=t._rvz,32),this.addInjector(t,null!=t.FO_DOMAIN,34),this.addInjector(t,null!=t.va_subid,36),this.addInjector(t,t._GPL&&t._GPL.baseCDN,40),this.addInjector(t,this.evaluateProperty(t,"__twb__")&&this.evaluateProperty(t,"__twb_cb_"),43),this.addInjector(t,null!=t.landingUrl&&null!=t.seList&&null!=t.parkingPPCTitleElements&&null!=t.allocation,45),this.addInjector(t,this.evaluateProperty(t,"_rvz",(function(t){return null!=t.publisher_subid})),46),this.addInjector(t,null!=t.cacildsFunc&&null!=t.n_storesFromFs,47),this.addInjector(t,t._pcg&&t._pcg.GN_UniqueId,54),this.addInjector(t,this.evaluateProperty(t,"__ad_rns_")&&this.evaluateProperty(t,"_$_"),64),this.addInjector(t,null!=t.APP_LABEL_NAME_FULL_UC,71),this.addInjector(t,null!=t._priam_adblock,81),this.addInjector(t,t.supp_ads_host&&t.supp_ads_host_overridden,82),this.addInjector(t,t.uti_xdmsg_manager&&t.uti_xdmsg_manager.cb,87),this.addInjector(t,t.LogBundleData&&t.addIframe,91),this.addInjector(t,t.xAdsXMLHelperId||t.xYKAffSubIdTag,95),this.addInjector(t,t.__pmetag&&t.__pmetag.uid,98),this.addInjector(t,t.CustomWLAdServer&&/(n\d{1,4}adserv)|(1ads|cccpmo|epommarket|epmads|adshost1)/.test(t.supp_ads_host_overridden),100)},t.prototype.evaluateProperty=function(t,e,n){for(var r in t)if(r.indexOf(e)>-1&&(!n||n(t[r])))return!0;return!1},t.prototype.addInjector=function(t,e,n){e&&-1==this.results.indexOf(n)&&this.results.push((r.WindowAdaptor.isTop(t)?-1:1)*n)},t}();e.InjectionDetectionCodeCollector=i},6808:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeCollector=void 0;var r=n(5191),i=function(){function t(){}return t.prototype.isSupported=function(){return!r.WindowAdaptor.isDomlessEnvironment()},t.prototype.collectData=function(t){try{if(128!=(128&r.WindowAdaptor.getScenarioType())){var e=r.WindowAdaptor.getTopAccessibleWindow(),n=r.WindowAdaptor.workingDocument(e);t.widgetCount=(e.FB?1:0)+(e.twttr?2:0)+(e.outbrain?4:0)+(e._taboola?8:0);try{n.cookie&&(t.cookieLength=n.cookie.length)}catch(t){}e.performance&&e.performance.timing&&e.performance.timing.domainLookupStart>0&&e.performance.timing.domainLookupEnd>0&&(t.domainLookupTime=e.performance.timing.domainLookupEnd-e.performance.timing.domainLookupStart),n.querySelectorAll&&(t.documentElementCount=n.querySelectorAll("*").length)}var i=r.WindowAdaptor.workingWindow();t.iframeCount=i.top.length,i.history&&(t.historyLength=i.history.length)}catch(t){}},t.prototype.toString=function(){return"AttributeCollector"},t}();e.AttributeCollector=i},4109:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeaturesCollector=void 0;var r=n(5191),i=function(){function t(){}return t.prototype.isSupported=function(){return!r.WindowAdaptor.isDomlessEnvironment()},t.prototype.collectData=function(t){t.browserFeatures=this.getBrowserFeatures()},t.prototype.toString=function(){return"BrowserFeaturesCollector"},t.prototype.getBrowserFeatures=function(){try{var t=0,e=function(e,n){n&&e<32&&(t=(t|1<<e)>>>0)},n=function(t,e){return typeof t===e},i=r.WindowAdaptor.workingDocument(),o="svg"===r.WindowAdaptor.workingDocumentElement().nodeName.toLowerCase(),a=function(t){return"function"!=typeof i.createElement?i.createElement(arguments[0]):o?i.createElementNS.call(i,"http://www.w3.org/2000/svg",arguments[0]):i.createElement.apply(i,arguments)},s="Moz O ms Webkit",d=s.split(" "),p=s.toLowerCase().split(" "),c={style:{elem:a("modernizr")}.elem.style},u=function(t,e,r){var i=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+d.join(i+" ")+i).split(" ");if(n(e,"string")||n(e,"undefined"))return function(t,e){for(var n,r,i,o=["modernizr","tspan","samp"];!c.style&&o.length;)n=!0,c.modElem=a(o.shift()),c.style=c.modElem.style;function s(){n&&(delete c.style,delete c.modElem)}r=t.length;for(var d=0;d<r;d++)if(i=t[d],c.style[i],void 0!==c.style[i])return s(),"pfx"!=e||i;return s(),!1}(o,e);o=(t+" "+p.join(i+" ")+i).split(" ");var s=void 0;for(var u in o)if(o[u]in e)return!1===r?o[u]:(s=e[o[u]],n(s,"function")?s.bind(r||e):s);return!1},l=r.WindowAdaptor.workingWindow();return e(0,!0),e(1,!!u("requestFileSystem",l)),e(2,!!l.CSS&&"function"==typeof l.CSS.escape),e(3,u("shapeOutside","content-box",!0)),t}catch(t){return 0}},t}();e.BrowserFeaturesCollector=i},4953:function(t,e,n){var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserSignatureCollector=void 0;var i=n(5191),o=n(4747),a=function(){function t(){}return t.prototype.isSupported=function(){return!i.WindowAdaptor.isDomlessEnvironment()},t.prototype.collectData=function(t){var e=this.getBrowserSignature();e&&(t.browserSignatureFamilyBits=e.f,t.browserSignatureBits=e.s)},t.prototype.toString=function(){return"BrowserSignatureCollector"},t.prototype.getBrowserSignature=function(){var t,e=0,n=0;try{var a=function(t,r,i){i&&(e+=Math.pow(2,t),n+=Math.pow(2,r))},s=i.WindowAdaptor.getTopAccessibleWindow(),d=i.WindowAdaptor.workingDocument(s);a(14,0,s.playerInstance&&d.querySelector('script[src*="ads-player.com"]')),a(14,1,(s.CustomWLAdServer||s.DbcbdConfig)&&((t=d.querySelector('p[class="footerCopyright"]'))&&t.textContent.match(/ MangaLife 2016/))),a(15,2,s.zpz&&s.zpz.createPlayer),a(15,3,s.vdApp&&s.vdApp.createPlayer),a(15,4,d.querySelector('body>div[class="z-z-z"]')),a(16,5,s.xy_checksum&&s.place_player&&(s.logjwonready&&s.logContentPauseRequested||s.jwplayer)),a(17,6,function(){if(i.WindowAdaptor.isTop(s)&&""==d.title){var t=d.querySelector('body>object[id="player"]');return t&&t.data&&t.data.indexOf("jwplayer")>1&&"visibility: visible;"==t.getAttribute("style")}return!1}()),a(17,7,d.querySelector('script[src*="sitewebvideo.com"]')),a(17,8,s.InitPage&&s.cef&&s.InitAd),a(17,9,function(){if(i.WindowAdaptor.isTop(s)&&""==d.title){var t=d.querySelector("body>#player");return t&&(t.querySelector('div[id*="opti-ad"]')||t.querySelector('iframe[src="about:blank"]'))}return!1}()),a(17,10,function(){if(i.WindowAdaptor.isTop(s)&&""==d.title&&s.InitAdPlayer){var t=d.querySelector('body>div[id="kt_player"]');return t&&t.querySelector('div[class="flash-blocker"]')}return!1}()),a(17,11,null!=s.clickplayer&&null!=s.checkRdy2),a(19,12,s.instance&&s.inject&&d.querySelector('path[id="cp-search-0"]')),a(20,13,function(){var t,e,n,i;try{if(s.top==s&&d.getElementsByClassName("asu").length>0){var a=o.Utilities.arrayLikeToArray(d.styleSheets);try{for(var p=r(a),c=p.next();!c.done;c=p.next()){var u=c.value,l=o.Utilities.arrayLikeToArray(u.cssRules);try{for(var v=(n=void 0,r(l)),f=v.next();!f.done;f=v.next()){var h=f.value;if("div.kk"==h.selectorText||"div.asu"==h.selectorText)return!0}}catch(t){n={error:t}}finally{try{f&&!f.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=p.return)&&e.call(p)}finally{if(t)throw t.error}}}}catch(t){}}()),a(21,14,function(){try{return null!=d.querySelector('div[id="kt_player"][hiegth]')}catch(t){}}()),a(22,15,function(){try{return s.top==s&&null!=s.document.querySelector('div[id="asu"][class="kk"]')}catch(t){}}()),a(25,16,function(){try{return d.querySelector('object[data*="/VPAIDFlash.swf"]')&&d.querySelector('object[id*="vpaid_video_flash_tester_el"]')&&d.querySelector('div[id*="desktopSubModal"]')}catch(t){}}());var p=i.WindowAdaptor.getUserAgent();if(p&&p.indexOf("Android")>-1&&p.indexOf(" wv)")>-1&&s==dvWindow.top){a(28,17,d.querySelector('img[src*="dealsneartome.com"]')||!!s.__cads__||d.querySelectorAll('img[src*="/tracker?tag="]').length>0||!1)}if(e>0)return{f:e,s:n}}catch(t){}return null},t}();e.BrowserSignatureCollector=a},4441:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.HardwareFeaturesCollector=void 0;var r=n(5191),i=function(){function t(){}return t.prototype.isSupported=function(){return!0},t.prototype.collectData=function(t){t.numberOfCores=r.WindowAdaptor.getNumberOfCores(),this.getTouchSupport()&&(t.hasTouchPad=1),t.navigatorPlatform=this.getPlatform()},t.prototype.toString=function(){return"HardwareDataCollector"},t.prototype.getTouchSupport=function(){var t,e;return 5===(null===(e=null===(t=null===r.WindowAdaptor||void 0===r.WindowAdaptor?void 0:r.WindowAdaptor.workingWindow())||void 0===t?void 0:t.navigator)||void 0===e?void 0:e.maxTouchPoints)},t.prototype.getPlatform=function(){var t,e;return null===(e=null===(t=null===r.WindowAdaptor||void 0===r.WindowAdaptor?void 0:r.WindowAdaptor.workingWindow())||void 0===t?void 0:t.navigator)||void 0===e?void 0:e.platform},t}();e.HardwareFeaturesCollector=i},1054:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.HijackedDeviceSignatureCollector=void 0;var r=n(5191),i=function(){function t(){}return t.prototype.isSupported=function(){return!r.WindowAdaptor.isDomlessEnvironment()},t.prototype.collectData=function(t){var e=this.getSignature();e&&(t.hijackedDeviceSignatureBits=e)},t.prototype.toString=function(){return"HijackedDeviceSignatureCollector"},t.prototype.getSignature=function(){var t,e=0;try{var n=r.WindowAdaptor.getTopAccessibleWindow(),i=r.WindowAdaptor.workingDocument(n);if(t=6,r.WindowAdaptor.isTop(n)&&""==i.title&&null==i.querySelector("meta[charset]")&&null!=i.querySelector('div[style*="background-image: url("]')&&(null!=i.querySelector('script[src*="j.pubcdn.net"]')||null!=i.querySelector('span[class="ad-close"]'))&&(e+=Math.pow(2,t)),e>0)return e}catch(t){}return null},t}();e.HijackedDeviceSignatureCollector=i},7245:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.IOSMapleCollector=void 0;var r=n(5191),i=function(){function t(){this.maxIterations=10}return t.prototype.isSupported=function(){return!r.WindowAdaptor.isDomlessEnvironment()},t.prototype.collectData=function(t){var e=r.WindowAdaptor.isIOS(),n=r.WindowAdaptor.objectLookup(r.WindowAdaptor.workingWindow(),"maple",this.maxIterations);e&&t.dvpParamsFlags.push(0),n&&t.dvpParamsFlags.push(1)},t.prototype.toString=function(){return"IOSMaple"},t}();e.IOSMapleCollector=i},6785:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.MraidCollector=void 0;var r=n(3985),i=function(){function t(){}return t.prototype.isSupported=function(){return r.MraidWrapper.isSupported()},t.prototype.collectData=function(t){t.isMraid=1},t.prototype.toString=function(){return"MraidCollector"},t}();e.MraidCollector=i},4817:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidContextCollector=void 0;var r=n(5137),i=n(5191),o=n(4472),a=n(4747),s=n(7083),d=function(){function t(){}return t.prototype.isSupported=function(t){return i.WindowAdaptor.workingWindow()&&i.WindowAdaptor.workingWindow().omid3p&&(t.omidWebEnvironmentLog=1),r.OmidWrapper.isSupported()},t.prototype.collectData=function(t){var e=r.OmidWrapper.getOmidContext();if(e){if(t.omidEnvironment=e.environment,t.omidAdSessionType=e.adSessionType,t.omidAppId=e.app&&e.app.appId,t.omidAppLibraryVersion=e.app&&e.app.libraryVersion,t.omidPartnerName=e.omidNativeInfo&&e.omidNativeInfo.partnerName,t.omidPartnerVersion=e.omidNativeInfo&&e.omidNativeInfo.partnerVersion,t.omidJSServiceVersion=e.omidJsInfo&&e.omidJsInfo.serviceVersion,t.omidJSSessionClientVersion=e.omidJsInfo&&e.omidJsInfo.sessionClientVersion,t.omidJSPartnerName=e.omidJsInfo&&e.omidJsInfo.partnerName,t.omidJSPartnerVersion=e.omidJsInfo&&e.omidJsInfo.partnerVersion,t.omidDeviceType=e.deviceInfo&&e.deviceInfo.deviceType,t.omidDeviceOSVersion=e.deviceInfo&&e.deviceInfo.osVersion,t.omidCustomReferenceData=a.Utilities.isNullOrEmpty(e.customReferenceData)?e.customReferenceData:encodeURIComponent(e.customReferenceData),this.extractOmidContentUrl(t),e.deviceInfo&&e.deviceInfo.os){var n=null;"iOS"==e.deviceInfo.os?n=6:"Android"==e.deviceInfo.os&&(n=5),t.omidDeviceOS=n}if(e.supports){var i=0;e.supports.forEach((function(t){"clid"===t?i+=1:"vlid"===t&&(i+=2)})),0!=i&&(t.omidSupports=i)}}var d=o.DvObject.getDvObject();this.setOmidVendorKey(t,d.omidVendorKey),d.tagsCounter>1&&(t.omidTagsCounter=d.tagsCounter);var p=r.OmidWrapper.getSessionData();if(p){var c=(p.data||{}).context||{};c.accessMode&&(t.omidAccessMode=r.OmidWrapper.getOmidAccessModeNumber(c.accessMode)),c.underEvaluation&&s.ScriptDynamicFlags.getInstance().turnOn(1)}},t.prototype.extractOmidContentUrl=function(t){var e;try{var n=null===(e=r.OmidWrapper.getSessionData())||void 0===e?void 0:e.data;if(n){var i=n.contentUrl;if(i){var o=i.substring(0,500);t.omidContentUrl=o}}}catch(t){}},t.prototype.setOmidVendorKey=function(t,e){e&&(t.omidVendorKey=r.OmidWrapper.getOmidVendorKeyIndex(e))},t.prototype.toString=function(){return"OmidContext"},t}();e.OmidContextCollector=d},5497:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ParamUrlExtractionMethodCollector=void 0;var r=n(7258),i=n(4472),o=n(5137),a=n(5191),s=n(4747),d=n(7083),p=function(){function t(){}return t.prototype.isSupported=function(){return!0},t.prototype.collectData=function(t){var e=r.DvTagDataObject.getParamUrlExtractionMethod();e&&(t.additionalParams.dvp_rcp=e),this.appendUrlHashTagLogger(t),this.appendIsES6Supported(t),this.appendScriptElementExtractionMethod(t),this.appendIsCurrentScriptNotSupported(t),this.appendIsOmid(t),this.appendHasTagUniqueKey(t),this.appendTagCounter(t),this.appendSharedUniqueKey(t),this.appendTagUniqueKey(t),this.appendUuid(t)},t.prototype.appendUrlHashTagLogger=function(t){var e=0,n=r.DvTagDataObject.getDVScriptUrl();if(!s.Utilities.isNullOrEmpty(n)){var i=new RegExp("[#]([^&#?]*)=([^&#?]*)","gi"),o=new RegExp("[?]([^&#?]*)=([^&#?]*)","gi");i.test(n)&&(e|=1),o.test(n)&&(e|=2),e&&(t.additionalParams.dvp_htec=e)}},t.prototype.appendUuid=function(t){t.additionalParams.dvp_uuid=s.Utilities.generateGuid()},t.prototype.appendIsES6Supported=function(t){i.DvObject.isES6Supported()&&d.ScriptDynamicFlags.getInstance().turnOn(2)},t.prototype.appendTagUniqueKey=function(t){var e=i.DvObject.getTagUniqueKey();e&&(t.additionalParams.dvp_tukv=e)},t.prototype.appendSharedUniqueKey=function(t){var e=i.DvObject.getSharedUniqueKey();e&&(t.additionalParams.dvp_sukv=e)},t.prototype.appendScriptElementExtractionMethod=function(t){var e=r.DvTagDataObject.getScriptElementExtractionMethod();e&&(t.additionalParams.dvp_seem=e)},t.prototype.appendIsCurrentScriptNotSupported=function(t){!a.WindowAdaptor.getCurrentScript()&&(t.additionalParams.dvp_nscs=1)},t.prototype.appendIsOmid=function(t){var e;try{var n=0,r=a.WindowAdaptor.workingWindow();o.OmidWrapper.isSupported()&&(n=1),i.DvObject.isOmidForWeb()&&(n|=8),i.DvObject.isOmid3p()&&(n|=16);try{if(!i.DvObject.isRestrictedAccess()&&!a.WindowAdaptor.isDomlessEnvironment()){var d=a.WindowAdaptor.getWindowParent(r),p=a.WindowAdaptor.getWindowParent(d);void 0===r.omidVerificationProperties&&void 0===d.omidVerificationProperties&&void 0===r.omid&&void 0===d.omid&&void 0===p.omid||(n|=2);var c=null!==(e=r.omidVerificationProperties)&&void 0!==e?e:d.omidVerificationProperties;s.Utilities.isNullOrEmpty(c)||"web"===(null==c?void 0:c.injectionSource)&&(n|=4)}}catch(t){}n>0&&(t.additionalParams.dvp_iomd=n)}catch(t){}},t.prototype.appendHasTagUniqueKey=function(t){i.DvObject.getTagUniqueKey()&&(t.additionalParams.dvp_tuk=1)},t.prototype.appendTagCounter=function(t){var e=i.DvObject.getTagCounter();e>1&&(t.additionalParams.dvp_tcnt=e)},t.prototype.toString=function(){return"ParamUrlExtractionMethod"},t}();e.ParamUrlExtractionMethodCollector=p},2181:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.PreRenderCollector=void 0;var r=n(2709),i=function(){function t(){}return t.prototype.isSupported=function(){return!0},t.prototype.collectData=function(t){r.RenderLogicFactory.getRenderLogic().isAdRendered()||(t.isPreRender=1)},t.prototype.toString=function(){return"PreRender"},t}();e.PreRenderCollector=i},12:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ReferrerCollector=void 0;var r=n(5191),i=n(4747),o=n(805),a=function(){function t(){}return t.prototype.isSupported=function(t){var e=(r.WindowAdaptor.getUserAgent()||"").toLowerCase();return!r.WindowAdaptor.isDomlessEnvironment()&&(e.indexOf("webkit")>-1||e.indexOf("chrome")>-1)},t.prototype.collectData=function(t){var e=encodeURIComponent(r.WindowAdaptor.workingWindow().location.toString());i.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,o.TPSDataMapping,e)&&(t.referrerUrl=e)},t.prototype.toString=function(){return"Referrer"},t}();e.ReferrerCollector=a},6526:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptsPerformanceCollector=void 0;var r=n(5191),i=function(){function t(){}return t.prototype.isSupported=function(){return!r.WindowAdaptor.isDomlessEnvironment()},t.prototype.collectData=function(t){var e,n=r.WindowAdaptor.monitorScriptsPerformance(r.WindowAdaptor.workingWindow(),((e={}).dvtp_src=["fetchStart","duration"],e));t.dvtp_src_fetchStart=n.dvtp_src_fetchStart,t.dvtp_src_duration=n.dvtp_src_duration},t.prototype.toString=function(){return"ScriptsPerformance"},t}();e.ScriptsPerformanceCollector=i},6625:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SslCollector=void 0;var r=n(5191),i=n(7258),o=n(4472),a=function(){function t(){}return t.prototype.isSupported=function(){return!0},t.prototype.collectData=function(t){var e=i.DvTagDataObject.getDVScriptUrl(),n=r.WindowAdaptor.workingWindow().location;e&&n&&e.match("^http:")&&n.toString().match("^https")&&(t.diffSsl=1),t.isSsl=o.DvObject.getProtocol()},t.prototype.toString=function(){return"Ssl"},t}();e.SslCollector=a},8399:function(t,e,n){var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.StrCollector=void 0;var i=n(5191),o=n(8155),a=n(4747),s=n(805),d=n(2382),p=n(6089),c=n(7526),u=function(){function t(){this.parentIsPermitted=!1,this.ancestorChain="",this.additionalUrl="",this.htmlUrl="",this.canonicalUrl="",this.referrerOffset=0,this.insertEparam=function(t,e){var n=t+"="+encodeURIComponent(e);this.eparams=this.eparams?this.eparams+"&"+n:n}}return t.prototype.isSupported=function(){return!i.WindowAdaptor.isDomlessEnvironment()},t.prototype.getSTR=function(t){return this.workingWindow=i.WindowAdaptor.workingWindow(),this.findHighestAvailableWindow(),this.processDVurl(),t.referrerUrlExtractedFromSafeFrame=this.referrerUrlExtractedFromSafeFrame,t.safeFrameExists=this.safeFrameExists,this.extractAncestorChain(),this.calculateWindowDepth(),this.updateWindowDepth(),this.extractUrlFromHtml(t),this.htmlUrl||this.findAdditionalURLs(),this.setEparams(t),{ep1:encodeURIComponent(this.dvURL),ep2:encodeURIComponent(this.ancestorChain),ep3:encodeURIComponent(this.additionalUrl),ep4:encodeURIComponent(this.htmlUrl),ep5:encodeURIComponent(this.canonicalUrl)}},t.prototype.collectData=function(t){this.getSTR(t);var e=encodeURIComponent(this.eparams);a.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,s.TPSDataMapping,e)?t.eparams=e:t.dvpParamsFlags.push(3),t.eparamsLength=e&&e.length,t.referrerDepth=this.referrerDepth,t.windowDepth=this.windowDepth,t.additionalUrlDepth=this.htmlUrl?-1:this.additionalUrlDepth},t.prototype.toString=function(){return"Str"},t.prototype.findHighestAvailableWindow=function(){try{this.highestAvailableWindow=this.workingWindow;for(var t=0;t<=10;t++){var e=i.WindowAdaptor.getWindowParent(this.highestAvailableWindow,!0);if(!e||this.highestAvailableWindow==e){0==t&&(this.parentIsPermitted=!0);break}if(!(e.location.toString().length>0)){this.parentIsPermitted=!1;break}this.highestAvailableWindow=e,this.referrerOffset++,this.parentIsPermitted=!0}}catch(t){this.parentIsPermitted=!1}},t.prototype.processDVurl=function(){var t,e=i.WindowAdaptor.workingDocument(this.highestAvailableWindow).referrer,n=null===(t=this.workingWindow.location)||void 0===t?void 0:t.ancestorOrigins,r=n&&n[n.length-1];if(d.SafeFrameObject.isSafeFrameExists(this.highestAvailableWindow)&&(this.safeFrameExists=1),0==e.length)this.dvURL=this.highestAvailableWindow.location.toString();else if(this.parentIsPermitted)this.dvURL=this.highestAvailableWindow.location.toString();else{this.dvURL=e;var o=d.SafeFrameObject.getUrlReferrer(this.highestAvailableWindow);!o||n&&0!=o.indexOf(r)||(this.dvURL=o,this.referrerUrlExtractedFromSafeFrame="sf"),this.dvMinus=!0}},t.prototype.extractAncestorChain=function(){var t=this.getAncestorOrigins(),e=this.workingWindow.location;t&&t.length>0&&e&&(t.unshift(e.protocol+"//"+e.hostname),this.ancestorChain=t.reverse().join(","))},t.prototype.getAncestorOrigins=function(){return a.Utilities.DOMStringListToArray(this.workingWindow[o.Encoding.ROT47("=@42E:@?")][o.Encoding.ROT47("2?46DE@C~C:8:?D")])},t.prototype.calculateWindowDepth=function(){for(var t=0,e=this.highestAvailableWindow;t<10&&!i.WindowAdaptor.isTop(e);)t++,e=i.WindowAdaptor.getWindowParent(e,!0);this.windowDepth=t},t.prototype.findAdditionalURLs=function(){try{if(this.additionalUrl="",this.additionalUrlDepth=0,this.windowDepth<=1)return;var t=[];t.push({win:i.WindowAdaptor.windowTop(!0),depth:0});for(var e=void 0,n=void 0,r=void 0,o=1,a=0;o>0&&a<100;){try{a++,n=(e=t.shift()).win,r=e.depth,o--;var s=n.location.toString();if(s.length>0&&n!=this.highestAvailableWindow){var d=i.WindowAdaptor.workingDocument(n).referrer;return 0==d.length||0==r?(this.additionalUrl=s,void(this.additionalUrlDepth=r)):(this.additionalUrl=d,void(this.additionalUrlDepth=r-1))}}catch(t){}for(var p=n.frames.length,c=0;c<p;c++)t.push({win:n.frames[c],depth:r+1}),o++}}catch(t){}},t.prototype.updateWindowDepth=function(){this.referrerDepth=this.windowDepth+this.referrerOffset,this.dvMinus&&this.windowDepth&&this.windowDepth--},t.prototype.setEparams=function(t){this.insertEparam("srcurl",this.dvURL),this.ancestorChain&&this.insertEparam("ancChain",this.ancestorChain);var e=this.htmlUrl||this.additionalUrl;e&&a.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,s.TPSDataMapping,e)&&this.insertEparam("aUrl",e),this.canonicalUrl&&this.insertEparam("canurl",this.canonicalUrl),this.eparams=o.Encoding.ROT47(this.eparams)},t.prototype.extractUrlFromHtml=function(t){try{if(this.canonicalUrl=this.extractCanonicalUrl(),t.browserId==c.Browser.IE||128!=t.trafficScenarioType)return;if(i.WindowAdaptor.isPerformanceAPISupported()&&i.WindowAdaptor.currentWindow().performance.mark("dv_str_html_start"),this.dvURL){var e=new RegExp("^(?:https?:\\/\\/)?[\\w\\-\\.]+\\/[a-zA-Z0-9]","gi"),n=this.dvURL.match(e);if(n&&n.length>0)return}var r=i.WindowAdaptor.workingDocument(this.highestAvailableWindow);if(r&&r.referrer){var o=r.referrer.replace(/\//g,"\\/").replace(/\./g,"\\."),a=new RegExp('(?:w{0,4}=")?'+o+"[^&\"; %,'\\$\\\\\\|]+","gi"),s=new RegExp("banner|adprefs|safeframe|sandbox|sf\\.html","gi");this.htmlUrl=this.getUrlFromHtml(r,a,s,/^\w{0,4}="/gi),this.measureExtraction(t)}}catch(t){}},t.prototype.extractCanonicalUrl=function(){var t=i.WindowAdaptor.workingDocument(this.highestAvailableWindow),e=p.BrowserAdaptor.querySelector("link[rel=canonical]",t);return null==e?void 0:e.href},t.prototype.getUrlFromHtml=function(t,e,n,r){var i=this.findUrlByTag(t,"script","src",e,n,r);return i||(i=this.extractFromScriptHtml(t,e,n,r))||(i=this.findUrlByTag(t,"a","href",e,n,r)),i},t.prototype.findLongestMatch=function(t,e,n){var r="";if(t&&t.length>0)for(var i=0;i<t.length;i++){var o=t[i];o.length>r.length&&null==o.match(e)&&0!=o.indexOf('src="')&&0!=o.indexOf('turl="')&&(r=o.replace(n,""))}return r},t.prototype.findUrlByTag=function(t,e,n,r,i,o){var a=e+"["+n+'*="'+t.referrer+'"]',s=p.BrowserAdaptor.querySelectorAll(t,a),d="";if(s)for(var c=0;!d&&c<s.length;){var u=s[c][n].match(r);d=this.findLongestMatch(u,i,o),c++}return d},t.prototype.extractFromScriptHtml=function(t,e,n,r){var i=t.referrer,o="",a=p.BrowserAdaptor.getElementsByTagNameFromDocument("script",t);if(a)for(var s=0;!o&&s<a.length;){var d=a[s].innerHTML;if(d&&-1!=d.indexOf(i)){var c=d.match(e);o=this.findLongestMatch(c,n,r)}s++}return o},t.prototype.measureExtraction=function(t){if(i.WindowAdaptor.isPerformanceAPISupported()){var e=i.WindowAdaptor.currentWindow();e.performance.mark("dv_str_html_end"),e.performance.measure("dv_str_html","dv_str_html_start","dv_str_html_end");var n=r(e.performance.getEntriesByName("dv_str_html"),1)[0];n&&n.duration&&(t.additionalParams.dvp_strhd=n.duration,t.additionalParams.dvpx_strhd=n.duration)}},t}();e.StrCollector=u},9349:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SupplySourceCollector=void 0;var r=n(7258),i=n(6089),o=n(5191),a=n(3985),s=n(5137),d=n(4747),p=n(4516),c=n(7526),u=function(){function t(){this.maxIterations=20}return t.prototype.isSupported=function(){return!0},t.prototype.collectData=function(t){var e=r.DvTagDataObject.getSupplySource();this.isMillenialMediaSupported()?e="mm":p.InmobiWrapper.isSupported()?e="inm_vid":this.isInmobiDisplaySupported()?e="inm_dis":a.MraidWrapper.isSupported()&&(a.MraidWrapper.isOperaMedia()?e="opm":a.MraidWrapper.isAdColony()&&(e="ac")),t.supplySource=s.OmidWrapper.getOmidNativePartnerName()||s.OmidWrapper.getOmidJSPartnerName()||e,d.Utilities.isNullOrEmpty(t.supplySource)||(t.supplySource=t.supplySource.split("|").join("").split("%7C").join(""))},t.prototype.toString=function(){return"SupplySource"},t.prototype.isMillenialMediaSupported=function(){var t=o.WindowAdaptor.workingWindow().mmJsBridge,e=i.BrowserAdaptor.getElementById("aolVideoContainer",o.WindowAdaptor.workingDocument())||t&&t.vpaid,n=o.WindowAdaptor.workingWindow().mmSdkVersion;return!!e||!!n},t.prototype.isInmobiDisplaySupported=function(){return r.DvTagDataObject.getTagType()==c.DvTagType.Display&&a.MraidWrapper.isSupported()&&o.WindowAdaptor.objectLookup(o.WindowAdaptor.currentWindow(),"imraid",this.maxIterations)&&o.WindowAdaptor.objectLookup(o.WindowAdaptor.currentWindow(),"inmobi",this.maxIterations)},t}();e.SupplySourceCollector=u},3994:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.TpsApiTypeCollector=void 0;var r=n(7258),i=function(){function t(){}return t.prototype.isSupported=function(){return!0},t.prototype.collectData=function(t){switch(r.DvTagDataObject.getDvApi()){case"1":t.tpsApiType="dvvisit";break;case"5":t.tpsApiType="query";break;default:t.tpsApiType="visit"}},t.prototype.toString=function(){return"TpsApiType"},t}();e.TpsApiTypeCollector=i},5078:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.TrafficScenarioCollector=void 0;var r=n(5191),i=function(){function t(){}return t.prototype.isSupported=function(){return!0},t.prototype.collectData=function(t){t.trafficScenarioType=r.WindowAdaptor.getScenarioType()},t.prototype.toString=function(){return"TrafficScenario"},t}();e.TrafficScenarioCollector=i},3855:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.UserCollector=void 0;var r=n(137),i=n(9844),o=function(){function t(){}return t.prototype.isSupported=function(){return!0},t.prototype.collectData=function(t){t.uid=i.RandomUtils.getRandom16(),t.callbackName=r.CallbackPrefix+i.RandomUtils.getRandom16()},t.prototype.toString=function(){return"UserId"},t}();e.UserCollector=o},7205:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.VastUrlCollector=void 0;var r=n(7258),i=n(4747),o=n(805),a=function(){function t(){}return t.prototype.isSupported=function(t){return this.vastWrapperUrl=r.DvTagDataObject.getVastUrl(),this.vastWrapperUrl&&this.vastWrapperUrl.length<=1e3&&i.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,o.TPSDataMapping,this.vastWrapperUrl)},t.prototype.collectData=function(t){t.vastWrapperUrl=this.vastWrapperUrl},t.prototype.toString=function(){return"vastUrl"},t}();e.VastUrlCollector=a},4353:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoParamsCollector=void 0;var r=n(7526),i=n(7258),o=n(4924),a=function(){function t(){}return t.prototype.isSupported=function(){return i.DvTagDataObject.getTagType()==r.DvTagType.Video},t.prototype.collectData=function(t){t.isOvv=o.VideoPlaybackAdaptor.getOvvObject()?1:void 0,t.isdvvid=1,t.prePlayed=1},t.prototype.toString=function(){return"VideoParams"},t}();e.VideoParamsCollector=a},5368:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.VpaidPlayerUrlCollector=void 0;var r=n(4747),i=n(805),o=n(2913),a=function(){function t(){}return t.prototype.isSupported=function(t){var e=o.VpaidWrapper.getDvVpaid(),n=e&&e.asset;return n&&n.player&&n.player.src&&(this.vpaidPlayerUrl=encodeURIComponent(n.player.src)),this.vpaidPlayerUrl&&this.vpaidPlayerUrl.length<=1e3&&r.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,i.TPSDataMapping,this.vpaidPlayerUrl)},t.prototype.collectData=function(t){t.vpaidPlayerUrl=this.vpaidPlayerUrl},t.prototype.toString=function(){return"vpaidPlayerUrl"},t}();e.VpaidPlayerUrlCollector=a},4023:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.WindowPropertiesCollector=void 0;var r=n(5191),i=n(6089),o=n(805),a=n(4747),s=function(){function t(){}return t.prototype.isSupported=function(){return!r.WindowAdaptor.isDomlessEnvironment()},t.prototype.collectData=function(t){var e=r.WindowAdaptor.workingWindow();try{t.queuePageID=e.external&&e.external.QueuePageID,t.crawlerUrl=e.external&&e.external.CrawlerUrl&&encodeURIComponent(e.external.CrawlerUrl)}catch(t){}t.postMessageSupported=Number(r.WindowAdaptor.isPostMessageSupported()),t.isChrome=e.chrome?1:0,t.historySize=e.history?e.history.length:0,t.innerHeight=i.BrowserAdaptor.getInnerViewport(!1).height,t.innerWidth=i.BrowserAdaptor.getInnerViewport(!1).width,t.outerHeight=i.BrowserAdaptor.getOuterViewport(r.WindowAdaptor.workingWindow(),!1).height,t.outerWidth=i.BrowserAdaptor.getOuterViewport(r.WindowAdaptor.workingWindow(),!1).width,t.screenHeight=i.BrowserAdaptor.getAvailableScreenSize(!1).height,t.screenWidth=i.BrowserAdaptor.getAvailableScreenSize(!1).width;var n=r.WindowAdaptor.getUserAgent(),s=n?encodeURIComponent(n):n;a.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,o.TPSDataMapping,s)&&(t.nativeUserAgent=s)},t.prototype.toString=function(){return"WindowProperties"},t}();e.WindowPropertiesCollector=s},519:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.TPSDataCollector=void 0;var r=n(708),i=n(7526),o=function(){function t(t){this.tpsCollectors=t}return t.prototype.isSupported=function(){return!0},t.prototype.executePhase=function(t){this.tpsCollectors.forEach((function(e){try{e.isSupported(t)&&e.collectData(t)}catch(t){r.MessageHandler.sendError(i.ClientErrorType.TPSDataCollectorError,t,e.toString())}}))},t.prototype.toString=function(){return"TPSData"},t}();e.TPSDataCollector=o},1759:function(t,e,n){!function(t,e,n){if("object"==typeof n&&"string"!=typeof n.nodeName)e(t,n);else{n={};var r=["1.3.17-iab2651"];function i(t){for(var e in t)t.hasOwnProperty(e)&&(t[e]=i(t[e]));return Object.freeze(t)}for(var o in e(t,n),n)n.hasOwnProperty(o)&&(null==Object.getOwnPropertyDescriptor(t,o)&&Object.defineProperty(t,o,{value:{}}),r.forEach((function(e){if(null==Object.getOwnPropertyDescriptor(t[o],e)){var r=i(n[o]);Object.defineProperty(t[o],e,{get:function(){return r},enumerable:!0})}})))}}(void 0===n.g?this:n.g,(function(t,e){"use strict";var r=r||{};r.scope={},r.arrayIteratorImpl=function(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}},r.arrayIterator=function(t){return{next:r.arrayIteratorImpl(t)}},r.makeIterator=function(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):r.arrayIterator(t)},r.arrayFromIterator=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n},r.arrayFromIterable=function(t){return t instanceof Array?t:r.arrayFromIterator(r.makeIterator(t))},r.ASSUME_ES5=!1,r.ASSUME_NO_NATIVE_MAP=!1,r.ASSUME_NO_NATIVE_SET=!1,r.SIMPLE_FROUND_POLYFILL=!1,r.objectCreate=r.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(t){var e=function(){};return e.prototype=t,new e},r.underscoreProtoCanBeSet=function(){var t={};try{return t.__proto__={a:!0},t.a}catch(t){}return!1},r.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:r.underscoreProtoCanBeSet()?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null,r.inherits=function(t,e){if(t.prototype=r.objectCreate(e.prototype),t.prototype.constructor=t,r.setPrototypeOf){var n=r.setPrototypeOf;n(t,e)}else for(n in e)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(e,n);i&&Object.defineProperty(t,n,i)}else t[n]=e[n];t.superClass_=e.prototype};var i={assertTruthyString:function(t,e){if(!e)throw Error("Value for "+t+" is undefined, null or blank.");if("string"!=typeof e&&!(e instanceof String))throw Error("Value for "+t+" is not a string.");if(""===e.trim())throw Error("Value for "+t+" is empty string.")},assertNotNullObject:function(t,e){if(null==e)throw Error("Value for "+t+" is undefined or null")},assertNumber:function(t,e){if(null==e)throw Error(t+" must not be null or undefined.");if("number"!=typeof e||isNaN(e))throw Error("Value for "+t+" is not a number")},assertNumberBetween:function(t,e,n,r){if((0,i.assertNumber)(t,e),e<n||e>r)throw Error("Value for "+t+" is outside the range ["+n+","+r+"]")},assertFunction:function(t,e){if(!e)throw Error(t+" must not be truthy.")},assertPositiveNumber:function(t,e){if((0,i.assertNumber)(t,e),0>e)throw Error(t+" must be a positive number.")}},o={},a=3;o.isValidVersion=function(t){return/\d+\.\d+\.\d+(-.*)?/.test(t)},o.versionGreaterOrEqual=function(t,e){t=t.split("-")[0].split("."),e=e.split("-")[0].split(".");for(var n=0;n<a;n++){var r=parseInt(t[n],10),i=parseInt(e[n],10);if(r>i)break;if(r<i)return!1}return!0};var s={},d="1.0.3";s.serializeMessageArgs=function(t,e){return(0,o.isValidVersion)(t)&&(0,o.versionGreaterOrEqual)(t,d)?e:JSON.stringify(e)},s.deserializeMessageArgs=function(t,e){return(0,o.isValidVersion)(t)&&(0,o.versionGreaterOrEqual)(t,d)?e||[]:e&&"string"==typeof e?JSON.parse(e):[]};var p={AdEventType:{IMPRESSION:"impression",LOADED:"loaded",GEOMETRY_CHANGE:"geometryChange",SESSION_START:"sessionStart",SESSION_ERROR:"sessionError",SESSION_FINISH:"sessionFinish",MEDIA:"media",VIDEO:"video",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction",STATE_CHANGE:"stateChange"},MediaEventType:{LOADED:"loaded",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction"},ImpressionType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",UNSPECIFIED:"unspecified",LOADED:"loaded",BEGIN_TO_RENDER:"beginToRender",ONE_PIXEL:"onePixel",VIEWABLE:"viewable",AUDIBLE:"audible",OTHER:"other"},ErrorType:{GENERIC:"generic",VIDEO:"video",MEDIA:"media"},AdSessionType:{NATIVE:"native",HTML:"html",JAVASCRIPT:"javascript"},EventOwner:{NATIVE:"native",JAVASCRIPT:"javascript",NONE:"none"},AccessMode:{FULL:"full",DOMAIN:"domain",LIMITED:"limited"},AppState:{BACKGROUNDED:"backgrounded",FOREGROUNDED:"foregrounded"},Environment:{APP:"app",WEB:"web"},InteractionType:{CLICK:"click",INVITATION_ACCEPT:"invitationAccept"},CreativeType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",HTML_DISPLAY:"htmlDisplay",NATIVE_DISPLAY:"nativeDisplay",VIDEO:"video",AUDIO:"audio"},MediaType:{DISPLAY:"display",VIDEO:"video"},Reason:{NOT_FOUND:"notFound",HIDDEN:"hidden",BACKGROUNDED:"backgrounded",VIEWPORT:"viewport",OBSTRUCTED:"obstructed",CLIPPED:"clipped",UNMEASURABLE:"unmeasurable"},SupportedFeatures:{CONTAINER:"clid",VIDEO:"vlid"},VideoPosition:{PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll",STANDALONE:"standalone"},VideoPlayerState:{MINIMIZED:"minimized",COLLAPSED:"collapsed",NORMAL:"normal",EXPANDED:"expanded",FULLSCREEN:"fullscreen"},NativeViewKeys:{X:"x",LEFT:"left",Y:"y",TOP:"top",WIDTH:"width",HEIGHT:"height",AD_SESSION_ID:"adSessionId",IS_FRIENDLY_OBSTRUCTION_FOR:"isFriendlyObstructionFor",CLIPS_TO_BOUNDS:"clipsToBounds",CHILD_VIEWS:"childViews",END_X:"endX",END_Y:"endY",OBSTRUCTIONS:"obstructions",OBSTRUCTION_CLASS:"obstructionClass",OBSTRUCTION_PURPOSE:"obstructionPurpose",OBSTRUCTION_REASON:"obstructionReason",PIXELS:"pixels"},MeasurementStateChangeSource:{CONTAINER:"container",CREATIVE:"creative"},ElementMarkup:{OMID_ELEMENT_CLASS_NAME:"omid-element"},CommunicationType:{NONE:"NONE",DIRECT:"DIRECT",POST_MESSAGE:"POST_MESSAGE"},OmidImplementer:{OMSDK:"omsdk"}},c="omid_message_guid",u="omid_message_method",l="omid_message_version",v="omid_message_args",f=function(t,e,n,r){this.guid=t,this.method=e,this.version=n,this.args=r};f.isValidSerializedMessage=function(t){return!!t&&void 0!==t[c]&&void 0!==t[u]&&void 0!==t[l]&&"string"==typeof t[c]&&"string"==typeof t[u]&&"string"==typeof t[l]&&(void 0===t[v]||void 0!==t[v])},f.deserialize=function(t){return new f(t[c],t[u],t[l],t[v])},f.prototype.serialize=function(){var t={};return t[c]=this.guid,t[u]=this.method,t[l]=this.version,void 0!==this.args&&(t[v]=this.args),t};var h=function(t){this.to=t,this.communicationType_=p.CommunicationType.NONE};h.prototype.sendMessage=function(t,e){},h.prototype.handleMessage=function(t,e){this.onMessage&&this.onMessage(t,e)},h.prototype.serialize=function(t){return JSON.stringify(t)},h.prototype.deserialize=function(t){return JSON.parse(t)},h.prototype.isDirectCommunication=function(){return this.communicationType_===p.CommunicationType.DIRECT},h.prototype.isCrossOrigin=function(){};var y={OMID_PRESENT_FRAME_NAME:"omid_v1_present",isOmidPresent:function(t){try{return!!t.frames&&!!t.frames[y.OMID_PRESENT_FRAME_NAME]}catch(t){return!1}},declareOmidPresence:function(t){t.frames&&t.document&&(y.OMID_PRESENT_FRAME_NAME in t.frames||(null==t.document.body&&y.isMutationObserverAvailable_(t)?y.registerMutationObserver_(t):t.document.body?y.appendPresenceIframe_(t):t.document.write('<iframe style="display:none" id="'+y.OMID_PRESENT_FRAME_NAME+'" name="'+y.OMID_PRESENT_FRAME_NAME+'"></iframe>')))},appendPresenceIframe_:function(t){var e=t.document.createElement("iframe");e.id=y.OMID_PRESENT_FRAME_NAME,e.name=y.OMID_PRESENT_FRAME_NAME,e.style.display="none",t.document.body.appendChild(e)},isMutationObserverAvailable_:function(t){return"MutationObserver"in t},registerMutationObserver_:function(t){var e=new MutationObserver((function(n){n.forEach((function(n){"BODY"===n.addedNodes[0].nodeName&&(y.appendPresenceIframe_(t),e.disconnect())}))}));e.observe(t.document.documentElement,{childList:!0})}},g=function(t){h.call(this,t),this.communicationType_=p.CommunicationType.DIRECT,this.handleExportedMessage=g.prototype.handleExportedMessage.bind(this)};r.inherits(g,h),g.prototype.sendMessage=function(t,e){if(!(e=void 0===e?this.to:e))throw Error("Message destination must be defined at construction time or when sending the message.");e.handleExportedMessage(t.serialize(),this)},g.prototype.handleExportedMessage=function(t,e){f.isValidSerializedMessage(t)&&this.handleMessage(f.deserialize(t),e)},g.prototype.isCrossOrigin=function(){return!1};var m={},b={};function w(){return void 0===e?null:e}function E(t,e){return t&&(t[e]||(t[e]={}))}b.packageExport=function(t,e,n){(n=void 0===n?w():n)&&((t=t.split(".")).slice(0,t.length-1).reduce(E,n)[t[t.length-1]]=e)};var D={generateGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return t="y"===t?(3&e|8).toString(16):e.toString(16)}))}},S={error:function(t){for(var e=[],n=0;n<arguments.length;++n)e[n-0]=arguments[n];_((function(){throw new(Function.prototype.bind.apply(Error,[null,"Could not complete the test successfully - "].concat(r.arrayFromIterable(e))))}),(function(){return console.error.apply(console,r.arrayFromIterable(e))}))},debug:function(t){for(var e=[],n=0;n<arguments.length;++n)e[n-0]=arguments[n];_((function(){}),(function(){return console.error.apply(console,r.arrayFromIterable(e))}))}};function _(t,e){"undefined"!=typeof jasmine&&jasmine?t():"undefined"!=typeof console&&console&&console.error&&e()}var A={},T=eval("this");function O(){if(void 0!==t&&t)return t;if(void 0!==n.g&&n.g)return n.g;if("undefined"!=typeof window&&window)return window;if(void 0!==T&&T)return T;throw Error("Could not determine global object context.")}A.omidGlobal=O();var C={};function M(t){return null!=t&&void 0!==t.top&&null!=t.top}function V(t){return""===t.x||""!==t.x}C.isCrossOrigin=function(t){if(t===A.omidGlobal)return!1;try{if(void 0===t.location.hostname)return!0;V(t)}catch(t){return!0}return!1},C.resolveGlobalContext=function(t){return void 0===t&&"undefined"!=typeof window&&window&&(t=window),M(t)?t:A.omidGlobal},C.resolveTopWindowContext=function(t){return M(t)?t.top:A.omidGlobal},C.evaluatePageUrl=function(t){if(!M(t))return null;try{var e=t.top;return(0,C.isCrossOrigin)(e)?null:e.location.href}catch(t){return null}};var P=function(t,e){e=void 0===e?A.omidGlobal:e,h.call(this,e);var n=this;this.communicationType_=p.CommunicationType.POST_MESSAGE,t.addEventListener("message",(function(t){if("object"==typeof t.data){var e=t.data;f.isValidSerializedMessage(e)&&(e=f.deserialize(e),t.source&&n.handleMessage(e,t.source))}}))};r.inherits(P,h),P.isCompatibleContext=function(t){return!!(t&&t.addEventListener&&t.postMessage)},P.prototype.sendMessage=function(t,e){if(!(e=void 0===e?this.to:e))throw Error("Message destination must be defined at construction time or when sending the message.");e.postMessage(t.serialize(),"*")},P.prototype.isCrossOrigin=function(){return!this.to||(0,C.isCrossOrigin)(this.to)};var I=function(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r},B={},j=["omid","v1_SessionServiceCommunication"],L=["omid","v1_VerificationServiceCommunication"],R=["omidVerificationProperties","serviceWindow"];function x(t,e){return e.reduce((function(t,e){return t&&t[e]}),t)}function k(t,e,n,r){if(!(0,C.isCrossOrigin)(e))try{var i=x(e,n);if(i)return new g(i)}catch(t){}return r(e)?new P(t,e):null}function W(t,e,n,i){for(var o=(e=r.makeIterator(e)).next();!o.done;o=e.next())if(o=k(t,o.value,n,i))return o;return null}B.startSessionServiceCommunication=function(t,e,n){n=void 0===n?y.isOmidPresent:n;var r=[t,(0,C.resolveTopWindowContext)(t)];return e&&r.unshift(e),W(t,r,j,n)},B.startVerificationServiceCommunication=function(t,e){e=void 0===e?y.isOmidPresent:e;var n=[],r=x(t,R);return r&&n.push(r),n.push((0,C.resolveTopWindowContext)(t)),W(t,n,L,e)};var U=function(t,e,n,r){this.isSkippable=t,this.skipOffset=e,this.isAutoPlay=n,this.position=r};U.prototype.toJSON=function(){return{isSkippable:this.isSkippable,skipOffset:this.skipOffset,isAutoPlay:this.isAutoPlay,position:this.position}};var N={ApiVersion:"1.0",Version:"1.3.17-iab2651"},F=N.Version,z;function H(){var t=A.omidGlobal.omid3p;return t&&"function"==typeof t.registerSessionObserver&&"function"==typeof t.addEventListener?t:null}var G=function(t){(this.communication=t||(0,B.startVerificationServiceCommunication)((0,C.resolveGlobalContext)()))?this.communication.onMessage=this.handleMessage_.bind(this):(t=H())&&(this.omid3p=t),this.remoteIntervals_=this.remoteTimeouts_=0,this.callbackMap_={},this.imgCache_=[],this.injectionId_=(t=A.omidGlobal.omidVerificationProperties)?t.injectionId:void 0};G.prototype.isSupported=function(){return!(!this.communication&&!this.omid3p)},G.prototype.injectionSource=function(){var t=A.omidGlobal.omidVerificationProperties;if(t&&t.injectionSource)return t.injectionSource},G.prototype.registerSessionObserver=function(t,e){(0,i.assertFunction)("functionToExecute",t),this.omid3p?this.omid3p.registerSessionObserver(t,e,this.injectionId_):this.sendMessage_("addSessionListener",t,e,this.injectionId_)},G.prototype.addEventListener=function(t,e){(0,i.assertTruthyString)("eventType",t),(0,i.assertFunction)("functionToExecute",e),this.omid3p?this.omid3p.addEventListener(t,e):this.sendMessage_("addEventListener",e,t)},G.prototype.sendUrl=function(t,e,n){(0,i.assertTruthyString)("url",t),A.omidGlobal.document&&A.omidGlobal.document.createElement?this.sendUrlWithImg_(t,e,n):this.sendMessage_("sendUrl",(function(t){t&&e?e():!t&&n&&n()}),t)},G.prototype.sendUrlWithImg_=function(t,e,n){var r=this,i=A.omidGlobal.document.createElement("img");this.imgCache_.push(i);var o=function(t){var e=r.imgCache_.indexOf(i);0<=e&&r.imgCache_.splice(e,1),t&&t()};i.addEventListener("load",o.bind(this,e)),i.addEventListener("error",o.bind(this,n)),i.src=t},G.prototype.injectJavaScriptResource=function(t,e,n){var r=this;(0,i.assertTruthyString)("url",t),A.omidGlobal.document?this.injectJavascriptResourceUrlInDom_(t,e,n):this.sendMessage_("injectJavaScriptResource",(function(i,o){i?(r.evaluateJavaScript_(o,t),e()):(S.error("Service failed to load JavaScript resource."),n())}),t)},G.prototype.injectJavascriptResourceUrlInDom_=function(t,e,n){var r=A.omidGlobal.document,i=r.body;(r=r.createElement("script")).onload=e,r.onerror=n,r.src=t,r.type="application/javascript",i.appendChild(r)},G.prototype.evaluateJavaScript_=function(t,e){try{eval(t)}catch(t){S.error('Error evaluating the JavaScript resource from "'+e+'".')}},G.prototype.setTimeout=function(t,e){if((0,i.assertFunction)("functionToExecute",t),(0,i.assertPositiveNumber)("timeInMillis",e),this.hasTimeoutMethods_())return A.omidGlobal.setTimeout(t,e);var n=this.remoteTimeouts_++;return this.sendMessage_("setTimeout",t,n,e),n},G.prototype.clearTimeout=function(t){(0,i.assertPositiveNumber)("timeoutId",t),this.hasTimeoutMethods_()?A.omidGlobal.clearTimeout(t):this.sendOneWayMessage_("clearTimeout",t)},G.prototype.setInterval=function(t,e){if((0,i.assertFunction)("functionToExecute",t),(0,i.assertPositiveNumber)("timeInMillis",e),this.hasIntervalMethods_())return A.omidGlobal.setInterval(t,e);var n=this.remoteIntervals_++;return this.sendMessage_("setInterval",t,n,e),n},G.prototype.clearInterval=function(t){(0,i.assertPositiveNumber)("intervalId",t),this.hasIntervalMethods_()?A.omidGlobal.clearInterval(t):this.sendOneWayMessage_("clearInterval",t)},G.prototype.hasTimeoutMethods_=function(){return"function"==typeof A.omidGlobal.setTimeout&&"function"==typeof A.omidGlobal.clearTimeout},G.prototype.hasIntervalMethods_=function(){return"function"==typeof A.omidGlobal.setInterval&&"function"==typeof A.omidGlobal.clearInterval},G.prototype.handleMessage_=function(t,e){e=t.method;var n=t.guid;if(t=t.args,"response"===e&&this.callbackMap_[n]){var r=(0,s.deserializeMessageArgs)(F,t);this.callbackMap_[n].apply(this,r)}"error"===e&&window.console&&S.error(t)},G.prototype.sendOneWayMessage_=function(t,e){for(var n=[],i=1;i<arguments.length;++i)n[i-1]=arguments[i];this.sendMessage_.apply(this,[t,null].concat(r.arrayFromIterable(n)))},G.prototype.sendMessage_=function(t,e,n){for(var r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];this.communication&&(i=(0,D.generateGuid)(),e&&(this.callbackMap_[i]=e),r=new f(i,"VerificationService."+t,F,(0,s.serializeMessageArgs)(F,r)),this.communication.sendMessage(r))},(0,b.packageExport)("OmidVerificationClient",G)}),e),t.exports=function(){return e.OmidVerificationClient}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();var __webpack_exports__={};!function(){try{__webpack_require__(6608)()}catch(s){var t="https://tps.doubleverify.com/visit.jpg",e=3438,n=void 0;try{var r=__webpack_require__(7258).DvTagDataObject,i=__webpack_require__(4472).DvObject,o=__webpack_require__(5191).WindowAdaptor;t=""+r.getServerPrefix()+r.getErrorPath(),e=i.getDvtpScriptVersion(),n=o.getScenarioType()}catch(t){}var a=t+"?ctx=818052&cmp=1619415&dvtagver=6.1.src&dvp_isLostImp=1&cerrt=4&jsver=3438&tgjsver="+e;if("function"==typeof encodeURI)a+="&napr=WebPackConfig__"+encodeURI(s.message);n&&(a+="&tstype="+n),"object"==typeof omidNative&&"function"==typeof omidNative.sendUrl?(a+="&dvp_iomd=1",n||(a+="&tstype=4"),omidNative.sendUrl(a)):(new Image).src=a}}();